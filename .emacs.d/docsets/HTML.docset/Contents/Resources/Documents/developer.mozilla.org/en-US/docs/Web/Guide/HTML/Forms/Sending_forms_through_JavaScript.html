<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 09:52:02 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"><script async="" src="../../../../../../../www.google-analytics.com/analytics.js"></script>
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
        
    <title>Sending forms through JavaScript</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

              <link rel="stylesheet" media="all" href="../../../../../../../developer.cdn.mozilla.net/static/css/mdn-min2bff.css?build=2aab9d6">

      
    <link rel="stylesheet" media="all" href="../../../../../../../developer.cdn.mozilla.net/static/css/wiki-min2bff.css?build=2aab9d6">

    
    
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.png">
  <meta name="twitter:site" content="@MozDevNet">
  <meta name="twitter:creator" content="@MozDevNet">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../../developer.cdn.mozilla.net/static/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../../developer.cdn.mozilla.net/static/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../../developer.cdn.mozilla.net/static/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../../developer.cdn.mozilla.net/static/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="../../../../../../../developer.cdn.mozilla.net/static/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/static/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript$json">
  <link rel="canonical" href="Sending_forms_through_JavaScript.html">

            <link rel="alternate" hreflang="ja" href="https://developer.mozilla.org/ja/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" title="JavaScript によるフォームの送信">
          <link rel="alternate" hreflang="zh-CN" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" title="使用JavaScript发送表单">
      
  <!-- document-specific social tags -->
  <meta property="og:title" content="Sending forms through JavaScript">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript">
  <meta name="twitter:title" content="Sending forms through JavaScript">
    <meta property="og:description" content="As shown in a previous article, an HTML form is a convenient way to set up an HTTP request in a declarative way. But in many cases, forms can also be useful for setting up an HTTP request using just JavaScript code. There are several ways to handle this; this article will explore them.">
  <meta name="description" content="As shown in a previous article, an HTML form is a convenient way to set up an HTTP request in a declarative way. But in many cases, forms can also be useful for setting up an HTTP request using just JavaScript code. There are several ways to handle this; this article will explore them.">
  <meta name="twitter:description" content="As shown in a previous article, an HTML form is a convenient way to set up an HTTP request in a declarative way. But in many cases, forms can also be useful for setting up an HTTP request using just JavaScript code. There are several ways to handle this; this article will explore them.">
  
      
  </head>
<body data-slug="Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" contextmenu="edit-history-menu" data-search-url="" class="document  ">

  <script type="text/javascript">
    

(function (globals) {

  var django = globals.django || (globals.django = {});

  
  django.pluralidx = function (count) { return (count == 1) ? 0 : 1; };
  

  
  /* gettext identity library */

  django.gettext = function (msgid) { return msgid; };
  django.ngettext = function (singular, plural, count) { return (count == 1) ? singular : plural; };
  django.gettext_noop = function (msgid) { return msgid; };
  django.pgettext = function (context, msgid) { return msgid; };
  django.npgettext = function (context, singular, plural, count) { return (count == 1) ? singular : plural; };
  

  django.interpolate = function (fmt, obj, named) {
    if (named) {
      return fmt.replace(/%\(\w+\)s/g, function(match){return String(obj[match.slice(2,-2)])});
    } else {
      return fmt.replace(/%s/g, function(match){return String(obj.shift())});
    }
  };


  /* formatting library */

  django.formats = {
    "DATETIME_FORMAT": "N j, Y, P", 
    "DATETIME_INPUT_FORMATS": [
      "%Y-%m-%d %H:%M:%S", 
      "%Y-%m-%d %H:%M:%S.%f", 
      "%Y-%m-%d %H:%M", 
      "%Y-%m-%d", 
      "%m/%d/%Y %H:%M:%S", 
      "%m/%d/%Y %H:%M:%S.%f", 
      "%m/%d/%Y %H:%M", 
      "%m/%d/%Y", 
      "%m/%d/%y %H:%M:%S", 
      "%m/%d/%y %H:%M:%S.%f", 
      "%m/%d/%y %H:%M", 
      "%m/%d/%y"
    ], 
    "DATE_FORMAT": "N j, Y", 
    "DATE_INPUT_FORMATS": [
      "%Y-%m-%d", 
      "%m/%d/%Y", 
      "%m/%d/%y"
    ], 
    "DECIMAL_SEPARATOR": ".", 
    "FIRST_DAY_OF_WEEK": "0", 
    "MONTH_DAY_FORMAT": "F j", 
    "NUMBER_GROUPING": "3", 
    "SHORT_DATETIME_FORMAT": "m/d/Y P", 
    "SHORT_DATE_FORMAT": "m/d/Y", 
    "THOUSAND_SEPARATOR": ",", 
    "TIME_FORMAT": "P", 
    "TIME_INPUT_FORMATS": [
      "%H:%M:%S", 
      "%H:%M:%S.%f", 
      "%H:%M"
    ], 
    "YEAR_MONTH_FORMAT": "F Y"
  };

  django.get_format = function (format_type) {
    var value = django.formats[format_type];
    if (typeof(value) == 'undefined') {
      return format_type;
    } else {
      return value;
    }
  };

  /* add to global namespace */
  globals.pluralidx = django.pluralidx;
  globals.gettext = django.gettext;
  globals.ngettext = django.ngettext;
  globals.gettext_noop = django.gettext_noop;
  globals.pgettext = django.pgettext;
  globals.npgettext = django.npgettext;
  globals.interpolate = django.interpolate;
  globals.get_format = django.get_format;

}(this));



    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'header_feedback': true,'helpfulness': false,'kumaediting': false,'mdn10_logo': true,'mdn10_tile': true,'page_move': false,'registration_disabled': false,'search_suggestions': false,'share_links': false,'wiki_samples': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': false,'store_revision_ips': true,'dumb_doc_urls': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        
        // This represents the site configuration
        win.mdn = {
            build: '2aab9d6',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to static assets (images, CSS, JS) in MDN
            staticPath: 'https://developer.cdn.mozilla.net/static/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
                        notifications: [],
                        // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            }
        };
    })(this);
</script>
    <div class="global-notice">
    <div class="wrap center">
              <p><bdi>Join MDN and developers like you at Mozilla's View Source conference, November 2-4 in Portland, Oregon. Learn more at <a href="https://viewsourceconf.org/">https://viewsourceconf.org/</a>.</bdi></p>
          </div>
  </div>


  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
          <li><a href="#q" id="skip-search">Skip to search</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div id="tabzilla">
        <a href="http://www.mozilla.org/" class="no-track">mozilla</a>
    </div>

    <div class="clear header-clear"></div>

            <a href="https://developer.mozilla.org/en-US/" class="logo logo-mdn10">Mozilla Developer Network</a>
    
    <div id="nav-sec">
                          <ul>
                  <li>
    
    <form>
      <div class="oauth-login-container">
          <div class="oauth-login-options" tabindex="0">
              <span class="oauth-login-options-text">
                <span class="oauth-login-options-text-icons">Sign in with</span>
                <span class="oauth-login-options-text-no-icons">Sign in</span>
              </span>
              <span class="oauth-icon oauth-persona launch-persona-login wait-for-persona disabled" data-service="Persona" data-next="/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" title="Persona"><i class="icon-user" aria-hidden="true"></i></span>
              <span class="oauth-icon oauth-github" data-service="GitHub" data-href="/users/github/login/?next=%2Fen-US%2Fdocs%2FWeb%2FGuide%2FHTML%2FForms%2FSending_forms_through_JavaScript" title="GitHub"><i class="icon-github" aria-hidden="true"></i></span>
          </div>
          <div class="oauth-login-picker" aria-hidden="true">
              <ul>
                  <li class="wait-for-persona disabled"><a href="https://developer.mozilla.org/en-US/users/signin" class="login-link launch-persona-login" data-next="/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                  <li><a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2Fdocs%2FWeb%2FGuide%2FHTML%2FForms%2FSending_forms_through_JavaScript" class="login-link" data-service="GitHub"><i class="icon-github" aria-hidden="true"></i>GitHub</a></li>
              </ul>
          </div>
      </div>
    </form>
</li>
                </ul>
            </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-cols-2 js-submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="../../../HTML.html">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/API">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References &amp; Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learn the Web</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Mozilla Docs<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a></li><li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li><li><a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-contact-submenu">
          <div class="submenu-column">
            <ul>
                <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li>
                <li><a href="http://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a></li>
              <li><a href="https://bugzilla.mozilla.org/form.doc">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li>
              <li><a href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
          </div>
        </div>

      </li><li class="nav-search-link"><a href="https://developer.mozilla.org/en-US/search" title="Search"><i aria-hidden="true" class="icon-search"></i></a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="">
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
   <!-- end is_zone -->


    <div class="wiki-main-content" id="document-main"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
        
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                                                <li><bdi><a rel="internal" href="https://developer.mozilla.org/ja/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" title="JavaScript によるフォームの送信">日本語</a></bdi></li>
                                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" title="使用JavaScript发送表单">中文 (简体)</a></bdi></li>
                              
                              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li>
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu js-submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript$history" rel="nofollow, noindex">History</a></li>
                                                                
                
                                                                <li class="page-print"><a href="#" onclick="return window.print();">Print this page</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Web" rel="v:url" property="v:title">Web technology for developers</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide" rel="v:url" property="v:title">Web developer guide</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../../HTML.html" rel="v:url" property="v:title">HTML developer guide</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../Forms.html" rel="v:url" property="v:title">HTML forms guide</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">Sending forms through JavaScript</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc submenu">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>

        <h1>Sending forms through JavaScript</h1>

        
                <div class="contributor-avatars" data-all-text="Show all…&lt;span class='hidden'&gt;contributors&lt;/span&gt;">
            <span class="quickstat">
            by 9 contributors:            </span>
            <ul>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/uddin" title="View profile: uddin">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="uddin" data-src="../../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">uddin</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/RufusCSharma" title="View profile: RufusCSharma">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="RufusCSharma" data-src="../../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">RufusCSharma</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/afzaal_ahmad_zeeshan" title="View profile: afzaal_ahmad_zeeshan">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="afzaal_ahmad_zeeshan" data-src="../../../../../../../secure.gravatar.com/avatar/4911cf5fe6ebc2fde9d2a3346098956c6aac.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">afzaal_ahmad_zeeshan</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/dhodder" title="View profile: dhodder">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="dhodder" data-src="../../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">dhodder</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/DarkNexus" title="View profile: DarkNexus">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="DarkNexus" data-src="../../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">DarkNexus</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/kohei.yoshino" title="View profile: kohei.yoshino">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="kohei.yoshino" data-src="../../../../../../../secure.gravatar.com/avatar/f84bbc6968ecda0a64ab50d1060c320e6aac.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">kohei.yoshino</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Jeremie" title="View profile: Jeremie">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Jeremie" data-src="../../../../../../../secure.gravatar.com/avatar/ea74cf7f528273838138e9ae407cd8ef6aac.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">Jeremie</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/kscarfone" title="View profile: kscarfone">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="kscarfone" data-src="../../../../../../../secure.gravatar.com/avatar/89c1e54a9703125168e40d22316d2b496aac.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">kscarfone</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Sheppy" title="View profile: Sheppy">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Sheppy" data-src="../../../../../../../secure.gravatar.com/avatar/945076feb88f2d7003891ffbf06f32bf6aac.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">Sheppy</noscript></a>
                </li>
                        </ul>
        </div>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable" data-closed="true">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <li><a href="#A_form_is_not_always_a_form" rel="internal">A form is not always a form</a><ol><li><a href="#Gaining_control_of_the_global_interface" rel="internal">Gaining control of the global interface</a></li><li><a href="#How_is_it_different.3F" rel="internal">How is it different?</a></li></ol></li><li><a href="#Sending_form_data" rel="internal">Sending form data</a><ol><li><a href="#Building_a_DOM_in_a_hidden_iframe" rel="internal">Building a DOM in a hidden iframe</a></li><li><a href="#Building_an_XMLHttpRequest_manually" rel="internal">Building an XMLHttpRequest manually</a></li><li><a href="#Using_XMLHttpRequest_and_the_FormData_object" rel="internal">Using XMLHttpRequest and the FormData object</a><ol><li><a href="#Using_a_standalone_FormData_object" rel="internal">Using a standalone FormData object</a></li><li><a href="#Using_FormData_bound_to_a_form_element" rel="internal">Using FormData bound to a form element</a></li></ol></li></ol></li><li><a href="#Dealing_with_binary_data" rel="internal">Dealing with binary data</a></li><li><a href="#Conclusion" rel="internal">Conclusion</a>
                </li></ol>
                              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              
              
                                                                                          
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <p>As shown <a href="Sending_and_retrieving_form_data.html" title="/en-US/docs/HTML/Forms/Sending_and_retrieving_form_data">in a previous article</a>, an HTML form is a convenient way to set up an <a href="https://developer.mozilla.org/en-US/docs/HTTP" title="/en-US/docs/HTTP">HTTP</a> request in a declarative way. But in many cases, forms can also be useful for setting up an HTTP request using just JavaScript code. There are several ways to handle this; this article will explore them.</p>
<h2 id="A_form_is_not_always_a_form">A form is not always a form</h2>
<p>With the advent of <a href="https://developer.mozilla.org/en-US/docs/Open_Web_apps_and_Web_standards" title="/en-US/docs/Open_Web_apps_and_Web_standards">open Web apps</a>, it's increasingly common to use <a href="../../../../HTML/Forms.png" title="/en-US/docs/HTML/Forms">HTML forms</a> in ways other than as literal forms for humans to fill out; more and more developers are trying to take control over the process of transmitting data.</p>
<h3 id="Gaining_control_of_the_global_interface">Gaining control of the global interface</h3>
<p>The main reason to control the way data gets sent is to remain in control of the user interface (UI). Standard use of HTML forms requires loading the page to which the data is sent, which means the entire page is refreshed. In many modern interfaces, that's usually something we want to avoid in order to give a smooth experience to the user by removing flickering or by hiding network lag.</p>
<p>To reach that goal, many modern UIs use HTML forms only to collect data from the user. Once the user is ready to send the data, the application takes control and sends the data asynchronously in the background, dealing with the UI to change only the parts that require changes.</p>
<p>Sending arbitrary data asynchronously is known as <a href="https://developer.mozilla.org/en-US/docs/AJAX" title="/en-US/docs/AJAX">AJAX</a>, which is an acronym that stands for "Asynchronous JavaScript And XML."</p>
<h3 id="How_is_it_different.3F">How is it different?</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/AJAX" title="/en-US/docs/AJAX">AJAX</a> techniques mainly rely on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a> (XHR) DOM object. That object is a powerful tool that lets you build HTTP requests, send them, then retrieve the result of those requests.</p>
<div class="note">
 <p><strong>Note:</strong> There are other AJAX techniques that do not rely on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a> DOM object. For example, a mix of <a class="external" href="http://en.wikipedia.org/wiki/JSONP" rel="external" title="http://en.wikipedia.org/wiki/JSONP">JSONP</a> and the use of the <a href="https://developer.mozilla.org/en-US/docs/Core_JavaScript_1.5_Reference:Global_Functions:eval" title="/en-US/docs/Core_JavaScript_1.5_Reference:Global_Functions:eval"><code>eval()</code></a> function can be used. While that works, it's not recommended because it can lead to serious security issues. The only reason to do that is to deal with the lack of support for <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a> or <a href="https://developer.mozilla.org/en-US/docs/JSON" title="/en-US/docs/JSON">JSON</a> in legacy browsers, but those are very, very old browsers indeed! <strong>You should avoid such techniques</strong>.</p>
</div>
<p>From a historical point of view, <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a> was intended to be used with <a href="https://developer.mozilla.org/en-US/docs/XML" title="/en-US/docs/XML">XML</a> as an exchange format. However, due to its overwhelming adoption rate, <a href="https://developer.mozilla.org/en-US/docs/JSON" title="/en-US/docs/JSON">JSON</a> has superseded XML. That said, there's no right or wrong choice here: JSON is a lightweight, structured format, while XML is a more semantic format. On the one hand, JSON is a better choice if you need to reduce the network footprint; on the other hand, XML offers more information about the data itself and its structure. The choice is up to you.</p>
<p>Still, in both cases, such structured data doesn't fit the structure of form data requests. In their most basic form, form data requests are URL-encoded lists of key/value pairs. For binary data, the whole HTTP request is reshaped to handle it.</p>
<p>If you control both the front-end (that is, the code that's executed in the browser) and the back-end (which is executed on the web server), this isn't a problem, because you can define the data structure on both sides as you see fit.</p>
<p>Unfortunately, if you want to use a third party service, it's not that easy. Sometimes, you have to deal with services that accept data as a form data request only. There are also cases where it's just simpler to deal with form data. If the data consists of key/value pairs, or if you want to send binary data, there are many stacks of back-end tools already available to handle data of that nature.</p>
<p>So how is it possible to send such data?</p>
<h2 id="Sending_form_data">Sending form data</h2>
<p>There are actually three ways to send form data, starting with legacy techniques to the much newer <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> object. Let's look at these techniques in more detail.</p>
<h3 id="Building_a_DOM_in_a_hidden_iframe">Building a DOM in a hidden iframe</h3>
<p>The oldest way to send form data programmatically is by building a form using the DOM API, then sending its data into a hidden <a href="../../../HTML/Element/iframe.html" title="The HTML &lt;iframe&gt; Element (or HTML inline frame element) represents a nested browsing context, effectively embedding another HTML page into the current page. In HTML 4.01, a document may contain a head and a body or a head and a frame-set, but not both a body and a frame-set. However,an &lt;iframe&gt; can be used within a normal document body. Each browsing context has its own session history and active document. The browsing context that contains the embedded content is called the parent browsing context. The top-level browsing context (which has no parent) is typically the browser window."><code>&lt;iframe&gt;</code></a>. You just have to retrieve the content of the hidden <a href="../../../HTML/Element/iframe.html" title="The HTML &lt;iframe&gt; Element (or HTML inline frame element) represents a nested browsing context, effectively embedding another HTML page into the current page. In HTML 4.01, a document may contain a head and a body or a head and a frame-set, but not both a body and a frame-set. However,an &lt;iframe&gt; can be used within a normal document body. Each browsing context has its own session history and active document. The browsing context that contains the embedded content is called the parent browsing context. The top-level browsing context (which has no parent) is typically the browser window."><code>&lt;iframe&gt;</code></a> if you want to access the result of what you sent.</p>
<div class="warning">
 <p><strong>Warning:</strong> This technique has many drawbacks and <strong>you should avoid using it</strong>. It's a potential security risk when used with third-party services because it's an open door to <a class="external" href="http://en.wikipedia.org/wiki/Cross-site_scripting" rel="external" title="http://en.wikipedia.org/wiki/Cross-site_scripting">script injection attacks</a>. If you use HTTPS, it can have effects on <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Same_origin_policy_for_JavaScript" title="/en-US/docs/JavaScript/Same_origin_policy_for_JavaScript">the same origin policy</a>, which can make the content of an <a href="../../../HTML/Element/iframe.html" title="The HTML &lt;iframe&gt; Element (or HTML inline frame element) represents a nested browsing context, effectively embedding another HTML page into the current page. In HTML 4.01, a document may contain a head and a body or a head and a frame-set, but not both a body and a frame-set. However,an &lt;iframe&gt; can be used within a normal document body. Each browsing context has its own session history and active document. The browsing context that contains the embedded content is called the parent browsing context. The top-level browsing context (which has no parent) is typically the browser window."><code>&lt;iframe&gt;</code></a> unreachable. However, this method will work with very old browsers, and may be your only option if you need to support archaic software.</p>
</div>
<p>Here is a simple example:</p>
<pre class="brush: html">&lt;button onclick="sendData({test:'ok'})"&gt;Click Me!&lt;/button&gt;</pre>
<p>All the magic is in the script</p>
<pre class="brush: js">// Let's create the iFrame used to send our data
var iframe = document.createElement("iframe");
iframe.name = "myTarget";

// Next, attach the iFrame to the main document
window.addEventListener("load", function () {
  iframe.style.display = "none";
  document.body.appendChild(iframe);
});

// This is the function used to actually send the data
// It takes one parameter, which is an object populated with key/value pairs.
function sendData(data) {
  var name,
      form = document.createElement("form"),
      node = document.createElement("input");

  // Define what should happen when the response is loaded
  iframe.addEventListener("load", function () {
    alert("Yeah! Data sent.");
  });
    
  form.action = "http://www.cs.tut.fi/cgi-bin/run/~jkorpela/echo.cgi";
  form.target = iframe.name;

  for(name in data) {
    node.name  = name;
    node.value = data[name].toString();
    form.appendChild(node.cloneNode());
  }

  // To be sent, the form needs to be attached to the main document.
  form.style.display = "none";
  document.body.appendChild(form);

  form.submit();

  // But once the form is sent, it's useless to keep it.
  document.body.removeChild(form);
}</pre>
<p>And here's the live result:</p>
<p><iframe class="live-sample-frame" frameborder="0" height="50" src="../../../../../../../mdn.mozillademos.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript%24samples/Building_a_DOM_in_a_hidden_iframe2b21.html?revision=651601" width="100%"></iframe></p>
<h3 id="Building_an_XMLHttpRequest_manually">Building an XMLHttpRequest manually</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a> is easily the safest and most reliable way to handle HTTP requests. To send form data with <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a>, you need to handle encoding the data properly; all data must be URL-encoded. You also need to know the specifics of form data requests.</p>
<div class="note">
 <p><strong>Note:</strong> If you want to know more about using <code>XMLHttpRequest</code>, there are two articles that may interest you: <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" title="/en-US/docs/AJAX/Getting_Started">An introductory article to AJAX</a> and a more advanced article about <a href="https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Using_XMLHttpRequest" title="/en-US/docs/DOM/XMLHttpRequest/Using_XMLHttpRequest">using XMLHttpRequest</a> itself.</p>
</div>
<p>Let's rebuild our previous example:</p>
<pre class="brush: html">&lt;button type="button" onclick="sendData({test:'ok'})"&gt;Click Me!&lt;/button&gt;</pre>
<p>As you can see, the HTML hasn't really changed. However, the underlying JavaScript code is completely different:</p>
<pre class="brush: js">function sendData(data) {
  var XHR = new XMLHttpRequest();
  var urlEncodedData = "";
  var urlEncodedDataPairs = [];
  var name;

  // We turn the data object into an array of URL encoded key value pairs.
  for(name in data) {
    urlEncodedDataPairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
  }

  // We combine the pairs into a single string and replace all encoded spaces to 
  // the plus character to match the behaviour of the web browser form submit.
  urlEncodedData = urlEncodedDataPairs.join('&amp;').replace(/%20/g, '+');

  // We define what will happen if the data is successfully sent
  XHR.addEventListener('load', function(event) {
    alert('Yeah! Data sent and response loaded.');
  });

  // We define what will happen in case of error
  XHR.addEventListener('error', function(event) {
    alert('Oups! Something goes wrong.');
  });

  // We setup our request
  XHR.open('POST', 'http://ucommbieber.unl.edu/CORS/cors.php');

  // We add the required HTTP header to handle a form data POST request
  XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  XHR.setRequestHeader('Content-Length', urlEncodedData.length);

  // And finally, We send our data.
  XHR.send(urlEncodedData);
}</pre>
<p>And here's the live result:</p>
<p><iframe class="live-sample-frame" frameborder="0" height="50" src="../../../../../../../mdn.mozillademos.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript%24samples/Building_an_XMLHttpRequest_manually2b21.html?revision=651601" width="100%"></iframe></p>
<div class="note">
 <p><strong>Note:</strong> This kind of use of <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest is a JavaScript object that was designed by Microsoft and adopted by Mozilla, Apple, and Google. It's now being standardized in the W3C. It provides an easy way to retrieve data from a URL without having to do a full page refresh. A Web page can update just a part of the page without disrupting what the user is doing. &nbsp;XMLHttpRequest&nbsp;is used heavily in AJAX programming."><code>XMLHttpRequest</code></a> is subject to the same origin policy if you want to send data to a third party web site. To perform cross origin requests, you should familiarize yourself with <a href="https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS" title="/en-US/docs/HTTP/Access_control_CORS">CORS and HTTP access control</a>.</p>
</div>
<h3 id="Using_XMLHttpRequest_and_the_FormData_object">Using XMLHttpRequest and the FormData object</h3>
<p>Building an HTTP request by hand is always a bit overwhelming. Fortunately, a recent evolution of <a class="external" href="http://www.w3.org/TR/XMLHttpRequest/" rel="external" title="http://www.w3.org/TR/XMLHttpRequest/">the XMLHttpRequest specification</a> provides a convenient and simpler way to handle form data requests. It's the <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> object.</p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> object can be used in two ways; you can use it to build a set of data to transmit, or to get the data represented by a given form element so you can manage how it gets sent. It's worth noting that <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> objects are "write only" objects, which means you can make changes to them, but you can't retrieve their contents.</p>
<p>How to use this type of object is detailed in the article <a href="https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/FormData/Using_FormData_Objects" title="/en-US/docs/DOM/XMLHttpRequest/FormData/Using_FormData_Objects">Using FormData Objects</a>, but here are two simple examples:</p>
<h4 id="Using_a_standalone_FormData_object">Using a standalone FormData object</h4>
<pre class="brush: html">&lt;button type="button" onclick="sendData({test:'ok'})"&gt;Click Me!&lt;/button&gt;</pre>
<p>You should be familiar with that HTML sample.</p>
<pre class="brush: js">function sendData(data) {
  var XHR = new XMLHttpRequest();
  var FD  = new FormData();

  // We push our data into our FormData object
  for(name in data) {
    FD.append(name, data[name]);
  }

  // We define what will happen if the data are successfully sent
  XHR.addEventListener('load', function(event) {
    alert('Yeah! Data sent and response loaded.');
  });

  // We define what will happen in case of error
  XHR.addEventListener('error', function(event) {
    alert('Oups! Something goes wrong.');
  });

  // We setup our request
  XHR.open('POST', 'http://ucommbieber.unl.edu/CORS/cors.php');

  // We just send our FormData object, HTTP headers are set automatically
  XHR.send(FD);
}</pre>
<p>And here's the live result:</p>
<p><iframe class="live-sample-frame" frameborder="0" height="50" src="../../../../../../../mdn.mozillademos.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript%24samples/Using_a_standalone_FormData_object2b21.html?revision=651601" width="100%"></iframe></p>
<h4 id="Using_FormData_bound_to_a_form_element">Using FormData bound to a form element</h4>
<p>You can also bind a <code>FormData</code> object to a <a href="../../../HTML/Element/form.html" title="The HTML &lt;form&gt; element represents a document section that contains interactive controls to submit information to a web server."><code>&lt;form&gt;</code></a> element. This lets you quickly get a <code>FormData</code> that represents the data contained in the form.</p>
<p>The HTML part looks pretty typical:</p>
<pre class="brush: html">&lt;form id="myForm"&gt;
  &lt;label for="myName"&gt;Send me your name:&lt;/label&gt;
  &lt;input id="myName" name="name" value="John"&gt;
  &lt;input type="submit" value="Send Me!"&gt;
&lt;/form&gt;</pre>
<p>But JavaScript takes over the form.</p>
<pre class="brush: js">window.addEventListener("load", function () {
  function sendData() {
    var XHR = new XMLHttpRequest();

    // We bind the FormData object and the form element
    var FD  = new FormData(form);

    // We define what will happen if the data are successfully sent
    XHR.addEventListener("load", function(event) {
      alert(event.target.responseText);
    });

    // We define what will happen in case of error
    XHR.addEventListener("error", function(event) {
      alert('Oups! Something goes wrong.');
    });

    // We setup our request
    XHR.open("POST", "http://ucommbieber.unl.edu/CORS/cors.php");

    // The data sent are the one the user provide in the form
    XHR.send(FD);
  }
 
  // We need to access the form element
  var form = document.getElementById("myForm");

  // to takeover its submit event.
  form.addEventListener("submit", function (event) {
    event.preventDefault();

    sendData();
  });
});</pre>
<p>And here's the live result:</p>
<p><iframe class="live-sample-frame" frameborder="0" height="50" src="../../../../../../../mdn.mozillademos.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript%24samples/Using_FormData_bound_to_a_form_element2b21.html?revision=651601" width="100%"></iframe></p>
<h2 id="Dealing_with_binary_data">Dealing with binary data</h2>
<p>One last word about binary data. If you use a <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> object bound to a form that includes file widgets, the data will be processed automatically, but if you want to send binary data by hand, there's some extra work to do.</p>
<p>There are many possible sources for binary data in modern Web design: the <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader" title="The FileReader object lets web applications asynchronously read the contents of files (or raw data buffers) stored on the user's computer, using File or Blob objects to specify the file or data to read."><code>FileReader</code></a> API, the <a href="../../../API/HTMLCanvasElement.html" title="The HTMLCanvasElement interface provides properties and methods for manipulating the layout and presentation of canvas elements. The HTMLCanvasElement interface also inherits the properties and methods of the HTMLElement interface."><code>Canvas</code></a> API, and the <a href="https://developer.mozilla.org/en-US/docs/WebRTC/navigator.getUserMedia" title="/en-US/docs/WebRTC/navigator.getUserMedia">WebRTC</a> API are common ones. Unfortunately, some legacy browsers are not able to access binary data or require complicated workarounds. Accessing binary data in those legacy cases is out of the scope of this article. If you want to know more about the <code>FileReader</code> API, you can read <a href="https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications" title="/en-US/docs/Using_files_from_web_applications">Using files from web applications</a>.</p>
<p>However, sending binary data with a browser that supports <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> isn't hard at all. Just use the <code>append()</code> method as usual and you're done. If, however, you have to do it by hand, it's trickier.</p>
<p>In the following example, we use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader" title="The FileReader object lets web applications asynchronously read the contents of files (or raw data buffers) stored on the user's computer, using File or Blob objects to specify the file or data to read."><code>FileReader</code></a> API to access the binary data and we build the multi-part form data request by hand:</p>
<pre class="brush: html">&lt;form id="myForm"&gt;
  &lt;p&gt;
    &lt;label for="i1"&gt;text data:&lt;/label&gt;
    &lt;input id="i1" name="myText" value="Some text data"&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;label for="i2"&gt;file data:&lt;/label&gt;
    &lt;input id="i2" name="myFile" type="file"&gt;
  &lt;/p&gt;
  &lt;button&gt;Send Me!&lt;/button&gt;
&lt;/form&gt;</pre>
<p>As you see, the HTML is a very standard form. There's nothing magical going on. The "magic" is in the JavaScript code:</p>
<pre class="brush: js">// Because we want to access DOM node,
// we initialize our script at page load.
window.addEventListener('load', function () {

  // This variables will be used to store the form data
  var text = document.getElementById("i1");;
  var file = {
        dom    : document.getElementById("i2"),
        binary : null
      };
 
  // We use the FileReader API to access our file content
  var reader = new FileReader();

  // Because de FileReader API is asynchronous, we need
  // to store it's result when it has finish to read the file
  reader.addEventListener("load", function () {
    file.binary = reader.result;
  });

  // At page load, if a file is already selected, we read it.
  if(file.dom.files[0]) {
    reader.readAsBinaryString(file.dom.files[0]);
  }

  // However, we will read the file once the user selected it.
  file.dom.addEventListener("change", function () {
    if(reader.readyState === FileReader.LOADING) {
      reader.abort();
    }
    
    reader.readAsBinaryString(file.dom.files[0]);
  });

  // The sendData function is our main function
  function sendData() {
    // At first, if there is a file selected, we have to wait it is read
    // If it is not, we delay the execution of the function
    if(!file.binary &amp;&amp; file.dom.files.length &gt; 0) {
      setTimeout(sendData, 10);
      return;
    }

    // To construct our multipart form data request,
    // We need an XMLHttpRequest instance
    var XHR      = new XMLHttpRequest();

    // We need a sperator to define each part of the request
    var boundary = "blob";

    // And we'll store our body request as a string.
    var data     = "";

    // So, if the user has selected a file
    if (file.dom.files[0]) {
      // We start a new part in our body's request
      data += "--" + boundary + "\r\n";

      // We said it's form data (it could be something else)
      data += 'content-disposition: form-data; '
      // We define the name of the form data
            + 'name="'         + file.dom.name          + '"; '
      // We provide the real name of the file
            + 'filename="'     + file.dom.files[0].name + '"\r\n';
      // We provide the mime type of the file
      data += 'Content-Type: ' + file.dom.files[0].type + '\r\n';

      // There is always a blank line between the meta-data and the data
      data += '\r\n';
      
      // We happen the binary data to our body's request
      data += file.binary + '\r\n';
    }

    // For text data, it's simpler
    // We start a new part in our body's request
    data += "--" + boundary + "\r\n";

    // We said it's form data and give it a name
    data += 'content-disposition: form-data; name="' + text.name + '"\r\n';
    // There is always a blank line between the meta-data and the data
    data += '\r\n';

    // We happen the text data to our body's request
    data += text.value + "\r\n";

    // Once we are done, we "close" the body's request
    data += "--" + boundary + "--";

    // We define what will happen if the data are successfully sent
    XHR.addEventListener('load', function(event) {
      alert('Yeah! Data sent and response loaded.');
    });

    // We define what will happen in case of error
    XHR.addEventListener('error', function(event) {
      alert('Oups! Something goes wrong.');
    });

    // We setup our request
    XHR.open('POST', 'http://ucommbieber.unl.edu/CORS/cors.php');

    // We add the required HTTP header to handle a multipart form data POST request
    XHR.setRequestHeader('Content-Type','multipart/form-data; boundary=' + boundary);
    XHR.setRequestHeader('Content-Length', data.length);

    // And finally, We send our data.
    // Due to Firefox's bug 416178, it's required to use sendAsBinary() instead of send()
    XHR.sendAsBinary(data);
  }

  // At least, We need to access our form
  var form   = document.getElementById("myForm");

  // to take over the submit event
  form.addEventListener('submit', function (event) {
    event.preventDefault();
    sendData();
  });
});</pre>
<p>And here's the live result:</p>
<p><iframe class="live-sample-frame" frameborder="0" height="150" src="../../../../../../../mdn.mozillademos.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript%24samples/Dealing_with_binary_data2b21.html?revision=651601" width="100%"></iframe></p>
<div class="note">
 <strong>Note:</strong> The non-standard <code>sendAsBinary</code> method in the example above is considered deprecated as of Gecko 31 (Firefox 31 / Thunderbird 31 / SeaMonkey 2.28) and will be removed soon. The standard <code>send(Blob data)</code> method can be used instead.</div>
<h2 id="Conclusion">Conclusion</h2>
<p>Depending on the browser you want to target, sending form data through JavaScript can be easy or really difficult; if you're only concerned about modern browsers, it can be quite simple. If you need to support legacy browsers, however, it gets more complicated. The <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/FormData" title="XMLHttpRequest Level 2 adds support for the new FormData interface. FormData objects provide a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest send()&nbsp;method."><code>FormData</code></a> object is generally the answer to all your troubles, and you shouldn't hesitate to use a polyfill for it on legacy browsers:</p>
<ul>
 <li><a class="external" href="https://gist.github.com/3120320" rel="external" title="https://gist.github.com/3120320">This GIST</a> is a polyfill to use <code>FormData</code> with <a class="new" href="https://developer.mozilla.org/en-US/docs/Web/API/Using_web_workers" title="The documentation about this has not yet been written; please consider contributing!"><code>Web Workers</code></a>.</li>
 <li><a class="external" href="https://github.com/francois2metz/html5-formdata" rel="external" title="https://github.com/francois2metz/html5-formdata">HTML5-formdata</a> is an attempt to polyfill the <code>FormData</code> object but it requires the support of the <a class="external" href="http://www.w3.org/TR/FileAPI/" rel="external" title="http://www.w3.org/TR/FileAPI/">File API</a></li>
</ul>
                                                </article>

            

              
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                      <div class="tag-attach-list contributors-sub">
    <i aria-hidden="true" class="icon-tags"></i>
    <strong>Tags:</strong>&nbsp;
    <ul class="tags tags-small">
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Advanced">Advanced</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Example">Example</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/forms">forms</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Forms">Forms</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Guide">Guide</a></li>
              <li><a href="../../../../tag/HTML.html">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Javascript">Javascript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Web">Web</a></li>
          </ul>
  </div>

                                      <div class="contributors-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong>         <a href="https://developer.mozilla.org/en-US/profiles/uddin">uddin</a>,             <a href="https://developer.mozilla.org/en-US/profiles/RufusCSharma">RufusCSharma</a>,             <a href="https://developer.mozilla.org/en-US/profiles/afzaal_ahmad_zeeshan">afzaal_ahmad_zeeshan</a>,             <a href="https://developer.mozilla.org/en-US/profiles/dhodder">dhodder</a>,             <a href="https://developer.mozilla.org/en-US/profiles/DarkNexus">DarkNexus</a>,             <a href="https://developer.mozilla.org/en-US/profiles/kohei.yoshino">kohei.yoshino</a>,             <a href="https://developer.mozilla.org/en-US/profiles/Jeremie">Jeremie</a>,             <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>,             <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>     </div>                  
                                      <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/uddin">uddin</a>,
                      <time datetime="2015-08-30T22:03:37-07:00">Aug 30, 2015, 10:03:37 PM</time>
                    </div>
                                  </div>
                          </div>

                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript$edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript$history" label="View page history"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <div class="contentinfo">
          <p>© 2005-2015 Mozilla Developer Network and individual contributors.</p> <p>Content is available under <a href="https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p>          <ul>
            <li><a href="https://developer.mozilla.org/docs/MDN/About">About MDN</a></li>
            <li><a href="http://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/">Privacy</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li>
            <li><a href="http://github.com/mozilla/kuma">Contribute to the code</a></li>
          </ul>
        <p></p>
                </div>
      </div>
      <div class="column-strip">
                        <form class="languages go" method="get" action="https://developer.mozilla.org/en-US/docs/Web">
      <label for="language">Other languages:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" selected="">
          English (US)
        </option>
                  <option value="/ja/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript">
            日本語
          </option>          <option value="/zh-CN/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript">
            中文 (简体)
          </option>      </select>
      <noscript>&lt;button type="submit"&gt;Go&lt;/button&gt;</noscript>
    </form>
                </div>
    </div>
  </div></footer>

  <!-- site js -->
          <!--[if lte IE 8]><script src="https://developer.cdn.mozilla.net/static/js/libs/selectivizr-1.0.2/selectivizr-build.js"></script><![endif]-->

    <form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/signin" data-csrf-token-url="/users/persona/csrf" data-request="{&quot;siteName&quot;: &quot;Mozilla Developer Network&quot;, &quot;siteLogo&quot;: &quot;/static/img/opengraph-logo.png&quot;}" data-persona-script="../../../../../../../login.persona.org/include.js">
  <input type="hidden" name="csrfmiddlewaretoken" value="" id="_persona_csrf_token">
  <input type="hidden" name="next" value="" id="_persona_next_url">
  <input type="hidden" name="process" value="" id="_persona_process">
  <input type="hidden" name="assertion" id="_persona_assertion">
</form>

    <script src="../../../../../../../developer.cdn.mozilla.net/static/js/main-min2bff.js?build=2aab9d6"></script>

      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>

      
    <script src="../../../../../../../developer.cdn.mozilla.net/static/js/wiki-min2bff.js?build=2aab9d6" async="" id="wikiscript"></script>

    <script type="text/javascript">
            mdn.optimizely.push(['activate', 2796520257]);
  </script>

  
  


<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 09:52:05 GMT -->
</body></html>