<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html class="client-nojs" dir="ltr" lang="en"><head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<title>aggregate initialization</title>
<meta charset="UTF-8">
<meta content="MediaWiki 1.21.2" name="generator">


<link href="../../../favicon.ico" rel="shortcut icon">



<link href="../../../common/ext.css" rel="stylesheet">
<meta content="" name="ResourceLoaderDynamicStyles">
<link href="../../../common/site_modules.css" rel="stylesheet">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>

<script src="../../../common/startup_scripts.js"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"cpp/language/aggregate_initialization","wgTitle":"cpp/language/aggregate initialization","wgCurRevisionId":85599,"wgArticleId":8871,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"cpp/language/aggregate_initialization","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":0,"showtoolbar":1,"skin":"cppreference2","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"gadget-ColiruCompiler":1});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-js:7:ca03345b1e2c4d90a25d968753a73b92 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]-->
</head><body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_aggregate_initialization skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
                <h1 class="firstHeading" id="firstHeading">aggregate initialization</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    <div id="siteSub">From cppreference.com</div>
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    <div id="contentSub"><span class="subpages">&lt; <a href="../../cpp.html" title="cpp">cpp</a>&lrm; | <a href="../language.1.html" title="cpp/language">language</a></span></div>
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
<div class="t-navbar" style="">
<div class="t-navbar-sep">&nbsp;</div>
<div class="t-navbar-head">
<a href="../../cpp.html" title="cpp"> C++</a><div class="t-navbar-menu"><div>
<div><table cellpadding="0" class="t-nv-begin" style="line-height:1.1em;">
<tbody><tr class="t-nv"><td colspan="5"> <a href="../language.1.html" title="cpp/language"> Language</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../header.html" title="cpp/header"> Standard library headers</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../concept.html" title="cpp/concept"> Concepts</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../utility.html" title="cpp/utility"> Utilities library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../string.html" title="cpp/string"> Strings library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../container.html" title="cpp/container"> Containers library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../algorithm.html" title="cpp/algorithm"> Algorithms library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../iterator.html" title="cpp/iterator"> Iterators library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../numeric.html" title="cpp/numeric"> Numerics library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../io.html" title="cpp/io"> Input/output library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../locale.html" title="cpp/locale"> Localizations library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../regex.html" title="cpp/regex"> Regular expressions library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../atomic.html" title="cpp/atomic"> Atomic operations library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../thread.html" title="cpp/thread"> Thread support library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../filesystem.html" title="cpp/filesystem"> Filesystem library</a> <span class="t-mark-rev t-since-cxx17">(C++17)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../experimental.html" title="cpp/experimental"> Technical Specifications</a> </td></tr>
</tbody></table></div>
<div></div>
</div></div>
</div>
<div class="t-navbar-sep">&nbsp;</div>
<div class="t-navbar-head"><a href="../language.1.html" title="cpp/language"> C++ language</a></div>
<div class="t-navbar-sep">&nbsp;</div>
<div class="t-navbar-head">
<a href="initialization.html" title="cpp/language/initialization"> Initialization</a><div class="t-navbar-menu"><div>
<div style="display:inline-block">
<div><table cellpadding="0" class="t-nv-begin" style="">
<tbody><tr class="t-nv-h2"><td colspan="5"> <a href="initialization.html" title="cpp/language/initialization"> Initializer </a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="default_initialization.html" title="cpp/language/default initialization"> Default initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="value_initialization.html" title="cpp/language/value initialization"> Value initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="direct_initialization.html" title="cpp/language/direct initialization"> Direct initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="copy_initialization.html" title="cpp/language/copy initialization">Copy initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="list_initialization.html" title="cpp/language/list initialization">List initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <strong class="selflink">Aggregate initialization</strong>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="reference_initialization.html" title="cpp/language/reference initialization">Reference initialization</a>
</td></tr>
<tr class="t-nv-h2"><td colspan="5"> <a href="initialization.html#Non-local_variables" title="cpp/language/initialization"> Static initialization </a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="zero_initialization.html" title="cpp/language/zero initialization">Zero initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="constant_initialization.html" title="cpp/language/constant initialization">Constant initialization</a>
</td></tr>
<tr class="t-nv-h2"><td colspan="5"> <a href="initialization.html#Non-local_variables" title="cpp/language/initialization"> Dynamic non-local initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="initialization.html#Non-local_variables" title="cpp/language/initialization"> Ordered dynamic initialization</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="initialization.html#Non-local_variables" title="cpp/language/initialization">Unordered dynamic initialization</a>
</td></tr>
<tr class="t-nv-h2"><td colspan="5"> Class member initialization </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="constructor.html" title="cpp/language/initializer list">Member initializer list</a>
</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="data_members.html#Member_initialization" title="cpp/language/data members">in-class <i>brace-or-equal</i> initializer</a>
</td></tr>
</tbody></table></div>
</div>
<div></div>
</div></div>
</div>
<div class="t-navbar-sep">&nbsp;</div>
</div>
<p>Initializes an aggregate from braced-init-list
</p>
<table class="toc" id="toc"><tbody><tr><td>
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="aggregate_initialization.html#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="aggregate_initialization.html#Explanation"><span class="tocnumber">2</span> <span class="toctext">Explanation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="aggregate_initialization.html#Character_arrays"><span class="tocnumber">3</span> <span class="toctext">Character arrays</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="aggregate_initialization.html#Notes"><span class="tocnumber">4</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="aggregate_initialization.html#Example"><span class="tocnumber">5</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="aggregate_initialization.html#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></tbody></table>
<h3>
<span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php" title="Edit section: Syntax">edit</a>]</span> <span class="mw-headline" id="Syntax">Syntax</span>
</h3>
<table class="t-sdsc-begin">

<tbody><tr>
<td class="t-sdsc-sep" colspan="10">
</td>
</tr>
<tr class="t-sdsc">
<td> <span class="t-spar">T</span> <span class="t-spar">object</span> <code><b>= {</b></code><span class="t-spar">arg1, arg2, ...</span><code><b>};</b></code>
</td>
<td> (1)
</td>
<td class="t-sdsc-nopad">
</td>
</tr>



<tr>
<td class="t-sdsc-sep" colspan="10">
</td>
</tr>
<tr class="t-sdsc">
<td> <span class="t-spar">T</span> <span class="t-spar">object</span> <code><b> {</b></code><span class="t-spar">arg1, arg2, ...</span><code><b>};</b></code>
</td>
<td> (2)
</td>
<td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span>
</td>
</tr>



<tr>
<td class="t-sdsc-sep" colspan="10">
</td>
</tr>
</tbody></table>
<h3>
<span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php" title="Edit section: Explanation">edit</a>]</span> <span class="mw-headline" id="Explanation">Explanation</span>
</h3>
<p>Aggregate initialization is a form of <a href="list_initialization.html" title="cpp/language/list initialization">list-initialization</a>, which initializes <i>aggregates</i>
</p>
<p>An aggregate is one of the following types:
</p>
<ul>
<li> array type
</li>
<li> class type (typically, <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">struct</span></span></span> or <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">union</span></span></span>), that has
</li>
</ul>
<dl><dd>
<ul>
<li> no private or protected non-static data members
</li>
<li> no user-provided constructors <span class="t-rev-inl t-since-cxx17"><span>, including those inherited from public bases</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> <span class="t-rev-inl t-since-cxx11"><span>(explicitly defaulted or deleted constructors are allowed)</span> <span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>
</li>
<li> no <span class="t-rev-inl t-since-cxx17"><span>virtual, private, or protected</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> base classes
</li>
<li> no virtual member functions
</li>
</ul>
</dd></dl>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11 t-until-cxx14">
<td>
<dl><dd>
<ul><li> no <a href="data_members.html#Member_initialization" title="cpp/language/data members">default member initializers</a>
</li></ul>
</dd></dl>
</td>
<td>
<span class="t-mark-rev t-since-cxx11">(since C++11)</span><br><span class="t-mark-rev t-until-cxx14">(until C++14)</span>
</td>
</tr>
</tbody></table>
<p>The effects of aggregate initialization are:
</p>
<ul><li> Each <span class="t-rev-inl t-since-cxx17"><span>direct public base,</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> array element, or non-static class member, in order of array subscript/appearance in the class definition, is <a href="copy_initialization.html" title="cpp/language/copy initialization">copy-initialized</a> from the corresponding clause of the initializer list. 
</li></ul>
<ul><li> If the initializer clause is an expression, implicit conversions are allowed as per copy-initialization<span class="t-rev-inl t-since-cxx11"><span>, except if they are narrowing (as in <a href="list_initialization.html" title="cpp/language/list initialization">list-initialization</a>)</span> <span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>.
</li></ul>
<ul><li> If the initializer clause is a nested braced-init-list (which is not an expression), the corresponding class member <span class="t-rev-inl t-since-cxx17"><span>or public base</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> is <a href="list_initialization.html" title="cpp/language/list initialization">list-initialized</a> from that clause: aggregate initialization is recursive.
</li></ul>
<ul><li> If the object is an array of unknown size, and the supplied brace-enclosed initializer list has <code>n</code> clauses, the size of the array is <code>n</code>
</li></ul>
<ul><li> Static data members and anonymous bit-fields are skipped during aggregate initialization.
</li></ul>
<ul><li> If the number of initializer clauses exceeds the number of members <span class="t-rev-inl t-since-cxx17"><span>and bases</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> to initialize, the program is ill-formed (compiler error)
</li></ul>
<ul><li> If the number of initializer clauses is less than the number of members <span class="t-rev-inl t-since-cxx17"><span>and bases</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> or initializer list is completely empty, the remaining members <span class="t-rev-inl t-since-cxx17"><span>and bases</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> are initialized <span class="t-rev-inl t-since-cxx14"><span>by their <a href="data_members.html#Member_initialization" title="cpp/language/data members">default initializers</a>, if provided in the class definition, and otherwise</span> <span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span> by empty lists, which performs <a href="value_initialization.html" title="cpp/language/value initialization">value-initialization</a>. If a member of a reference type is one of these remaining members, the program is ill-formed (references cannot be value-initialized)
</li></ul>
<ul><li> <span class="t-rev-inl t-until-cxx14"><span>If the aggregate initialization uses the form with the equal sign (<span class="t-c"><span class="mw-geshi cpp source-cpp">T a <span class="sy1">=</span> <span class="br0">{</span>args..<span class="br0">}</span></span></span>),</span> <span><span class="t-mark-rev t-until-cxx14">(until C++14)</span></span></span> the braces around the nested initializer lists may be elided (omitted), in which case as many initializer clauses as necessary are used to initialize every member or element of the corresponding subaggregate, and the subsequent initializer clauses are used to initialize the following members of the object. However, if the object has a sub-aggregate without any members (an empty struct, or a struct holding only static members), brace elision is not allowed, and an empty nested list <code><b>{} </b></code> must be used.
</li></ul>
<ul><li> When a union is initialized by aggregate initialization, only its first non-static data member is initialized.
</li></ul>
<h3>
<span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php" title="Edit section: Character arrays">edit</a>]</span> <span class="mw-headline" id="Character_arrays">Character arrays</span>
</h3>
<p>Arrays of character types (<code>char</code>, <code>signed char</code>, <code>unsigned char</code>, <code>char16_t</code>, <code>char32_t</code>, <code>wchar_t</code>) can be initialized from an appropriate <a href="string_literal.html" title="cpp/language/string literal">string literal</a>, optionally enclosed in braces. Successive characters of the string literal (which includes the implicit terminating null character) initialize the elements of the array. If the size of the array is specified and it is larger than the number of characters in the string literal, the remaining characters are zero-initialized.
</p>
<div class="mw-geshi" dir="ltr" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">char</span> a<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="st0">&quot;abc&quot;</span><span class="sy4">;</span>
<span class="co1">// equivalent to char a[4] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;\0&#39;};</span>
&nbsp;
<span class="co1">//  unsigned char b[3] = &quot;abc&quot;; // Error: initializer string too long</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> b<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">{</span><span class="st0">&quot;abc&quot;</span><span class="br0">}</span><span class="sy4">;</span>
<span class="co1">// equivalent to unsigned char b[5] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;\0&#39;, &#39;\0&#39;};</span>
&nbsp;
<span class="kw4">wchar_t</span> c<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span>L<span class="st0">&quot;&#x43A;&#x43E;&#x448;&#x43A;&#x430;&quot;</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// optional braces</span>
<span class="co1">// equivalent to wchar_t c[6] = {L&#39;&#x43A;&#39;, L&#39;&#x43E;&#39;, L&#39;&#x448;&#39;, L&#39;&#x43A;&#39;, L&#39;&#x430;&#39;, L&#39;\0&#39;};</span></pre></div></div>
<h3>
<span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span>
</h3>
<p>An aggregate class or array may include non-aggregate <span class="t-rev-inl t-since-cxx17"><span>public bases</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span>, members, or elements, which are initialized as described above (e.g. copy-initialization from the corresponding initializer clause)
</p>
<p>Until C++11, narrowing conversions were permitted in aggregate initialization, but they are no longer allowed.
</p>
<p>Until C++11, aggregate initialization could not be used in a constructor initializer list due to syntax restrictions.
</p>
<p>Until C++14, the direct-initialization form <span class="t-c"><span class="mw-geshi cpp source-cpp">T a <span class="br0">{</span>args..<span class="br0">}</span></span></span> did not permit brace elision.
</p>
<p>In C, character array of size one less than the size of the string literal may be initialized from a string literal; the resulting array is not null-terminated. This is not allowed in C++.
</p>
<h3>
<span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php" title="Edit section: Example">edit</a>]</span> <span class="mw-headline" id="Example">Example</span>
</h3>
<div class="t-example">
<div class="t-example-live-link"><div class="coliru-btn coliru-btn-run-init">Run this code</div></div>
<div class="mw-geshi" dir="ltr" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#include &lt;string&gt;</span>
<span class="co2">#include &lt;array&gt;</span>
<span class="kw1">struct</span> S <span class="br0">{</span>
    <span class="kw4">int</span> x<span class="sy4">;</span>
    <span class="kw1">struct</span> Foo <span class="br0">{</span>
        <span class="kw4">int</span> i<span class="sy4">;</span>
        <span class="kw4">int</span> j<span class="sy4">;</span>
        <span class="kw4">int</span> a<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span>
    <span class="br0">}</span> b<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">union</span> U <span class="br0">{</span>
    <span class="kw4">int</span> a<span class="sy4">;</span>
    <span class="kw4">const</span> <span class="kw4">char</span><span class="sy2">*</span> b<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    S s1 <span class="sy1">=</span> <span class="br0">{</span> <span class="nu0">1</span>, <span class="br0">{</span> <span class="nu0">2</span>, <span class="nu0">3</span>, <span class="br0">{</span><span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span> <span class="br0">}</span> <span class="br0">}</span><span class="sy4">;</span>
    S s2 <span class="sy1">=</span> <span class="br0">{</span> <span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span>, <span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// same, but with brace elision</span>
    S s3<span class="br0">{</span><span class="nu0">1</span>, <span class="br0">{</span><span class="nu0">2</span>, <span class="nu0">3</span>, <span class="br0">{</span><span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span> <span class="br0">}</span> <span class="br0">}</span><span class="sy4">;</span> <span class="co1">// same, using direct-list-initialization syntax</span>
    S s4<span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span>, <span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// error in C++11: brace-elision only allowed with equals sign</span>
                            <span class="co1">// okay in C++14</span>
&nbsp;
    <span class="kw4">int</span> ar<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>,<span class="nu0">2</span>,<span class="nu0">3</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// ar is int[3]</span>
<span class="co1">//  char cr[3] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;}; // too many initializer clauses</span>
    <span class="kw4">char</span> cr<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="st0">&#39;a&#39;</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// array initialized as {&#39;a&#39;, &#39;\0&#39;, &#39;\0&#39;}</span>
&nbsp;
    <span class="kw4">int</span> ar2d1<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span><span class="br0">}</span>, <span class="br0">{</span><span class="nu0">3</span>, <span class="nu0">4</span><span class="br0">}</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// fully-braced 2D array: {1, 2}</span>
                                        <span class="co1">//                        {3, 4}</span>
    <span class="kw4">int</span> ar2d2<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span>, <span class="nu0">4</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// brace elision: {1, 2}</span>
                                    <span class="co1">//                {3, 4}</span>
    <span class="kw4">int</span> ar2d3<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="br0">}</span>, <span class="br0">{</span><span class="nu0">2</span><span class="br0">}</span><span class="br0">}</span><span class="sy4">;</span>   <span class="co1">// only first column: {1, 0}</span>
                                    <span class="co1">//                    {2, 0}</span>
&nbsp;
    <a href="../container/array.html"><span class="kw1157">std::<span class="me2">array</span></span></a><span class="sy1">&lt;</span><span class="kw4">int</span>, <span class="nu0">3</span><span class="sy1">&gt;</span> std_ar2<span class="br0">{</span> <span class="br0">{</span><span class="nu0">1</span>,<span class="nu0">2</span>,<span class="nu0">3</span><span class="br0">}</span> <span class="br0">}</span><span class="sy4">;</span>    <span class="co1">// std::array is an aggregate</span>
    <a href="../container/array.html"><span class="kw1157">std::<span class="me2">array</span></span></a><span class="sy1">&lt;</span><span class="kw4">int</span>, <span class="nu0">3</span><span class="sy1">&gt;</span> std_ar1 <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// brace-elision okay</span>
&nbsp;
    <span class="kw4">int</span> ai<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span> <span class="nu0">1</span>, <span class="nu16">2.0</span> <span class="br0">}</span><span class="sy4">;</span> <span class="co1">// narrowing conversion from double to int:</span>
                           <span class="co1">// error in C++11, okay in C++03</span>
&nbsp;
    <a href="../string/basic_string.html"><span class="kw1137">std::<span class="me2">string</span></span></a> ars<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><a href="../string/basic_string.html"><span class="kw1137">std::<span class="me2">string</span></span></a><span class="br0">(</span><span class="st0">&quot;one&quot;</span><span class="br0">)</span>, <span class="co1">// copy-initialization</span>
                         <span class="st0">&quot;two&quot;</span>,              <span class="co1">// conversion, then copy-initialization</span>
                         <span class="br0">{</span><span class="st0">&#39;t&#39;</span>, <span class="st0">&#39;h&#39;</span>, <span class="st0">&#39;r&#39;</span>, <span class="st0">&#39;e&#39;</span>, <span class="st0">&#39;e&#39;</span><span class="br0">}</span> <span class="br0">}</span><span class="sy4">;</span> <span class="co1">// list-initialization</span>
&nbsp;
    U u1 <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// OK, first member of the union</span>
<span class="co1">//    U u2 = { 0, &quot;asdf&quot; }; // error: too many initializers for union</span>
<span class="co1">//    U u3 = { &quot;asdf&quot; }; // error: invalid conversion to int</span>
&nbsp;
<span class="br0">}</span>
&nbsp;
<span class="co1">// aggregate</span>
<span class="kw1">struct</span> base1 <span class="br0">{</span> <span class="kw4">int</span> b1, b2 <span class="sy1">=</span> <span class="nu0">42</span><span class="sy4">;</span> <span class="br0">}</span><span class="sy4">;</span>
<span class="co1">// non-aggregate</span>
<span class="kw1">struct</span> base2 <span class="br0">{</span>
  base2<span class="br0">(</span><span class="br0">)</span> <span class="sy4">:</span> b3<span class="br0">(</span><span class="nu0">42</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
  <span class="kw4">int</span> b3<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
<span class="co1">// aggregate in C++17</span>
<span class="kw1">struct</span> derived <span class="sy4">:</span> base1, base2 <span class="br0">{</span> <span class="kw4">int</span> d<span class="sy4">;</span> <span class="br0">}</span><span class="sy4">;</span>
derived d1<span class="br0">{</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span><span class="br0">}</span>, <span class="br0">{</span> <span class="br0">}</span>, <span class="nu0">4</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// d1.b1 = 1, d1.b2 = 2,  d1.b3 = 42, d1.d = 4</span>
derived d2<span class="br0">{</span> <span class="br0">{</span>    <span class="br0">}</span>, <span class="br0">{</span> <span class="br0">}</span>, <span class="nu0">4</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// d2.b1 = 0, d2.b2 = 42, d2.b3 = 42, d2.d = 4</span></pre></div></div>
<p><br> 
</p>
</div>
<h3>
<span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php" title="Edit section: See also">edit</a>]</span> <span class="mw-headline" id="See_also">See also</span>
</h3>
<ul><li> <a href="list_initialization.html" title="cpp/language/list initialization">list initialization</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor visited node count: 1299/1000000
Preprocessor generated node count: 3773/1000000
Post‐expand include size: 34706/2097152 bytes
Template argument size: 11643/2097152 bytes
Highest expansion depth: 13/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:8871-0!*!0!!en!*!* and timestamp 20160426115333 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from &quot;<a href="http://en.cppreference.com/mwiki/index.php">http://en.cppreference.com/mwiki/index.php?title=cpp/language/aggregate_initialization&amp;oldid=85599</a>&quot;                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div class="catlinks catlinks-allhidden" id="catlinks"></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="../../../common/skin_scripts.js"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler"], null, true);
}</script>
<script src="../../../common/site_scripts.js"></script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-2828341-1']);
_gaq.push(['_setDomainName', 'cppreference.com']);
_gaq.push(['_trackPageview']);
</script><!-- Served in 0.054 secs. -->
	</body>



<!-- Cached 20160426115504 -->

</html>