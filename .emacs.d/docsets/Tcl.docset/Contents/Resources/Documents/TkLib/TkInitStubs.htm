<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD><TITLE>Tk_InitStubs manual page - Tk Library Procedures</TITLE>
<link rel="stylesheet" href="../docs.css" type="text/css" media="all">
</HEAD>
<BODY><H2><a href="../contents.htm">Tcl8.6.0/Tk8.6.0 Documentation</a> <small>&gt;</small> <a href="contents.htm">Tk C API, version 8.6.0</a> <small>&gt;</small> TkInitStubs</H2>
<H3><A HREF="../UserCmd/contents.htm">Tcl/Tk Applications</A> | <A HREF="../TclCmd/contents.htm">Tcl Commands</A> | <A HREF="../TkCmd/contents.htm">Tk Commands</A> | <A HREF="../ItclCmd/contents.htm">[incr Tcl] Package Commands</A> | <A HREF="../Sqlite3Cmd/contents.htm">SQLite Package Commands</A> | <A HREF="../TdbcCmd/contents.htm">TDBC Package Commands</A> | <A HREF="../TdbcmysqlCmd/contents.htm">tdbc::mysql Package Commands</A> | <A HREF="../TdbcodbcCmd/contents.htm">tdbc::odbc Package Commands</A> | <A HREF="../TdbcpostgresCmd/contents.htm">tdbc::postgres Package Commands</A> | <A HREF="../Tdbcsqlite3Cmd/contents.htm">tdbc::sqlite3 Package Commands</A> | <A HREF="../ThreadCmd/contents.htm">Thread Package Commands</A> | <A HREF="../TclLib/contents.htm">Tcl C API</A> | <A HREF="../TkLib/contents.htm">Tk C API</A> | <A HREF="../ItclLib/contents.htm">[incr Tcl] Package C API</A> | <A HREF="../TdbcLib/contents.htm">TDBC Package C API</A></H3>
<DL>
<DD><A HREF="TkInitStubs.htm#M2" NAME="L624">NAME</A>
<DL><DD>Tk_InitStubs &mdash; initialize the Tk stubs mechanism</DD></DL>
<DD><A HREF="TkInitStubs.htm#M3" NAME="L625">SYNOPSIS</A>
<DL>
<DD><B>#include &lt;tk.h&gt;</B>
<DD>const char *
<DD><B>Tk_InitStubs</B>(<I>interp, version, exact</I>)
</DL>
<DD><A HREF="TkInitStubs.htm#M4" NAME="L626">ARGUMENTS</A>
<DL class="arguments">
</DL>
<DD><A HREF="TkInitStubs.htm#M5" NAME="L627">INTRODUCTION</A>
<OL class="introduction">
</OL>
<DD><A HREF="TkInitStubs.htm#M6" NAME="L628">DESCRIPTION</A>
<DD><A HREF="TkInitStubs.htm#M7" NAME="L629">SEE ALSO</A>
<DD><A HREF="TkInitStubs.htm#M8" NAME="L630">KEYWORDS</A>
</DL>
<H3><A NAME="M2">NAME</A></H3>
Tk_InitStubs &mdash; initialize the Tk stubs mechanism
<H3><A NAME="M3">SYNOPSIS</A></H3>
<B>#include &lt;tk.h&gt;</B><BR>
const char *<BR>
<B>Tk_InitStubs</B>(<I>interp, version, exact</I>)<BR>
<H3><A NAME="M4">ARGUMENTS</A></H3>
<DL class="arguments">
<DT><A HREF="../TclLib/Interp.htm">Tcl_Interp</A> <B>*interp</B> (in)<DD>
Tcl interpreter handle.
<P><DT>char <B>*version</B> (in)<DD>
A version string consisting of one or more decimal numbers
separated by dots.
<P><DT>int <B>exact</B> (in)<DD>
Non-zero means that only the particular Tk version specified by
<I>version</I> is acceptable.
Zero means that versions newer than <I>version</I> are also
acceptable as long as they have the same major version number
as <I>version</I>.
<P></DL>
<H3><A NAME="M5">INTRODUCTION</A></H3>
The Tcl stubs mechanism defines a way to dynamically bind
extensions to a particular Tcl implementation at run time.
the stubs mechanism requires no changes to applications
incorporating Tcl/Tk interpreters.  Only developers creating
C-based Tcl/Tk extensions need to take steps to use the
stubs mechanism with their extensions.
See the <B><A HREF="../TclLib/InitStubs.htm">Tcl_InitStubs</A></B> page for more information.
<P>
Enabling the stubs mechanism for a Tcl/Tk extension requires the following
steps:
<P>
<OL class="introduction">
<LI value="1">
Call <B><A HREF="../TclLib/InitStubs.htm">Tcl_InitStubs</A></B> in the extension before calling any other
Tcl functions.
<P><LI value="2">
Call <B>Tk_InitStubs</B> if the extension before calling any other
Tk functions.
<P><LI value="2">
Define the <B>USE_TCL_STUBS</B> and the <B>USE_TK_STUBS</B>
symbols. Typically, you would include the <B>-DUSE_TCL_STUBS</B> and
the <B>-DUSE_TK_STUBS</B> flags when compiling the extension.
<P><LI value="3">
Link the extension with the Tcl and Tk stubs libraries instead of the
standard Tcl and Tk libraries.  On Unix platforms, the library names
are <I>libtclstub8.4.a</I> and <I>libtkstub8.4.a</I>; on Windows
platforms, the library names are <I>tclstub84.lib</I> and
<I>tkstub84.lib</I>. Adjust the library names with appropriate version
number but note that the extension may only be used with versions of
Tcl/Tk that have that version number or higher.
<P></OL>
<H3><A NAME="M6">DESCRIPTION</A></H3>
<B>Tk_InitStubs</B> attempts to initialize the Tk stub table pointers
and ensure that the correct version of Tk is loaded.  In addition
to an interpreter handle, it accepts as arguments a version number
and a Boolean flag indicating whether the extension requires
an exact version match or not.  If <I>exact</I> is 0, then the
extension is indicating that newer versions of Tk are acceptable
as long as they have the same major version number as <I>version</I>;
non-zero means that only the specified <I>version</I> is acceptable.
<B><A HREF="../TclLib/InitStubs.htm">Tcl_InitStubs</A></B> returns a string containing the actual version
of Tk satisfying the request, or NULL if the Tk version is not
acceptable, does not support the stubs mechanism, or any other
error condition occurred.
<H3><A NAME="M7">SEE ALSO</A></H3>
<B><A HREF="../TclLib/InitStubs.htm">Tcl_InitStubs</A></B>
<H3><A NAME="M8">KEYWORDS</A></H3>
<A href="../Keywords/S.htm#stubs">stubs</A>
<div class="copy">Copyright &copy; 1999 Scriptics Corporation
</div>
</BODY></HTML>
