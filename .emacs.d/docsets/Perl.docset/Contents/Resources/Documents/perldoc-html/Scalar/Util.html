<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Scalar::Util</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">History / Changes</a>
                <li><a href="../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Special Variables</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>Scalar::Util</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-modules-S.html">Core modules (S)</a> &gt;
      
    
    Scalar::Util
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>Scalar::Util</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#FUNCTIONS-FOR-REFERENCES">FUNCTIONS FOR REFERENCES</a><ul><li><a href="#blessed">blessed</a><li><a href="#refaddr">refaddr</a><li><a href="#reftype">reftype</a><li><a href="#weaken">weaken</a><li><a href="#unweaken">unweaken</a><li><a href="#isweak">isweak</a></ul><li><a href="#OTHER-FUNCTIONS">OTHER FUNCTIONS</a><ul><li><a href="#dualvar">dualvar</a><li><a href="#isdual">isdual</a><li><a href="#isvstring">isvstring</a><li><a href="#looks_like_number">looks_like_number</a><li><a href="#openhandle">openhandle</a><li><a href="#readonly">readonly</a><li><a href="#set_prototype">set_prototype</a><li><a href="#tainted">tainted</a></ul><li><a href="#DIAGNOSTICS">DIAGNOSTICS</a><li><a href="#KNOWN-BUGS">KNOWN BUGS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#COPYRIGHT">COPYRIGHT</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>Scalar::Util - A selection of general-utility scalar subroutines</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Scalar::Util</span> <span class="q">qw(blessed dualvar isdual readonly refaddr reftype</span></li><li>                        <span class="q">tainted weaken isweak isvstring looks_like_number</span></li><li>                        <span class="q">set_prototype)</span><span class="sc">;</span></li><li>                        <span class="c"># and other useful utils appearing below</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p><code class="inline"><span class="w">Scalar::Util</span></code>
 contains a selection of subroutines that people have expressed
would be nice to have in the perl core, but the usage would not really be high
enough to warrant the use of a keyword, and the size so small such that being
individual extensions would be wasteful.</p>
<p>By default <code class="inline"><span class="w">Scalar::Util</span></code>
 does not export any subroutines.</p>
<a name="FUNCTIONS-FOR-REFERENCES"></a><h1>FUNCTIONS FOR REFERENCES</h1>
<p>The following functions all perform some useful activity on reference values.</p>
<a name="blessed"></a><h2>blessed</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$pkg</span> = <span class="i">blessed</span><span class="s">(</span> <span class="i">$ref</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If <code class="inline"><span class="i">$ref</span></code>
 is a blessed reference the name of the package that it is blessed
into is returned. Otherwise <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is returned.</p>
<pre class="verbatim"><ol><li>    <span class="i">$scalar</span> = <span class="q">&quot;foo&quot;</span><span class="sc">;</span></li><li>    <span class="i">$class</span>  = <span class="w">blessed</span> <span class="i">$scalar</span><span class="sc">;</span>           <span class="c"># undef</span></li><li></li><li>    <span class="i">$ref</span>    = <span class="s">[</span><span class="s">]</span><span class="sc">;</span></li><li>    <span class="i">$class</span>  = <span class="w">blessed</span> <span class="i">$ref</span><span class="sc">;</span>              <span class="c"># undef</span></li><li></li><li>    <span class="i">$obj</span>    = <a class="l_k" href="../functions/bless.html">bless</a> <span class="s">[</span><span class="s">]</span><span class="cm">,</span> <span class="q">&quot;Foo&quot;</span><span class="sc">;</span></li><li>    <span class="i">$class</span>  = <span class="w">blessed</span> <span class="i">$obj</span><span class="sc">;</span>              <span class="c"># &quot;Foo&quot;</span></li></ol></pre><p>Take care when using this function simply as a truth test (such as in
<code class="inline"><a class="l_k" href="../functions/if.html">if</a><span class="s">(</span><span class="w">blessed</span> <span class="i">$ref</span><span class="s">)</span>...</code>
) because the package name <code class="inline"><span class="q">&quot;0&quot;</span></code>
 is defined yet false.</p>
<a name="refaddr"></a><h2>refaddr</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$addr</span> = <span class="i">refaddr</span><span class="s">(</span> <span class="i">$ref</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If <code class="inline"><span class="i">$ref</span></code>
 is reference the internal memory address of the referenced value is
returned as a plain integer. Otherwise <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is returned.</p>
<pre class="verbatim"><ol><li>    <span class="i">$addr</span> = <span class="w">refaddr</span> <span class="q">&quot;string&quot;</span><span class="sc">;</span>           <span class="c"># undef</span></li><li>    <span class="i">$addr</span> = <span class="w">refaddr</span> \<span class="i">$var</span><span class="sc">;</span>              <span class="c"># eg 12345678</span></li><li>    <span class="i">$addr</span> = <span class="w">refaddr</span> <span class="s">[</span><span class="s">]</span><span class="sc">;</span>                 <span class="c"># eg 23456784</span></li><li></li><li>    <span class="i">$obj</span>  = <a class="l_k" href="../functions/bless.html">bless</a> <span class="s">{</span><span class="s">}</span><span class="cm">,</span> <span class="q">&quot;Foo&quot;</span><span class="sc">;</span></li><li>    <span class="i">$addr</span> = <span class="w">refaddr</span> <span class="i">$obj</span><span class="sc">;</span>               <span class="c"># eg 88123488</span></li></ol></pre><a name="reftype"></a><h2>reftype</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$type</span> = <span class="i">reftype</span><span class="s">(</span> <span class="i">$ref</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If <code class="inline"><span class="i">$ref</span></code>
 is a reference the basic Perl type of the variable referenced is
returned as a plain string (such as <code class="inline"><span class="w">ARRAY</span></code>
 or <code class="inline"><span class="w">HASH</span></code>
). Otherwise <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>
is returned.</p>
<pre class="verbatim"><ol><li>    <span class="i">$type</span> = <span class="w">reftype</span> <span class="q">&quot;string&quot;</span><span class="sc">;</span>           <span class="c"># undef</span></li><li>    <span class="i">$type</span> = <span class="w">reftype</span> \<span class="i">$var</span><span class="sc">;</span>              <span class="c"># SCALAR</span></li><li>    <span class="i">$type</span> = <span class="w">reftype</span> <span class="s">[</span><span class="s">]</span><span class="sc">;</span>                 <span class="c"># ARRAY</span></li><li></li><li>    <span class="i">$obj</span>  = <a class="l_k" href="../functions/bless.html">bless</a> <span class="s">{</span><span class="s">}</span><span class="cm">,</span> <span class="q">&quot;Foo&quot;</span><span class="sc">;</span></li><li>    <span class="i">$type</span> = <span class="w">reftype</span> <span class="i">$obj</span><span class="sc">;</span>               <span class="c"># HASH</span></li></ol></pre><a name="weaken"></a><h2>weaken</h2>
<pre class="verbatim"><ol><li>    <span class="i">weaken</span><span class="s">(</span> <span class="i">$ref</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The lvalue <code class="inline"><span class="i">$ref</span></code>
 will be turned into a weak reference. This means that it
will not hold a reference count on the object it references. Also when the
reference count on that object reaches zero, the reference will be set to
undef. This function mutates the lvalue passed as its argument and returns no
value.</p>
<p>This is useful for keeping copies of references, but you don't want to prevent
the object being DESTROY-ed at its usual time.</p>
<pre class="verbatim"><ol><li>    <span class="s">{</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$var</span><span class="sc">;</span></li><li>      <span class="i">$ref</span> = \<span class="i">$var</span><span class="sc">;</span></li><li>      <span class="i">weaken</span><span class="s">(</span><span class="i">$ref</span><span class="s">)</span><span class="sc">;</span>                     <span class="c"># Make $ref a weak reference</span></li><li>    <span class="s">}</span></li><li>    <span class="c"># $ref is now undef</span></li></ol></pre><p>Note that if you take a copy of a scalar with a weakened reference, the copy
will be a strong reference.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$var</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$foo</span> = \<span class="i">$var</span><span class="sc">;</span></li><li>    <span class="i">weaken</span><span class="s">(</span><span class="i">$foo</span><span class="s">)</span><span class="sc">;</span>                       <span class="c"># Make $foo a weak reference</span></li><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$bar</span> = <span class="i">$foo</span><span class="sc">;</span>                     <span class="c"># $bar is now a strong reference</span></li></ol></pre><p>This may be less obvious in other situations, such as <code class="inline"><a class="l_k" href="../functions/grep.html">grep()</a></code>, for instance
when grepping through a list of weakened references to objects that may have
been destroyed already:</p>
<pre class="verbatim"><ol><li>    <span class="i">@object</span> = <a class="l_k" href="../functions/grep.html">grep</a> <span class="s">{</span> <a class="l_k" href="../functions/defined.html">defined</a> <span class="s">}</span> <span class="i">@object</span><span class="sc">;</span></li></ol></pre><p>This will indeed remove all references to destroyed objects, but the remaining
references to objects will be strong, causing the remaining objects to never be
destroyed because there is now always a strong reference to them in the @object
array.</p>
<a name="unweaken"></a><h2>unweaken</h2>
<pre class="verbatim"><ol><li>    <span class="i">unweaken</span><span class="s">(</span> <span class="i">$ref</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p><i>Since version 1.36.</i></p>
<p>The lvalue <code class="inline"><span class="w">REF</span></code>
 will be turned from a weak reference back into a normal
(strong) reference again. This function mutates the lvalue passed as its
argument and returns no value. This undoes the action performed by
<a href="#weaken">weaken</a>.</p>
<p>This function is slightly neater and more convenient than the
otherwise-equivalent code</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$tmp</span> = <span class="i">$REF</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/undef.html">undef</a> <span class="i">$REF</span><span class="sc">;</span></li><li>    <span class="i">$REF</span> = <span class="i">$tmp</span><span class="sc">;</span></li></ol></pre><p>(because in particular, simply assigning a weak reference back to itself does
not work to unweaken it; <code class="inline"><span class="i">$REF</span> = <span class="i">$REF</span></code>
 does not work).</p>
<a name="isweak"></a><h2>isweak</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$weak</span> = <span class="i">isweak</span><span class="s">(</span> <span class="i">$ref</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns true if <code class="inline"><span class="i">$ref</span></code>
 is a weak reference.</p>
<pre class="verbatim"><ol><li>    <span class="i">$ref</span>  = \<span class="i">$foo</span><span class="sc">;</span></li><li>    <span class="i">$weak</span> = <span class="i">isweak</span><span class="s">(</span><span class="i">$ref</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># false</span></li><li>    <span class="i">weaken</span><span class="s">(</span><span class="i">$ref</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$weak</span> = <span class="i">isweak</span><span class="s">(</span><span class="i">$ref</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># true</span></li></ol></pre><p><b>NOTE</b>: Copying a weak reference creates a normal, strong, reference.</p>
<pre class="verbatim"><ol><li>    <span class="i">$copy</span> = <span class="i">$ref</span><span class="sc">;</span></li><li>    <span class="i">$weak</span> = <span class="i">isweak</span><span class="s">(</span><span class="i">$copy</span><span class="s">)</span><span class="sc">;</span>              <span class="c"># false</span></li></ol></pre><a name="OTHER-FUNCTIONS"></a><h1>OTHER FUNCTIONS</h1>
<a name="dualvar"></a><h2>dualvar</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$var</span> = <span class="i">dualvar</span><span class="s">(</span> <span class="i">$num</span><span class="cm">,</span> <span class="i">$string</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns a scalar that has the value <code class="inline"><span class="i">$num</span></code>
 in a numeric context and the value
<code class="inline"><span class="i">$string</span></code>
 in a string context.</p>
<pre class="verbatim"><ol><li>    <span class="i">$foo</span> = <span class="w">dualvar</span> <span class="n">10</span><span class="cm">,</span> <span class="q">&quot;Hello&quot;</span><span class="sc">;</span></li><li>    <span class="i">$num</span> = <span class="i">$foo</span> + <span class="n">2</span><span class="sc">;</span>                    <span class="c"># 12</span></li><li>    <span class="i">$str</span> = <span class="i">$foo</span> . <span class="q">&quot; world&quot;</span><span class="sc">;</span>             <span class="c"># Hello world</span></li></ol></pre><a name="isdual"></a><h2>isdual</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$dual</span> = <span class="i">isdual</span><span class="s">(</span> <span class="i">$var</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p><i>Since version 1.26.</i></p>
<p>If <code class="inline"><span class="i">$var</span></code>
 is a scalar that has both numeric and string values, the result is
true.</p>
<pre class="verbatim"><ol><li>    <span class="i">$foo</span> = <span class="w">dualvar</span> <span class="n">86</span><span class="cm">,</span> <span class="q">&quot;Nix&quot;</span><span class="sc">;</span></li><li>    <span class="i">$dual</span> = <span class="i">isdual</span><span class="s">(</span><span class="i">$foo</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># true</span></li></ol></pre><p>Note that a scalar can be made to have both string and numeric content through
numeric operations:</p>
<pre class="verbatim"><ol><li>    <span class="i">$foo</span> = <span class="q">&quot;10&quot;</span><span class="sc">;</span></li><li>    <span class="i">$dual</span> = <span class="i">isdual</span><span class="s">(</span><span class="i">$foo</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># false</span></li><li>    <span class="i">$bar</span> = <span class="i">$foo</span> + <span class="n">0</span><span class="sc">;</span></li><li>    <span class="i">$dual</span> = <span class="i">isdual</span><span class="s">(</span><span class="i">$foo</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># true</span></li></ol></pre><p>Note that although <code class="inline"><span class="i">$!</span></code>
 appears to be dual-valued variable, it is actually
implemented using a tied scalar:</p>
<pre class="verbatim"><ol><li>    <span class="i">$!</span> = <span class="n">1</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a><span class="s">(</span><span class="q">&quot;$!\n&quot;</span><span class="s">)</span><span class="sc">;</span>                      <span class="c"># &quot;Operation not permitted&quot;</span></li><li>    <span class="i">$dual</span> = <span class="i">isdual</span><span class="s">(</span><span class="i">$!</span><span class="s">)</span><span class="sc">;</span>                 <span class="c"># false</span></li></ol></pre><p>You can capture its numeric and string content using:</p>
<pre class="verbatim"><ol><li>    <span class="i">$err</span> = <span class="w">dualvar</span> <span class="i">$!</span><span class="cm">,</span> <span class="i">$!</span><span class="sc">;</span></li><li>    <span class="i">$dual</span> = <span class="i">isdual</span><span class="s">(</span><span class="i">$err</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># true</span></li></ol></pre><a name="isvstring"></a><h2>isvstring</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$vstring</span> = <span class="i">isvstring</span><span class="s">(</span> <span class="i">$var</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If <code class="inline"><span class="i">$var</span></code>
 is a scalar which was coded as a vstring the result is true.</p>
<pre class="verbatim"><ol><li>    <span class="i">$vs</span>   = <span class="v">v49.46.48</span><span class="sc">;</span></li><li>    <span class="i">$fmt</span>  = <span class="i">isvstring</span><span class="s">(</span><span class="i">$vs</span><span class="s">)</span> ? <span class="q">&quot;%vd&quot;</span> <span class="co">:</span> <span class="q">&quot;%s&quot;</span><span class="sc">;</span> <span class="c">#true</span></li><li>    <a class="l_k" href="../functions/printf.html">printf</a><span class="s">(</span><span class="i">$fmt</span><span class="cm">,</span><span class="i">$vs</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="looks_like_number"></a><h2>looks_like_number</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$isnum</span> = <span class="i">looks_like_number</span><span class="s">(</span> <span class="i">$var</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns true if perl thinks <code class="inline"><span class="i">$var</span></code>
 is a number. See
<a href="../perlapi.html#looks_like_number">looks_like_number in perlapi</a>.</p>
<a name="openhandle"></a><h2>openhandle</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$fh</span> = <span class="i">openhandle</span><span class="s">(</span> <span class="i">$fh</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns <code class="inline"><span class="i">$fh</span></code>
 itself if <code class="inline"><span class="i">$fh</span></code>
 may be used as a filehandle and is open, or is
is a tied handle. Otherwise <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is returned.</p>
<pre class="verbatim"><ol><li>    <span class="i">$fh</span> = <span class="i">openhandle</span><span class="s">(</span><span class="i">*STDIN</span><span class="s">)</span><span class="sc">;</span>           <span class="c"># \*STDIN</span></li><li>    <span class="i">$fh</span> = <span class="i">openhandle</span><span class="s">(</span>\<span class="i">*STDIN</span><span class="s">)</span><span class="sc">;</span>          <span class="c"># \*STDIN</span></li><li>    <span class="i">$fh</span> = <span class="i">openhandle</span><span class="s">(</span><span class="i">*NOTOPEN</span><span class="s">)</span><span class="sc">;</span>         <span class="c"># undef</span></li><li>    <span class="i">$fh</span> = <span class="i">openhandle</span><span class="s">(</span><span class="q">&quot;scalar&quot;</span><span class="s">)</span><span class="sc">;</span>         <span class="c"># undef</span></li></ol></pre><a name="readonly"></a><h2>readonly</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$ro</span> = <span class="i">readonly</span><span class="s">(</span> <span class="i">$var</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns true if <code class="inline"><span class="i">$var</span></code>
 is readonly.</p>
<pre class="verbatim"><ol><li><a name="foo"></a>    sub <span class="m">foo</span> <span class="s">{</span> <span class="i">readonly</span><span class="s">(</span><span class="i">$_</span>[<span class="n">0</span>]<span class="s">)</span> <span class="s">}</span></li><li></li><li>    <span class="i">$readonly</span> = <span class="i">foo</span><span class="s">(</span><span class="i">$bar</span><span class="s">)</span><span class="sc">;</span>              <span class="c"># false</span></li><li>    <span class="i">$readonly</span> = <span class="i">foo</span><span class="s">(</span><span class="n">0</span><span class="s">)</span><span class="sc">;</span>                 <span class="c"># true</span></li></ol></pre><a name="set_prototype"></a><h2>set_prototype</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$code</span> = <span class="i">set_prototype</span><span class="s">(</span> <span class="i">$code</span><span class="cm">,</span> <span class="i">$prototype</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Sets the prototype of the function given by the <code class="inline"><span class="i">$code</span></code>
 reference, or deletes
it if <code class="inline"><span class="i">$prototype</span></code>
 is <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>. Returns the <code class="inline"><span class="i">$code</span></code>
 reference itself.</p>
<pre class="verbatim"><ol><li>    <span class="w">set_prototype</span> \<span class="i">&amp;foo</span><span class="cm">,</span> <span class="q">&#39;$$&#39;</span><span class="sc">;</span></li></ol></pre><a name="tainted"></a><h2>tainted</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$t</span> = <span class="i">tainted</span><span class="s">(</span> <span class="i">$var</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Return true if <code class="inline"><span class="i">$var</span></code>
 is tainted.</p>
<pre class="verbatim"><ol><li>    <span class="i">$taint</span> = <span class="i">tainted</span><span class="s">(</span><span class="q">&quot;constant&quot;</span><span class="s">)</span><span class="sc">;</span>       <span class="c"># false</span></li><li>    <span class="i">$taint</span> = <span class="i">tainted</span><span class="s">(</span><span class="i">$ENV</span>{<span class="w">PWD</span>}<span class="s">)</span><span class="sc">;</span>        <span class="c"># true if running under -T</span></li></ol></pre><a name="DIAGNOSTICS"></a><h1>DIAGNOSTICS</h1>
<p>Module use may give one of the following errors during import.</p>
<ul>
<li><a name="Weak-references-are-not-implemented-in-the-version-of-perl"></a><b>Weak references are not implemented in the version of perl</b>
<p>The version of perl that you are using does not implement weak references, to
use <a href="#isweak">isweak</a> or <a href="#weaken">weaken</a> you will need to use a newer release of perl.</p>
</li>
<li><a name="Vstrings-are-not-implemented-in-the-version-of-perl"></a><b>Vstrings are not implemented in the version of perl</b>
<p>The version of perl that you are using does not implement Vstrings, to use
<a href="#isvstring">isvstring</a> you will need to use a newer release of perl.</p>
</li>
<li><a name="NAME-is-only-available-with-the-XS-version-of-Scalar%3a%3aUtil"></a><b><code class="inline"><span class="w">NAME</span></code>
 is only available with the XS version of Scalar::Util</b>
<p><code class="inline"><span class="w">Scalar::Util</span></code>
 contains both perl and C implementations of many of its
functions so that those without access to a C compiler may still use it.
However some of the functions are only available when a C compiler was
available to compile the XS version of the extension.</p>
<p>At present that list is: weaken, isweak, dualvar, isvstring, set_prototype</p>
</li>
</ul>
<a name="KNOWN-BUGS"></a><h1>KNOWN BUGS</h1>
<p>There is a bug in perl5.6.0 with UV's that are &gt;= 1&lt;&lt;31. This will
show up as tests 8 and 9 of dualvar.t failing</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="../List/Util.html">List::Util</a></p>
<a name="COPYRIGHT"></a><h1>COPYRIGHT</h1>
<p>Copyright (c) 1997-2007 Graham Barr &lt;gbarr@pobox.com&gt;. All rights reserved.
This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p>Additionally <a href="#weaken">weaken</a> and <a href="#isweak">isweak</a> which are</p>
<p>Copyright (c) 1999 Tuomas J. Lukka &lt;lukka@iki.fi&gt;. All rights reserved.
This program is free software; you can redistribute it and/or modify it
under the same terms as perl itself.</p>
<p>Copyright (C) 2004, 2008  Matthijs van Duin.  All rights reserved.
Copyright (C) 2014 cPanel Inc.  All rights reserved.
This program is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#FUNCTIONS-FOR-REFERENCES">FUNCTIONS FOR REFERENCES</a><ul><li><a href="#blessed">blessed</a><li><a href="#refaddr">refaddr</a><li><a href="#reftype">reftype</a><li><a href="#weaken">weaken</a><li><a href="#unweaken">unweaken</a><li><a href="#isweak">isweak</a></ul><li><a href="#OTHER-FUNCTIONS">OTHER FUNCTIONS</a><ul><li><a href="#dualvar">dualvar</a><li><a href="#isdual">isdual</a><li><a href="#isvstring">isvstring</a><li><a href="#looks_like_number">looks_like_number</a><li><a href="#openhandle">openhandle</a><li><a href="#readonly">readonly</a><li><a href="#set_prototype">set_prototype</a><li><a href="#tainted">tainted</a></ul><li><a href="#DIAGNOSTICS">DIAGNOSTICS</a><li><a href="#KNOWN-BUGS">KNOWN BUGS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#COPYRIGHT">COPYRIGHT</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../index-modules-A.html">Modules</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../index-licence.html">License</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../static/exploreperl.js"></script>
      <script language="JavaScript" src="../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(1);
  perldoc.pageName    = 'Scalar::Util';
  perldoc.pageAddress = 'Scalar/Util.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
