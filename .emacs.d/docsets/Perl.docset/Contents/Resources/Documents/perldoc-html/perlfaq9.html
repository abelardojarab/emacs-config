<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>perlfaq9</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">History / Changes</a>
                <li><a href="index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Special Variables</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>perlfaq9</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-faq.html">FAQs</a> &gt;
      
    
    perlfaq9
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>perlfaq9</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#VERSION">VERSION</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Should-I-use-a-web-framework%3f">Should I use a web framework?</a><li><a href="#Which-web-framework-should-I-use%3f">Which web framework should I use?
    </a><li><a href="#What-is-Plack-and-PSGI%3f">What is Plack and PSGI?</a><li><a href="#How-do-I-remove-HTML-from-a-string%3f">How do I remove HTML from a string?</a><li><a href="#How-do-I-extract-URLs%3f">How do I extract URLs?</a><li><a href="#How-do-I-fetch-an-HTML-file%3f">How do I fetch an HTML file?</a><li><a href="#How-do-I-automate-an-HTML-form-submission%3f">How do I automate an HTML form submission?</a><li><a href="#How-do-I-decode-or-create-those-%25-encodings-on-the-web%3f">How do I decode or create those %-encodings on the web?
  </a><li><a href="#How-do-I-redirect-to-another-page%3f">How do I redirect to another page?</a><li><a href="#How-do-I-put-a-password-on-my-web-pages%3f">How do I put a password on my web pages?</a><li><a href="#How-do-I-make-sure-users-can't-enter-values-into-a-form-that-causes-my-CGI-script-to-do-bad-things%3f">How do I make sure users can't enter values into a form that causes my CGI script to do bad things?</a><li><a href="#How-do-I-parse-a-mail-header%3f">How do I parse a mail header?</a><li><a href="#How-do-I-check-a-valid-mail-address%3f">How do I check a valid mail address?</a><li><a href="#How-do-I-decode-a-MIME%2fBASE64-string%3f">How do I decode a MIME/BASE64 string?</a><li><a href="#How-do-I-find-the-user's-mail-address%3f">How do I find the user's mail address?</a><li><a href="#How-do-I-send-email%3f">How do I send email?</a><li><a href="#How-do-I-use-MIME-to-make-an-attachment-to-a-mail-message%3f">How do I use MIME to make an attachment to a mail message?</a><li><a href="#How-do-I-read-email%3f">How do I read email?</a><li><a href="#How-do-I-find-out-my-hostname%2c-domainname%2c-or-IP-address%3f">How do I find out my hostname, domainname, or IP address?
</a><li><a href="#How-do-I-fetch%2fput-an-(S)FTP-file%3f">How do I fetch/put an (S)FTP file?</a><li><a href="#How-can-I-do-RPC-in-Perl%3f">How can I do RPC in Perl?</a></ul><li><a href="#AUTHOR-AND-COPYRIGHT">AUTHOR AND COPYRIGHT</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perlfaq9 - Web, Email and Networking</p>
<a name="VERSION"></a><h1>VERSION</h1>
<p>version 5.021009</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This section deals with questions related to running web sites,
sending and receiving email as well as general networking.</p>
<a name="Should-I-use-a-web-framework%3f"></a><h2>Should I use a web framework?</h2>
<p>Yes. If you are building a web site with any level of interactivity
(forms / users / databases), you
will want to use a framework to make handling requests
and responses easier.</p>
<p>If there is no interactivity then you may still want
to look at using something like <a href="http://search.cpan.org/perldoc/https:#%2fmetacpan.org%2fmodule%2fTemplate">Template Toolkit</a>
or <a href="http://search.cpan.org/perldoc/Plack::Middleware::TemplateToolkit">Plack::Middleware::TemplateToolkit</a>
so maintenance of your HTML files (and other assets) is easier.</p>
<a name="Which-web-framework-should-I-use%3f"></a><h2>Which web framework should I use?
    </h2>
<p>There is no simple answer to this question. Perl frameworks can run everything
from basic file servers and small scale intranets to massive multinational
multilingual websites that are the core to international businesses.</p>
<p>Below is a list of a few frameworks with comments which might help you in
making a decision, depending on your specific requirements. Start by reading
the docs, then ask questions on the relevant mailing list or IRC channel.</p>
<ul>
<li><a name="the-Catalyst-manpage"></a><b><a href="http://search.cpan.org/perldoc/Catalyst">Catalyst</a></b>
<p>Strongly object-oriented and fully-featured with a long development history and
a large community and addon ecosystem. It is excellent for large and complex
applications, where you have full control over the server.</p>
</li>
<li><a name="the-Dancer-manpage"></a><b><a href="http://search.cpan.org/perldoc/Dancer">Dancer</a></b>
<p>Young and free of legacy weight, providing a lightweight and easy to learn API.
Has a growing addon ecosystem. It is best used for smaller projects and
very easy to learn for beginners.</p>
</li>
<li><a name="the-Mojolicious-manpage"></a><b><a href="http://search.cpan.org/perldoc/Mojolicious">Mojolicious</a></b>
<p>Fairly young with a focus on HTML5 and real-time web technologies such as
WebSockets.</p>
</li>
<li><a name="the-Web%3a%3aSimple-manpage"></a><b><a href="http://search.cpan.org/perldoc/Web::Simple">Web::Simple</a></b>
<p>Currently experimental, strongly object-oriented, built for speed and intended
as a toolkit for building micro web apps, custom frameworks or for tieing
together existing Plack-compatible web applications with one central dispatcher.</p>
</li>
</ul>
<p>All of these interact with or use <a href="http://search.cpan.org/perldoc/Plack">Plack</a> which is worth understanding
the basics of when building a website in Perl (there is a lot of useful
<a href="http://search.cpan.org/perldoc/https:#%2fmetacpan.org%2fsearch%3fq%3dplack%253A%253Amiddleware">Plack::Middleware</a>).</p>
<a name="What-is-Plack-and-PSGI%3f"></a><h2>What is Plack and PSGI?</h2>
<p><a href="http://search.cpan.org/perldoc/PSGI">PSGI</a> is the Perl Web Server Gateway Interface Specification, it is
a standard that many Perl web frameworks use, you should not need to
understand it to build a web site, the part you might want to use is <a href="http://search.cpan.org/perldoc/Plack">Plack</a>.</p>
<p><a href="http://search.cpan.org/perldoc/Plack">Plack</a> is a set of tools for using the PSGI stack. It contains
<a href="http://search.cpan.org/perldoc/https:#%2fmetacpan.org%2fsearch%3fq%3dplack%253A%253Amiddleware">middleware</a>
components, a reference server and utilities for Web application frameworks.
Plack is like Ruby's Rack or Python's Paste for WSGI.</p>
<p>You could build a web site using <a href="http://search.cpan.org/perldoc/Plack">Plack</a> and your own code,
but for anything other than a very basic web site, using a web framework
(that uses <a href="http://search.cpan.org/perldoc/Plack">Plack</a>) is a better option.</p>
<a name="How-do-I-remove-HTML-from-a-string%3f"></a><h2>How do I remove HTML from a string?</h2>
<p>Use <a href="http://search.cpan.org/perldoc/HTML::Strip">HTML::Strip</a>, or <a href="http://search.cpan.org/perldoc/HTML::FormatText">HTML::FormatText</a> which not only removes HTML
but also attempts to do a little simple formatting of the resulting
plain text.</p>
<a name="How-do-I-extract-URLs%3f"></a><h2>How do I extract URLs?</h2>
<p><a href="http://search.cpan.org/perldoc/HTML::SimpleLinkExtor">HTML::SimpleLinkExtor</a> will extract URLs from HTML, it handles anchors,
images, objects, frames, and many other tags that can contain a URL.
If you need anything more complex, you can create your own subclass of
<a href="http://search.cpan.org/perldoc/HTML::LinkExtor">HTML::LinkExtor</a> or <a href="http://search.cpan.org/perldoc/HTML::Parser">HTML::Parser</a>. You might even use
<a href="http://search.cpan.org/perldoc/HTML::SimpleLinkExtor">HTML::SimpleLinkExtor</a> as an example for something specifically
suited to your needs.</p>
<p>You can use <a href="http://search.cpan.org/perldoc/URI::Find">URI::Find</a> to extract URLs from an arbitrary text document.</p>
<a name="How-do-I-fetch-an-HTML-file%3f"></a><h2>How do I fetch an HTML file?</h2>
<p>(contributed by brian d foy)</p>
<p>Use the libwww-perl distribution. The <a href="http://search.cpan.org/perldoc/LWP::Simple">LWP::Simple</a> module can fetch web
resources and give their content back to you as a string:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">LWP::Simple</span> <span class="q">qw(get)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$html</span> = <span class="i">get</span><span class="s">(</span> <span class="q">&quot;<a href="http://www.example.com/index.html">http://www.example.com/index.html</a>&quot;</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>It can also store the resource directly in a file:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">LWP::Simple</span> <span class="q">qw(getstore)</span><span class="sc">;</span></li><li></li><li>    <span class="i">getstore</span><span class="s">(</span> <span class="q">&quot;<a href="http://www.example.com/index.html">http://www.example.com/index.html</a>&quot;</span><span class="cm">,</span> <span class="q">&quot;foo.html&quot;</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you need to do something more complicated, you can use
<a href="http://search.cpan.org/perldoc/LWP::UserAgent">LWP::UserAgent</a> module to create your own user-agent (e.g. browser)
to get the job done. If you want to simulate an interactive web
browser, you can use the <a href="http://search.cpan.org/perldoc/WWW::Mechanize">WWW::Mechanize</a> module.</p>
<a name="How-do-I-automate-an-HTML-form-submission%3f"></a><h2>How do I automate an HTML form submission?</h2>
<p>If you are doing something complex, such as moving through many pages
and forms or a web site, you can use <a href="http://search.cpan.org/perldoc/WWW::Mechanize">WWW::Mechanize</a>. See its
documentation for all the details.</p>
<p>If you're submitting values using the GET method, create a URL and encode
the form using the <code class="inline"><span class="w">query_form</span></code>
 method:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">LWP::Simple</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">URI::URL</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$url</span> = <span class="i">url</span><span class="s">(</span><span class="q">&#39;L&lt;<a href="http://www.perl.com/cgi-bin/cpan_mod">http://www.perl.com/cgi-bin/cpan_mod</a>&#39;</span><span class="s">)</span>&gt;<span class="sc">;</span></li><li>    <span class="i">$url</span><span class="i">-&gt;query_form</span><span class="s">(</span><span class="w">module</span> <span class="cm">=&gt;</span> <span class="q">&#39;DB_File&#39;</span><span class="cm">,</span> <span class="w">readme</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$content</span> = <span class="i">get</span><span class="s">(</span><span class="i">$url</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you're using the POST method, create your own user agent and encode
the content appropriately.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">HTTP::Request::Common</span> <span class="q">qw(POST)</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">LWP::UserAgent</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$ua</span> = <span class="w">LWP::UserAgent</span><span class="w">-&gt;new</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$req</span> = <span class="w">POST</span> <span class="q">&#39;L&lt;<a href="http://www.perl.com/cgi-bin/cpan_mod">http://www.perl.com/cgi-bin/cpan_mod</a>&#39;</span>&gt;<span class="cm">,</span></li><li>                   <span class="s">[</span> <span class="w">module</span> <span class="cm">=&gt;</span> <span class="q">&#39;DB_File&#39;</span><span class="cm">,</span> <span class="w">readme</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">]</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$content</span> = <span class="i">$ua</span><span class="i">-&gt;request</span><span class="s">(</span><span class="i">$req</span><span class="s">)</span><span class="i">-&gt;as_string</span><span class="sc">;</span></li></ol></pre><a name="How-do-I-decode-or-create-those-%25-encodings-on-the-web%3f"></a><h2>How do I decode or create those %-encodings on the web?
  </h2>
<p>Most of the time you should not need to do this as
your web framework, or if you are making a request,
the <a href="http://search.cpan.org/perldoc/LWP">LWP</a> or other module would handle it for you.</p>
<p>To encode a string yourself, use the <a href="http://search.cpan.org/perldoc/URI::Escape">URI::Escape</a> module. The <code class="inline"><span class="w">uri_escape</span></code>

function returns the escaped string:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$original</span> = <span class="q">&quot;Colon : Hash # Percent %&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$escaped</span> = <span class="i">uri_escape</span><span class="s">(</span> <span class="i">$original</span> <span class="s">)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;$escaped\n&quot;</span><span class="sc">;</span> <span class="c"># &#39;Colon%20%3A%20Hash%20%23%20Percent%20%25&#39;</span></li></ol></pre><p>To decode the string, use the <code class="inline"><span class="w">uri_unescape</span></code>
 function:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$unescaped</span> = <span class="i">uri_unescape</span><span class="s">(</span> <span class="i">$escaped</span> <span class="s">)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">$unescaped</span><span class="sc">;</span> <span class="c"># back to original</span></li></ol></pre><p>Remember not to encode a full URI, you need to escape each
component separately and then join them together.</p>
<a name="How-do-I-redirect-to-another-page%3f"></a><h2>How do I redirect to another page?</h2>
<p>Most Perl Web Frameworks will have a mechanism for doing this,
using the <a href="http://search.cpan.org/perldoc/Catalyst">Catalyst</a> framework it would be:</p>
<pre class="verbatim"><ol><li>    <span class="i">$c</span><span class="i">-&gt;res</span><span class="i">-&gt;redirect</span><span class="s">(</span><span class="i">$url</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$c</span><span class="i">-&gt;detach</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you are using Plack (which most frameworks do), then
<a href="http://search.cpan.org/perldoc/Plack::Middleware::Rewrite">Plack::Middleware::Rewrite</a> is worth looking at if you
are migrating from Apache or have URL's you want to always
redirect.</p>
<a name="How-do-I-put-a-password-on-my-web-pages%3f"></a><h2>How do I put a password on my web pages?</h2>
<p>See if the web framework you are using has an
authentication system and if that fits your needs.</p>
<p>Alternativly look at <a href="http://search.cpan.org/perldoc/Plack::Middleware::Auth::Basic">Plack::Middleware::Auth::Basic</a>,
or one of the other <a href="http://search.cpan.org/perldoc/https:#%2fmetacpan.org%2fsearch%3fq%3dplack%2bauth">Plack authentication</a>
options.</p>
<a name="How-do-I-make-sure-users-can't-enter-values-into-a-form-that-causes-my-CGI-script-to-do-bad-things%3f"></a><h2>How do I make sure users can't enter values into a form that causes my CGI script to do bad things?</h2>
<p>(contributed by brian d foy)</p>
<p>You can't prevent people from sending your script bad data. Even if
you add some client-side checks, people may disable them or bypass
them completely. For instance, someone might use a module such as
<a href="http://search.cpan.org/perldoc/LWP">LWP</a> to submit to your web site. If you want to prevent data that
try to use SQL injection or other sorts of attacks (and you should
want to), you have to not trust any data that enter your program.</p>
<p>The <a href="perlsec.html">perlsec</a> documentation has general advice about data security.
If you are using the <a href="http://search.cpan.org/perldoc/DBI">DBI</a> module, use placeholder to fill in data.
If you are running external programs with <code class="inline"><a class="l_k" href="functions/system.html">system</a></code> or <code class="inline"><a class="l_k" href="functions/exec.html">exec</a></code>, use
the list forms. There are many other precautions that you should take,
too many to list here, and most of them fall under the category of not
using any data that you don't intend to use. Trust no one.</p>
<a name="How-do-I-parse-a-mail-header%3f"></a><h2>How do I parse a mail header?</h2>
<p>Use the <a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a> module. It's well-tested and supports all the
craziness that you'll see in the real world (comment-folding whitespace,
encodings, comments, etc.).</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/use.html">use</a> <span class="w">Email::MIME</span><span class="sc">;</span></li><li></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$message</span> = <span class="w">Email::MIME</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$rfc2822</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$subject</span> = <span class="i">$message</span><span class="i">-&gt;header</span><span class="s">(</span><span class="q">&#39;Subject&#39;</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$from</span>    = <span class="i">$message</span><span class="i">-&gt;header</span><span class="s">(</span><span class="q">&#39;From&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you've already got some other kind of email object, consider passing
it to <a href="http://search.cpan.org/perldoc/Email::Abstract">Email::Abstract</a> and then using its cast method to get an
<a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a> object:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$mail_message_object</span> = <span class="i">read_message</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$abstract</span> = <span class="w">Email::Abstract</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$mail_message_object</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$email_mime_object</span> = <span class="i">$abstract</span><span class="i">-&gt;cast</span><span class="s">(</span><span class="q">&#39;Email::MIME&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="How-do-I-check-a-valid-mail-address%3f"></a><h2>How do I check a valid mail address?</h2>
<p>(partly contributed by Aaron Sherman)</p>
<p>This isn't as simple a question as it sounds. There are two parts:</p>
<p>a) How do I verify that an email address is correctly formatted?</p>
<p>b) How do I verify that an email address targets a valid recipient?</p>
<p>Without sending mail to the address and seeing whether there's a human
on the other end to answer you, you cannot fully answer part <i>b</i>, but
the <a href="http://search.cpan.org/perldoc/Email::Valid">Email::Valid</a> module will do both part <i>a</i> and part <i>b</i> as far
as you can in real-time.</p>
<p>Our best advice for verifying a person's mail address is to have them
enter their address twice, just as you normally do to change a
password. This usually weeds out typos. If both versions match, send
mail to that address with a personal message. If you get the message
back and they've followed your directions, you can be reasonably
assured that it's real.</p>
<p>A related strategy that's less open to forgery is to give them a PIN
(personal ID number). Record the address and PIN (best that it be a
random one) for later processing. In the mail you send, include a link to
your site with the PIN included. If the mail bounces, you know it's not
valid. If they don't click on the link, either they forged the address or
(assuming they got the message) following through wasn't important so you
don't need to worry about it.</p>
<a name="How-do-I-decode-a-MIME%2fBASE64-string%3f"></a><h2>How do I decode a MIME/BASE64 string?</h2>
<p>The <a href="MIME/Base64.html">MIME::Base64</a> package handles this as well as the MIME/QP encoding.
Decoding base 64 becomes as simple as:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">MIME::Base64</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$decoded</span> = <span class="i">decode_base64</span><span class="s">(</span><span class="i">$encoded</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The <a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a> module can decode base 64-encoded email message parts
transparently so the developer doesn't need to worry about it.</p>
<a name="How-do-I-find-the-user's-mail-address%3f"></a><h2>How do I find the user's mail address?</h2>
<p>Ask them for it. There are so many email providers available that it's
unlikely the local system has any idea how to determine a user's email address.</p>
<p>The exception is for organization-specific email (e.g. foo@yourcompany.com)
where policy can be codified in your program. In that case, you could look at
$ENV{USER}, $ENV{LOGNAME}, and getpwuid($&lt;) in scalar context, like so:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$user_name</span> = <a class="l_k" href="functions/getpwuid.html">getpwuid</a><span class="s">(</span><span class="i">$&lt;</span><span class="s">)</span></li></ol></pre><p>But you still cannot make assumptions about whether this is correct, unless
your policy says it is. You really are best off asking the user.</p>
<a name="How-do-I-send-email%3f"></a><h2>How do I send email?</h2>
<p>Use the <a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a> and <a href="http://search.cpan.org/perldoc/Email::Sender::Simple">Email::Sender::Simple</a> modules, like so:</p>
<pre class="verbatim"><ol><li>  <span class="c"># first, create your message</span></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$message</span> = <span class="w">Email::MIME</span><span class="w">-&gt;create</span><span class="s">(</span></li><li>    <span class="w">header_str</span> <span class="cm">=&gt;</span> <span class="s">[</span></li><li>      <span class="w">From</span>    <span class="cm">=&gt;</span> <span class="q">&#39;you@example.com&#39;</span><span class="cm">,</span></li><li>      <span class="w">To</span>      <span class="cm">=&gt;</span> <span class="q">&#39;friend@example.com&#39;</span><span class="cm">,</span></li><li>      <span class="w">Subject</span> <span class="cm">=&gt;</span> <span class="q">&#39;Happy birthday!&#39;</span><span class="cm">,</span></li><li>    <span class="s">]</span><span class="cm">,</span></li><li>    <span class="w">attributes</span> <span class="cm">=&gt;</span> <span class="s">{</span></li><li>      <span class="w">encoding</span> <span class="cm">=&gt;</span> <span class="q">&#39;quoted-printable&#39;</span><span class="cm">,</span></li><li>      <span class="w">charset</span>  <span class="cm">=&gt;</span> <span class="q">&#39;utf-8&#39;</span><span class="cm">,</span></li><li>    <span class="s">}</span><span class="cm">,</span></li><li>    <span class="w">body_str</span> <span class="cm">=&gt;</span> <span class="q">&quot;Happy birthday to you!\n&quot;</span><span class="cm">,</span></li><li>  <span class="s">)</span><span class="sc">;</span></li><li></li><li>  <a class="l_k" href="functions/use.html">use</a> <span class="w">Email::Sender::Simple</span> <span class="q">qw(sendmail)</span><span class="sc">;</span></li><li>  <span class="i">sendmail</span><span class="s">(</span><span class="i">$message</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>By default, <a href="http://search.cpan.org/perldoc/Email::Sender::Simple">Email::Sender::Simple</a> will try `sendmail` first, if it exists
in your $PATH. This generally isn't the case. If there's a remote mail
server you use to send mail, consider investigating one of the Transport
classes. At time of writing, the available transports include:</p>
<ul>
<li><a name="the-Email%3a%3aSender%3a%3aTransport%3a%3aSendmail-manpage"></a><b><a href="http://search.cpan.org/perldoc/Email::Sender::Transport::Sendmail">Email::Sender::Transport::Sendmail</a></b>
<p>This is the default. If you can use the <i>mail(1)</i> or <i>mailx(1)</i>
program to send mail from the machine where your code runs, you should
be able to use this.</p>
</li>
<li><a name="the-Email%3a%3aSender%3a%3aTransport%3a%3aSMTP-manpage"></a><b><a href="http://search.cpan.org/perldoc/Email::Sender::Transport::SMTP">Email::Sender::Transport::SMTP</a></b>
<p>This transport contacts a remote SMTP server over TCP. It optionally
uses SSL and can authenticate to the server via SASL.</p>
</li>
<li><a name="the-Email%3a%3aSender%3a%3aTransport%3a%3aSMTP%3a%3aTLS-manpage"></a><b><a href="http://search.cpan.org/perldoc/Email::Sender::Transport::SMTP::TLS">Email::Sender::Transport::SMTP::TLS</a></b>
<p>This is like the SMTP transport, but uses TLS security. You can
authenticate with this module as well, using any mechanisms your server
supports after STARTTLS.</p>
</li>
</ul>
<p>Telling <a href="http://search.cpan.org/perldoc/Email::Sender::Simple">Email::Sender::Simple</a> to use your transport is straightforward.</p>
<pre class="verbatim"><ol><li>  <span class="i">sendmail</span><span class="s">(</span></li><li>    <span class="i">$message</span><span class="cm">,</span></li><li>    <span class="s">{</span></li><li>      <span class="w">transport</span> <span class="cm">=&gt;</span> <span class="i">$email_sender_transport_object</span><span class="cm">,</span></li><li>    <span class="s">}</span></li><li>  <span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="How-do-I-use-MIME-to-make-an-attachment-to-a-mail-message%3f"></a><h2>How do I use MIME to make an attachment to a mail message?</h2>
<p><a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a> directly supports multipart messages. <a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a>
objects themselves are parts and can be attached to other <a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a>
objects. Consult the <a href="http://search.cpan.org/perldoc/Email::MIME">Email::MIME</a> documentation for more information,
including all of the supported methods and examples of their use.</p>
<a name="How-do-I-read-email%3f"></a><h2>How do I read email?</h2>
<p>Use the <a href="http://search.cpan.org/perldoc/Email::Folder">Email::Folder</a> module, like so:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/use.html">use</a> <span class="w">Email::Folder</span><span class="sc">;</span></li><li></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$folder</span> = <span class="w">Email::Folder</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;/path/to/email/folder&#39;</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/while.html">while</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$message</span> = <span class="i">$folder</span><span class="i">-&gt;next_message</span><span class="s">)</span> <span class="s">{</span></li><li>    <span class="c"># next_message returns Email::Simple objects, but we want</span></li><li>    <span class="c"># Email::MIME objects as they&#39;re more robust</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$mime</span> = <span class="w">Email::MIME</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$message</span><span class="i">-&gt;as_string</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="s">}</span></li></ol></pre><p>There are different classes in the <a href="http://search.cpan.org/perldoc/Email::Folder">Email::Folder</a> namespace for
supporting various mailbox types. Note that these modules are generally
rather limited and only support <b>reading</b> rather than writing.</p>
<a name="How-do-I-find-out-my-hostname%2c-domainname%2c-or-IP-address%3f"></a><h2>How do I find out my hostname, domainname, or IP address?
</h2>
<p>(contributed by brian d foy)</p>
<p>The <a href="Net/Domain.html">Net::Domain</a> module, which is part of the Standard Library starting
in Perl 5.7.3, can get you the fully qualified domain name (FQDN), the host
name, or the domain name.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Net::Domain</span> <span class="q">qw(hostname hostfqdn hostdomain)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$host</span> = <span class="i">hostfqdn</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The <a href="Sys/Hostname.html">Sys::Hostname</a> module, part of the Standard Library, can also get the
hostname:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Sys::Hostname</span><span class="sc">;</span></li><li></li><li>    <span class="i">$host</span> = <span class="i">hostname</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The <a href="http://search.cpan.org/perldoc/Sys::Hostname::Long">Sys::Hostname::Long</a> module takes a different approach and tries
harder to return the fully qualified hostname:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/use.html">use</a> <span class="w">Sys::Hostname::Long</span> <span class="q">&#39;hostname_long&#39;</span><span class="sc">;</span></li><li></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$hostname</span> = <span class="i">hostname_long</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>To get the IP address, you can use the <code class="inline"><a class="l_k" href="functions/gethostbyname.html">gethostbyname</a></code> built-in function
to turn the name into a number. To turn that number into the dotted octet
form (a.b.c.d) that most people expect, use the <code class="inline"><span class="w">inet_ntoa</span></code>
 function
from the <a href="Socket.html">Socket</a> module, which also comes with perl.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Socket</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$address</span> = <span class="i">inet_ntoa</span><span class="s">(</span></li><li>        <a class="l_k" href="functions/scalar.html">scalar</a> <a class="l_k" href="functions/gethostbyname.html">gethostbyname</a><span class="s">(</span> <span class="i">$host</span> || <span class="q">&#39;localhost&#39;</span> <span class="s">)</span></li><li>    <span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="How-do-I-fetch%2fput-an-(S)FTP-file%3f"></a><h2>How do I fetch/put an (S)FTP file?</h2>
<p><a href="Net/FTP.html">Net::FTP</a>, and <a href="http://search.cpan.org/perldoc/Net::SFTP">Net::SFTP</a> allow you to interact with FTP and SFTP (Secure
FTP) servers.</p>
<a name="How-can-I-do-RPC-in-Perl%3f"></a><h2>How can I do RPC in Perl?</h2>
<p>Use one of the RPC modules( <a href="https://metacpan.org/search?q=RPC">https://metacpan.org/search?q=RPC</a> ).</p>
<a name="AUTHOR-AND-COPYRIGHT"></a><h1>AUTHOR AND COPYRIGHT</h1>
<p>Copyright (c) 1997-2010 Tom Christiansen, Nathan Torkington, and
other authors as noted. All rights reserved.</p>
<p>This documentation is free; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p>Irrespective of its distribution, all code examples in this file
are hereby placed into the public domain. You are permitted and
encouraged to use this code in your own programs for fun
or for profit as you see fit. A simple comment in the code giving
credit would be courteous but is not required.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#VERSION">VERSION</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Should-I-use-a-web-framework%3f">Should I use a web framework?</a><li><a href="#Which-web-framework-should-I-use%3f">Which web framework should I use?
    </a><li><a href="#What-is-Plack-and-PSGI%3f">What is Plack and PSGI?</a><li><a href="#How-do-I-remove-HTML-from-a-string%3f">How do I remove HTML from a string?</a><li><a href="#How-do-I-extract-URLs%3f">How do I extract URLs?</a><li><a href="#How-do-I-fetch-an-HTML-file%3f">How do I fetch an HTML file?</a><li><a href="#How-do-I-automate-an-HTML-form-submission%3f">How do I automate an HTML form submission?</a><li><a href="#How-do-I-decode-or-create-those-%25-encodings-on-the-web%3f">How do I decode or create those %-encodings on the web?
  </a><li><a href="#How-do-I-redirect-to-another-page%3f">How do I redirect to another page?</a><li><a href="#How-do-I-put-a-password-on-my-web-pages%3f">How do I put a password on my web pages?</a><li><a href="#How-do-I-make-sure-users-can't-enter-values-into-a-form-that-causes-my-CGI-script-to-do-bad-things%3f">How do I make sure users can't enter values into a form that causes my CGI script to do bad things?</a><li><a href="#How-do-I-parse-a-mail-header%3f">How do I parse a mail header?</a><li><a href="#How-do-I-check-a-valid-mail-address%3f">How do I check a valid mail address?</a><li><a href="#How-do-I-decode-a-MIME%2fBASE64-string%3f">How do I decode a MIME/BASE64 string?</a><li><a href="#How-do-I-find-the-user's-mail-address%3f">How do I find the user's mail address?</a><li><a href="#How-do-I-send-email%3f">How do I send email?</a><li><a href="#How-do-I-use-MIME-to-make-an-attachment-to-a-mail-message%3f">How do I use MIME to make an attachment to a mail message?</a><li><a href="#How-do-I-read-email%3f">How do I read email?</a><li><a href="#How-do-I-find-out-my-hostname%2c-domainname%2c-or-IP-address%3f">How do I find out my hostname, domainname, or IP address?
</a><li><a href="#How-do-I-fetch%2fput-an-(S)FTP-file%3f">How do I fetch/put an (S)FTP file?</a><li><a href="#How-can-I-do-RPC-in-Perl%3f">How can I do RPC in Perl?</a></ul><li><a href="#AUTHOR-AND-COPYRIGHT">AUTHOR AND COPYRIGHT</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="index-modules-A.html">Modules</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="index-licence.html">License</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="static/exploreperl.js"></script>
      <script language="JavaScript" src="static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(0);
  perldoc.pageName    = 'perlfaq9';
  perldoc.pageAddress = 'perlfaq9.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
