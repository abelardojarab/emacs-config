<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>pack</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">History / Changes</a>
                <li><a href="../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Special Variables</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>pack</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-language.html">Language reference</a> &gt;
      
        <a href="../index-functions.html">Functions</a> &gt;
      
    
    pack
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>pack</h1>

<div class="mod_az_list">
  <a href="../index-functions.html">Perl functions A-Z</a> |
  <a href="../index-functions-by-cat.html">Perl functions by category</a> |
  <a href="../perlfunc.html">The 'perlfunc' manpage</a>
</div>


  <!--    -->
<ul>
<li><a name="pack-TEMPLATE%2cLIST"></a><b>pack TEMPLATE,LIST</b>
<p></p>
<p>Takes a LIST of values and converts it into a string using the rules
given by the TEMPLATE.  The resulting string is the concatenation of
the converted values.  Typically, each converted value looks
like its machine-level representation.  For example, on 32-bit machines
an integer may be represented by a sequence of 4 bytes, which  will in
Perl be presented as a string that's 4 characters long.</p>
<p>See <a href="../perlpacktut.html">perlpacktut</a> for an introduction to this function.</p>
<p>The TEMPLATE is a sequence of characters that give the order and type
of values, as follows:</p>
<pre class="verbatim"><ol><li>    <span class="w">a</span>  <span class="w">A</span> <span class="w">string</span> <span class="w">with</span> <span class="w">arbitrary</span> <span class="w">binary</span> <span class="w">data</span><span class="cm">,</span> <span class="w">will</span> <span class="w">be</span> <span class="w">null</span> <span class="w">padded</span>.</li><li>    <span class="w">A</span>  <span class="w">A</span> <span class="w">text</span> <span class="s">(</span><span class="w">ASCII</span><span class="s">)</span> <span class="w">string</span><span class="cm">,</span> <span class="w">will</span> <span class="w">be</span> <span class="w">space</span> <span class="w">padded</span>.</li><li>    <span class="w">Z</span>  <span class="w">A</span> <span class="w">null</span>-<span class="w">terminated</span> <span class="s">(</span><span class="w">ASCIZ</span><span class="s">)</span> <span class="w">string</span><span class="cm">,</span> <span class="w">will</span> <span class="w">be</span> <span class="w">null</span> <span class="w">padded</span>.</li><li></li><li>    <span class="w">b</span>  <span class="w">A</span> <span class="w">bit</span> <span class="w">string</span> <span class="s">(</span><span class="w">ascending</span> <span class="w">bit</span> <span class="w">order</span> <span class="w">inside</span> <a class="l_k" href="../functions/each.html">each</a> <span class="w">byte</span><span class="cm">,</span></li><li>       <span class="w">like</span> <a class="l_k" href="../functions/vec.html">vec</a><span class="s">(</span><span class="s">)</span><span class="s">)</span>.</li><li>    <span class="w">B</span>  <span class="w">A</span> <span class="w">bit</span> <span class="w">string</span> <span class="s">(</span><span class="w">descending</span> <span class="w">bit</span> <span class="w">order</span> <span class="w">inside</span> <a class="l_k" href="../functions/each.html">each</a> <span class="w">byte</span><span class="s">)</span>.</li><li>    <span class="w">h</span>  <span class="w">A</span> <a class="l_k" href="../functions/hex.html">hex</a> <span class="w">string</span> <span class="s">(</span><span class="w">low</span> <span class="w">nybble</span> <span class="w">first</span><span class="s">)</span>.</li><li>    <span class="w">H</span>  <span class="w">A</span> <a class="l_k" href="../functions/hex.html">hex</a> <span class="w">string</span> <span class="s">(</span><span class="w">high</span> <span class="w">nybble</span> <span class="w">first</span><span class="s">)</span>.</li><li></li><li>    <span class="w">c</span>  <span class="w">A</span> <span class="w">signed</span> <span class="w">char</span> <span class="s">(</span><span class="n">8</span>-<span class="w">bit</span><span class="s">)</span> <span class="w">value</span>.</li><li>    <span class="w">C</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">char</span> <span class="s">(</span><span class="w">octet</span><span class="s">)</span> <span class="w">value</span>.</li><li>    <span class="w">W</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">char</span> <span class="w">value</span> <span class="s">(</span><span class="w">can</span> <span class="w">be</span> <span class="w">greater</span> <span class="w">than</span> <span class="n">255</span><span class="s">)</span>.</li><li></li><li>    <span class="q">s  A signed short (16-bit) value.</span></li><li>    <span class="q">    S  An unsigned short value.</span></li><li></li><li>    <span class="q">    l  A</span> <span class="w">signed</span> <span class="w">long</span> <span class="s">(</span><span class="n">32</span>-<span class="w">bit</span><span class="s">)</span> <span class="w">value</span>.</li><li>    <span class="w">L</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">long</span> <span class="w">value</span>.</li><li></li><li>    <span class="q">q  A signed quad (64-bit) value.</span></li><li>    <span class="q">    Q  An</span> <span class="w">unsigned</span> <span class="w">quad</span> <span class="w">value</span>.</li><li>         <span class="s">(</span><span class="w">Quads</span> <span class="w">are</span> <span class="w">available</span> <span class="w">only</span> <a class="l_k" href="../functions/if.html">if</a> <span class="w">your</span> <a class="l_k" href="../functions/system.html">system</a> <span class="i">supports</span> <span class="n">64</span>-<span class="w">bit</span></li><li>          <span class="w">integer</span> <a class="l_k" href="../functions/values.html">values</a> <span class="w">_and_</span> <a class="l_k" href="../functions/if.html">if</a> <span class="w">Perl</span> <span class="w">has</span> <span class="w">been</span> <span class="w">compiled</span> <span class="w">to</span> <span class="w">support</span></li><li>          <span class="w">those</span>.  <span class="w">Raises</span> <span class="w">an</span> <span class="w">exception</span> <span class="w">otherwise</span>.<span class="s">)</span></li><li></li><li>    <span class="w">i</span>  <span class="w">A</span> <span class="w">signed</span> <span class="w">integer</span> <span class="w">value</span>.</li><li>    <span class="w">I</span>  <span class="w">A</span> <span class="w">unsigned</span> <span class="w">integer</span> <span class="w">value</span>.</li><li>         <span class="s">(</span><span class="w">This</span> <span class="q">&#39;integer&#39;</span> <span class="w">is</span> <span class="w">_at_least_</span> <span class="n">32</span> <span class="w">bits</span> <span class="w">wide</span>.  <span class="w">Its</span> <span class="w">exact</span></li><li>          <span class="w">size</span> <span class="w">depends</span> <span class="w">on</span> <span class="w">what</span> <span class="w">a</span> <a class="l_k" href="../functions/local.html">local</a> <span class="w">C</span> <span class="w">compiler</span> <span class="w">calls</span> <span class="q">&#39;int&#39;</span>.<span class="s">)</span></li><li></li><li>    <span class="w">n</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">short</span> <span class="s">(</span><span class="n">16</span>-<span class="w">bit</span><span class="s">)</span> <span class="w">in</span> <span class="q">&quot;network&quot;</span> <span class="s">(</span><span class="w">big</span>-<span class="w">endian</span><span class="s">)</span> <span class="w">order</span>.</li><li>    <span class="w">N</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">long</span> <span class="s">(</span><span class="n">32</span>-<span class="w">bit</span><span class="s">)</span> <span class="w">in</span> <span class="q">&quot;network&quot;</span> <span class="s">(</span><span class="w">big</span>-<span class="w">endian</span><span class="s">)</span> <span class="w">order</span>.</li><li>    <span class="w">v</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">short</span> <span class="s">(</span><span class="n">16</span>-<span class="w">bit</span><span class="s">)</span> <span class="w">in</span> <span class="q">&quot;VAX&quot;</span> <span class="s">(</span><span class="w">little</span>-<span class="w">endian</span><span class="s">)</span> <span class="w">order</span>.</li><li>    <span class="w">V</span>  <span class="w">An</span> <span class="w">unsigned</span> <span class="w">long</span> <span class="s">(</span><span class="n">32</span>-<span class="w">bit</span><span class="s">)</span> <span class="w">in</span> <span class="q">&quot;VAX&quot;</span> <span class="s">(</span><span class="w">little</span>-<span class="w">endian</span><span class="s">)</span> <span class="w">order</span>.</li><li></li><li>    <span class="w">j</span>  <span class="w">A</span> <span class="w">Perl</span> <span class="w">internal</span> <span class="w">signed</span> <span class="w">integer</span> <span class="w">value</span> <span class="s">(</span><span class="w">IV</span><span class="s">)</span>.</li><li>    <span class="w">J</span>  <span class="w">A</span> <span class="w">Perl</span> <span class="w">internal</span> <span class="w">unsigned</span> <span class="w">integer</span> <span class="w">value</span> <span class="s">(</span><span class="w">UV</span><span class="s">)</span>.</li><li></li><li>    <span class="w">f</span>  <span class="w">A</span> <span class="w">single</span>-<span class="w">precision</span> <span class="w">float</span> <span class="w">in</span> <span class="w">native</span> format.</li><li><span class="hh">    d  A double-precision float in native format.</span></li><li></li><li><span class="hh">    F  A Perl internal floating-point value (NV) in native format</span></li><li><span class="hh">    D  A float of long-double precision in native format.</span></li><li><span class="hh">         (Long doubles are available only if your system supports</span></li><li><span class="hh">          long double values _and_ if Perl has been compiled to</span></li><li><span class="hh">          support those.  Raises an exception otherwise.</span></li><li><span class="hh">          Note that there are different long double formats.)</span></li><li></li><li><span class="hh">    p  A pointer to a null-terminated string.</span></li><li><span class="hh">    P  A pointer to a structure (fixed-length string).</span></li><li></li><li><span class="hh">    u  A uuencoded string.</span></li><li><span class="hh">    U  A Unicode character number.  Encodes to a character in char-</span></li><li><span class="hh">       acter mode and UTF-8 (or UTF-EBCDIC in EBCDIC platforms) in</span></li><li><span class="hh">       byte mode.</span></li><li></li><li><span class="hh">    w  A BER compressed integer (not an ASN.1 BER, see perlpacktut</span></li><li><span class="hh">       for details).  Its bytes represent an unsigned integer in</span></li><li><span class="hh">       base 128, most significant digit first, with as few digits</span></li><li><span class="hh">       as possible.  Bit eight (the high bit) is set on each byte</span></li><li><span class="hh">       except the last.</span></li><li></li><li><span class="hh">    x  A null byte (a.k.a ASCII NUL, &quot;\000&quot;, chr(0))</span></li><li><span class="hh">    X  Back up a byte.</span></li><li><span class="hh">    @  Null-fill or truncate to absolute position, counted from the</span></li><li><span class="hh">       start of the innermost ()-group.</span></li><li><span class="hh">    .  Null-fill or truncate to absolute position specified by</span></li><li><span class="hh">       the value.</span></li><li><span class="hh">    (  Start of a ()-group.</span></li></ol></pre><p>One or more modifiers below may optionally follow certain letters in the
TEMPLATE (the second column lists letters for which the modifier is valid):</p>
<pre class="verbatim"><ol><li>    !   <span class="w">sSlLiI</span>     <span class="w">Forces</span> <span class="w">native</span> <span class="s">(</span><span class="w">short</span><span class="cm">,</span> <span class="w">long</span><span class="cm">,</span> <a class="l_k" href="../functions/int.html">int</a><span class="s">)</span> <span class="w">sizes</span> <span class="w">instead</span></li><li>                   <span class="w">of</span> <span class="w">fixed</span> <span class="s">(</span><span class="n">16</span>-<span class="q">/32-bit) sizes.</span></li><li></li><li>    <span class="q">    !   xX         Make x and X act as alignment commands.</span></li><li></li><li>    <span class="q">    !   nNvV       Treat integers as signed instead of unsigned.</span></li><li></li><li>    <span class="q">    !   @.         Specify position as byte offset in the internal</span></li><li>                   <span class="q">                   representation of the packed string.  Efficient</span></li><li>                   <span class="q">                   but dangerous.</span></li><li></li><li>    <span class="q">    &gt;   sSiIlLqQ   Force big-endian byte-order on the type.</span></li><li>        <span class="q">        jJfFdDpP   (The &quot;big end&quot; touches the construct.)</span></li><li></li><li>    <span class="q">    &lt;   sSiIlLqQ   Force little-endian byte-order on the type.</span></li><li>        <span class="q">        jJfFdDpP   (The &quot;little end&quot; touches the construct.)</span></li></ol></pre><p>The <code class="inline">&gt;</code> and <code class="inline">&lt;</code>
 modifiers can also be used on <code class="inline"><span class="s">(</span><span class="s">)</span></code>
 groups 
to force a particular byte-order on all components in that group, 
including all its subgroups.</p>
<p>The following rules apply:</p>
<ul>
<li>
<p>Each letter may optionally be followed by a number indicating the repeat
count.  A numeric repeat count may optionally be enclosed in brackets, as
in <code class="inline"><a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;C[80]&quot;</span><span class="cm">,</span> <span class="i">@arr</span><span class="s">)</span></code>
.  The repeat count gobbles that many values from
the LIST when used with all format types other than <code class="inline"><span class="w">a</span></code>
, <code class="inline"><span class="w">A</span></code>
, <code class="inline"><span class="w">Z</span></code>
, <code class="inline"><span class="w">b</span></code>
,
<code class="inline"><span class="w">B</span></code>
, <code class="inline"><span class="w">h</span></code>
, <code class="inline"><span class="w">H</span></code>
, <code class="inline"><span class="i">@</span></code>
, <code class="inline">.</code>, <code class="inline"><span class="w">x</span></code>
, <code class="inline"><span class="w">X</span></code>
, and <code class="inline"><span class="w">P</span></code>
, where it means
something else, described below.  Supplying a <code class="inline"><span class="i">*</span></code>
 for the repeat count
instead of a number means to use however many items are left, except for:</p>
<ul>
<li>
<p><code class="inline"><span class="i">@</span></code>
, <code class="inline"><span class="w">x</span></code>
, and <code class="inline"><span class="w">X</span></code>
, where it is equivalent to <code class="inline"><span class="n">0</span></code>
.</p>
</li>
<li>
<p>&lt;.&gt;, where it means relative to the start of the string.</p>
</li>
<li>
<p><code class="inline"><span class="w">u</span></code>
, where it is equivalent to 1 (or 45, which here is equivalent).</p>
</li>
</ul>
<p>One can replace a numeric repeat count with a template letter enclosed in
brackets to use the packed byte length of the bracketed template for the
repeat count.</p>
<p>For example, the template <code class="inline"><span class="w">x</span><span class="s">[</span><span class="w">L</span><span class="s">]</span></code>
 skips as many bytes as in a packed long,
and the template <code class="inline"><span class="q">&quot;$t X[$t] $t&quot;</span></code>
 unpacks twice whatever $t (when
variable-expanded) unpacks.  If the template in brackets contains alignment
commands (such as <code class="inline"><span class="w">x</span>!<span class="s">[</span><span class="w">d</span><span class="s">]</span></code>
), its packed length is calculated as if the
start of the template had the maximal possible alignment.</p>
<p>When used with <code class="inline"><span class="w">Z</span></code>
, a <code class="inline"><span class="i">*</span></code>
 as the repeat count is guaranteed to add a
trailing null byte, so the resulting string is always one byte longer than
the byte length of the item itself.</p>
<p>When used with <code class="inline"><span class="i">@</span></code>
, the repeat count represents an offset from the start
of the innermost <code class="inline"><span class="s">(</span><span class="s">)</span></code>
 group.</p>
<p>When used with <code class="inline">.</code>, the repeat count determines the starting position to
calculate the value offset as follows:</p>
<ul>
<li>
<p>If the repeat count is <code class="inline"><span class="n">0</span></code>
, it's relative to the current position.</p>
</li>
<li>
<p>If the repeat count is <code class="inline"><span class="i">*</span></code>
, the offset is relative to the start of the
packed string.</p>
</li>
<li>
<p>And if it's an integer <i>n</i>, the offset is relative to the start of the
<i>n</i>th innermost <code class="inline"><span class="s">(</span> <span class="s">)</span></code>
 group, or to the start of the string if <i>n</i> is
bigger then the group level.</p>
</li>
</ul>
<p>The repeat count for <code class="inline"><span class="w">u</span></code>
 is interpreted as the maximal number of bytes
to encode per line of output, with 0, 1 and 2 replaced by 45.  The repeat 
count should not be more than 65.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">a</span></code>
, <code class="inline"><span class="w">A</span></code>
, and <code class="inline"><span class="w">Z</span></code>
 types gobble just one value, but pack it as a
string of length count, padding with nulls or spaces as needed.  When
unpacking, <code class="inline"><span class="w">A</span></code>
 strips trailing whitespace and nulls, <code class="inline"><span class="w">Z</span></code>
 strips everything
after the first null, and <code class="inline"><span class="w">a</span></code>
 returns data with no stripping at all.</p>
<p>If the value to pack is too long, the result is truncated.  If it's too
long and an explicit count is provided, <code class="inline"><span class="w">Z</span></code>
 packs only <code class="inline"><span class="i">$count</span>-<span class="n">1</span></code>
 bytes,
followed by a null byte.  Thus <code class="inline"><span class="w">Z</span></code>
 always packs a trailing null, except
when the count is 0.</p>
</li>
<li>
<p>Likewise, the <code class="inline"><span class="w">b</span></code>
 and <code class="inline"><span class="w">B</span></code>
 formats pack a string that's that many bits long.
Each such format generates 1 bit of the result.  These are typically followed
by a repeat count like <code class="inline"><span class="w">B8</span></code>
 or <code class="inline"><span class="w">B64</span></code>
.</p>
<p>Each result bit is based on the least-significant bit of the corresponding
input character, i.e., on <code class="inline"><a class="l_k" href="../functions/ord.html">ord($char)%2</a></code>.  In particular, characters <code class="inline"><span class="q">&quot;0&quot;</span></code>

and <code class="inline"><span class="q">&quot;1&quot;</span></code>
 generate bits 0 and 1, as do characters <code class="inline"><span class="q">&quot;\000&quot;</span></code>
 and <code class="inline"><span class="q">&quot;\001&quot;</span></code>
.</p>
<p>Starting from the beginning of the input string, each 8-tuple
of characters is converted to 1 character of output.  With format <code class="inline"><span class="w">b</span></code>
,
the first character of the 8-tuple determines the least-significant bit of a
character; with format <code class="inline"><span class="w">B</span></code>
, it determines the most-significant bit of
a character.</p>
<p>If the length of the input string is not evenly divisible by 8, the
remainder is packed as if the input string were padded by null characters
at the end.  Similarly during unpacking, "extra" bits are ignored.</p>
<p>If the input string is longer than needed, remaining characters are ignored.</p>
<p>A <code class="inline"><span class="i">*</span></code>
 for the repeat count uses all characters of the input field.  
On unpacking, bits are converted to a string of <code class="inline"><span class="n">0</span></code>
s and <code class="inline"><span class="n">1</span></code>
s.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">h</span></code>
 and <code class="inline"><span class="w">H</span></code>
 formats pack a string that many nybbles (4-bit groups,
representable as hexadecimal digits, <code class="inline"><span class="q">&quot;0&quot;</span>..<span class="q">&quot;9&quot;</span></code>
 <code class="inline"><span class="q">&quot;a&quot;</span>..<span class="q">&quot;f&quot;</span></code>
) long.</p>
<p>For each such format, pack() generates 4 bits of result.
With non-alphabetical characters, the result is based on the 4 least-significant
bits of the input character, i.e., on <code class="inline"><a class="l_k" href="../functions/ord.html">ord($char)%16</a></code>.  In particular,
characters <code class="inline"><span class="q">&quot;0&quot;</span></code>
 and <code class="inline"><span class="q">&quot;1&quot;</span></code>
 generate nybbles 0 and 1, as do bytes
<code class="inline"><span class="q">&quot;\000&quot;</span></code>
 and <code class="inline"><span class="q">&quot;\001&quot;</span></code>
.  For characters <code class="inline"><span class="q">&quot;a&quot;</span>..<span class="q">&quot;f&quot;</span></code>
 and <code class="inline"><span class="q">&quot;A&quot;</span>..<span class="q">&quot;F&quot;</span></code>
, the result
is compatible with the usual hexadecimal digits, so that <code class="inline"><span class="q">&quot;a&quot;</span></code>
 and
<code class="inline"><span class="q">&quot;A&quot;</span></code>
 both generate the nybble <code class="inline"><span class="n">0xA</span>==<span class="n">10</span></code>
.  Use only these specific hex 
characters with this format.</p>
<p>Starting from the beginning of the template to pack(), each pair
of characters is converted to 1 character of output.  With format <code class="inline"><span class="w">h</span></code>
, the
first character of the pair determines the least-significant nybble of the
output character; with format <code class="inline"><span class="w">H</span></code>
, it determines the most-significant
nybble.</p>
<p>If the length of the input string is not even, it behaves as if padded by
a null character at the end.  Similarly, "extra" nybbles are ignored during
unpacking.</p>
<p>If the input string is longer than needed, extra characters are ignored.</p>
<p>A <code class="inline"><span class="i">*</span></code>
 for the repeat count uses all characters of the input field.  For
unpack(), nybbles are converted to a string of hexadecimal digits.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">p</span></code>
 format packs a pointer to a null-terminated string.  You are
responsible for ensuring that the string is not a temporary value, as that
could potentially get deallocated before you got around to using the packed
result.  The <code class="inline"><span class="w">P</span></code>
 format packs a pointer to a structure of the size indicated
by the length.  A null pointer is created if the corresponding value for
<code class="inline"><span class="w">p</span></code>
 or <code class="inline"><span class="w">P</span></code>
 is <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>; similarly with unpack(), where a null pointer
unpacks into <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>.</p>
<p>If your system has a strange pointer size--meaning a pointer is neither as
big as an int nor as big as a long--it may not be possible to pack or
unpack pointers in big- or little-endian byte order.  Attempting to do
so raises an exception.</p>
</li>
<li>
<p>The <code class="inline">/</code> template character allows packing and unpacking of a sequence of
items where the packed structure contains a packed item count followed by
the packed items themselves.  This is useful when the structure you're
unpacking has encoded the sizes or repeat counts for some of its fields
within the structure itself as separate fields.</p>
<p>For <code class="inline"><a class="l_k" href="../functions/pack.html">pack</a></code>, you write <i>length-item</i><code class="inline">/</code><i>sequence-item</i>, and the
<i>length-item</i> describes how the length value is packed.  Formats likely
to be of most use are integer-packing ones like <code class="inline"><span class="w">n</span></code>
 for Java strings,
<code class="inline"><span class="w">w</span></code>
 for ASN.1 or SNMP, and <code class="inline"><span class="w">N</span></code>
 for Sun XDR.</p>
<p>For <code class="inline"><a class="l_k" href="../functions/pack.html">pack</a></code>, <i>sequence-item</i> may have a repeat count, in which case
the minimum of that and the number of available items is used as the argument
for <i>length-item</i>.  If it has no repeat count or uses a '*', the number
of available items is used.</p>
<p>For <code class="inline"><a class="l_k" href="../functions/unpack.html">unpack</a></code>, an internal stack of integer arguments unpacked so far is
used.  You write <code class="inline">/</code><i>sequence-item</i> and the repeat count is obtained by
popping off the last element from the stack.  The <i>sequence-item</i> must not
have a repeat count.</p>
<p>If <i>sequence-item</i> refers to a string type (<code class="inline"><span class="q">&quot;A&quot;</span></code>
, <code class="inline"><span class="q">&quot;a&quot;</span></code>
, or <code class="inline"><span class="q">&quot;Z&quot;</span></code>
),
the <i>length-item</i> is the string length, not the number of strings.  With
an explicit repeat count for pack, the packed string is adjusted to that
length.  For example:</p>
<pre class="verbatim"><ol><li> <span class="w">This</span> <span class="w">code</span><span class="co">:</span>                             <span class="w">gives</span> <span class="w">this</span> <span class="w">result</span><span class="co">:</span></li><li></li><li> <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&quot;W/a&quot;</span><span class="cm">,</span> <span class="q">&quot;\004Gurusamy&quot;</span><span class="s">)</span>          <span class="s">(</span><span class="q">&quot;Guru&quot;</span><span class="s">)</span></li><li> <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&quot;a3/A A*&quot;</span><span class="cm">,</span> <span class="q">&quot;007 Bond  J &quot;</span><span class="s">)</span>      <span class="s">(</span><span class="q">&quot; Bond&quot;</span><span class="cm">,</span> <span class="q">&quot;J&quot;</span><span class="s">)</span></li><li> <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&quot;a3 x2 /A A*&quot;</span><span class="cm">,</span> <span class="q">&quot;007: Bond, J.&quot;</span><span class="s">)</span> <span class="s">(</span><span class="q">&quot;Bond, J&quot;</span><span class="cm">,</span> <span class="q">&quot;.&quot;</span><span class="s">)</span></li><li></li><li> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;n/a* w/a&quot;</span><span class="cm">,</span><span class="q">&quot;hello,&quot;</span><span class="cm">,</span><span class="q">&quot;world&quot;</span><span class="s">)</span>     <span class="q">&quot;\000\006hello,\005world&quot;</span></li><li> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;a/W2&quot;</span><span class="cm">,</span> <a class="l_k" href="../functions/ord.html">ord</a><span class="s">(</span><span class="q">&quot;a&quot;</span><span class="s">)</span> .. <a class="l_k" href="../functions/ord.html">ord</a><span class="s">(</span><span class="q">&quot;z&quot;</span><span class="s">)</span><span class="s">)</span>    <span class="q">&quot;2ab&quot;</span></li></ol></pre><p>The <i>length-item</i> is not returned explicitly from <code class="inline"><a class="l_k" href="../functions/unpack.html">unpack</a></code>.</p>
<p>Supplying a count to the <i>length-item</i> format letter is only useful with
<code class="inline"><span class="w">A</span></code>
, <code class="inline"><span class="w">a</span></code>
, or <code class="inline"><span class="w">Z</span></code>
.  Packing with a <i>length-item</i> of <code class="inline"><span class="w">a</span></code>
 or <code class="inline"><span class="w">Z</span></code>
 may
introduce <code class="inline"><span class="q">&quot;\000&quot;</span></code>
 characters, which Perl does not regard as legal in
numeric strings.</p>
</li>
<li>
<p>The integer types <code class="inline"><a class="l_k" href="../functions/s.html">s</a></code>, <code class="inline"><span class="w">S</span></code>
, <code class="inline"><span class="w">l</span></code>
, and <code class="inline"><span class="w">L</span></code>
 may be
followed by a <code class="inline">!</code>
 modifier to specify native shorts or
longs.  As shown in the example above, a bare <code class="inline"><span class="w">l</span></code>
 means
exactly 32 bits, although the native <code class="inline"><span class="w">long</span></code>
 as seen by the local C compiler
may be larger.  This is mainly an issue on 64-bit platforms.  You can
see whether using <code class="inline">!</code>
 makes any difference this way:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/printf.html">printf</a> <span class="q">&quot;format s is %d, s! is %d\n&quot;</span><span class="cm">,</span> </li><li>	<a class="l_k" href="../functions/length.html">length</a> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;s&quot;</span><span class="s">)</span><span class="cm">,</span> <a class="l_k" href="../functions/length.html">length</a> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;s!&quot;</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="../functions/printf.html">printf</a> <span class="q">&quot;format l is %d, l! is %d\n&quot;</span><span class="cm">,</span> </li><li>	<a class="l_k" href="../functions/length.html">length</a> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;l&quot;</span><span class="s">)</span><span class="cm">,</span> <a class="l_k" href="../functions/length.html">length</a> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;l!&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p><code class="inline"><span class="w">i</span>!</code>
 and <code class="inline"><span class="w">I</span>!</code>
 are also allowed, but only for completeness' sake:
they are identical to <code class="inline"><span class="w">i</span></code>
 and <code class="inline"><span class="w">I</span></code>
.</p>
<p>The actual sizes (in bytes) of native shorts, ints, longs, and long
longs on the platform where Perl was built are also available from
the command line:</p>
<pre class="verbatim"><ol><li>    $ perl -V:{short,int,long{,long}}size</li><li>    shortsize='2';</li><li>    intsize='4';</li><li>    longsize='4';</li><li>    longlongsize='8';</li></ol></pre><p>or programmatically via the <code class="inline"><span class="w">Config</span></code>
 module:</p>
<pre class="verbatim"><ol><li>       <a class="l_k" href="../functions/use.html">use</a> <span class="w">Config</span><span class="sc">;</span></li><li>       <a class="l_k" href="../functions/print.html">print</a> <span class="i">$Config</span>{<span class="w">shortsize</span>}<span class="cm">,</span>    <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>       <a class="l_k" href="../functions/print.html">print</a> <span class="i">$Config</span>{<span class="w">intsize</span>}<span class="cm">,</span>      <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>       <a class="l_k" href="../functions/print.html">print</a> <span class="i">$Config</span>{<span class="w">longsize</span>}<span class="cm">,</span>     <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>       <a class="l_k" href="../functions/print.html">print</a> <span class="i">$Config</span>{<span class="w">longlongsize</span>}<span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p><code class="inline"><span class="i">$Config</span>{<span class="w">longlongsize</span>}</code>
 is undefined on systems without 
long long support.</p>
</li>
<li>
<p>The integer formats <code class="inline"><a class="l_k" href="../functions/s.html">s</a></code>, <code class="inline"><span class="w">S</span></code>
, <code class="inline"><span class="w">i</span></code>
, <code class="inline"><span class="w">I</span></code>
, <code class="inline"><span class="w">l</span></code>
, <code class="inline"><span class="w">L</span></code>
, <code class="inline"><span class="w">j</span></code>
, and <code class="inline"><span class="w">J</span></code>
 are
inherently non-portable between processors and operating systems because
they obey native byteorder and endianness.  For example, a 4-byte integer
0x12345678 (305419896 decimal) would be ordered natively (arranged in and
handled by the CPU registers) into bytes as</p>
<pre class="verbatim"><ol><li>    0x12 0x34 0x56 0x78  # big-endian</li><li>    0x78 0x56 0x34 0x12  # little-endian</li></ol></pre><p>Basically, Intel and VAX CPUs are little-endian, while everybody else,
including Motorola m68k/88k, PPC, Sparc, HP PA, Power, and Cray, are
big-endian.  Alpha and MIPS can be either: Digital/Compaq uses (well, used) 
them in little-endian mode, but SGI/Cray uses them in big-endian mode.</p>
<p>The names <i>big-endian</i> and <i>little-endian</i> are comic references to the
egg-eating habits of the little-endian Lilliputians and the big-endian
Blefuscudians from the classic Jonathan Swift satire, <i>Gulliver's Travels</i>.
This entered computer lingo via the paper "On Holy Wars and a Plea for
Peace" by Danny Cohen, USC/ISI IEN 137, April 1, 1980.</p>
<p>Some systems may have even weirder byte orders such as</p>
<pre class="verbatim"><ol><li>   0x56 0x78 0x12 0x34</li><li>   0x34 0x12 0x78 0x56</li></ol></pre><p>These are called mid-endian, middle-endian, mixed-endian, or just weird.</p>
<p>You can determine your system endianness with this incantation:</p>
<pre class="verbatim"><ol><li>   <a class="l_k" href="../functions/printf.html">printf</a><span class="s">(</span><span class="q">&quot;%#02x &quot;</span><span class="cm">,</span> <span class="i">$_</span><span class="s">)</span> for <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&quot;W*&quot;</span><span class="cm">,</span> <a class="l_k" href="../functions/pack.html">pack</a> <span class="w">L</span><span class="cm">=&gt;</span><span class="n">0x12345678</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The byteorder on the platform where Perl was built is also available
via <a href="../Config.html">Config</a>:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Config</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$Config{byteorder}\n&quot;</span><span class="sc">;</span></li></ol></pre><p>or from the command line:</p>
<pre class="verbatim"><ol><li>    $ perl -V:byteorder</li></ol></pre><p>Byteorders <code class="inline"><span class="q">&quot;1234&quot;</span></code>
 and <code class="inline"><span class="q">&quot;12345678&quot;</span></code>
 are little-endian; <code class="inline"><span class="q">&quot;4321&quot;</span></code>

and <code class="inline"><span class="q">&quot;87654321&quot;</span></code>
 are big-endian.  Systems with multiarchitecture binaries
will have <code class="inline"><span class="q">&quot;ffff&quot;</span></code>
, signifying that static information doesn't work,
one must use runtime probing.</p>
<p>For portably packed integers, either use the formats <code class="inline"><span class="w">n</span></code>
, <code class="inline"><span class="w">N</span></code>
, <code class="inline"><span class="w">v</span></code>
, 
and <code class="inline"><span class="w">V</span></code>
 or else use the <code class="inline">&gt;</code> and <code class="inline">&lt;</code>
 modifiers described
immediately below.  See also <a href="../perlport.html">perlport</a>.</p>
</li>
<li>
<p>Also floating point numbers have endianness.  Usually (but not always)
this agrees with the integer endianness.  Even though most platforms
these days use the IEEE 754 binary format, there are differences,
especially if the long doubles are involved.  You can see the
<code class="inline"><span class="w">Config</span></code>
 variables <code class="inline"><span class="w">doublekind</span></code>
 and <code class="inline"><span class="w">longdblkind</span></code>
 (also <code class="inline"><span class="w">doublesize</span></code>
,
<code class="inline"><span class="w">longdblsize</span></code>
): the "kind" values are enums, unlike <code class="inline"><span class="w">byteorder</span></code>
.</p>
<p>Portability-wise the best option is probably to keep to the IEEE 754
64-bit doubles, and of agreed-upon endianness.  Another possibility
is the <code class="inline"><span class="q">&quot;%a&quot;</span></code>
) format of <code class="inline"><a class="l_k" href="../functions/printf.html">printf</a></code>.</p>
</li>
<li>
<p>Starting with Perl 5.10.0, integer and floating-point formats, along with
the <code class="inline"><span class="w">p</span></code>
 and <code class="inline"><span class="w">P</span></code>
 formats and <code class="inline"><span class="s">(</span><span class="s">)</span></code>
 groups, may all be followed by the 
<code class="inline">&gt;</code> or <code class="inline">&lt;</code>
 endianness modifiers to respectively enforce big-
or little-endian byte-order.  These modifiers are especially useful 
given how <code class="inline"><span class="w">n</span></code>
, <code class="inline"><span class="w">N</span></code>
, <code class="inline"><span class="w">v</span></code>
, and <code class="inline"><span class="w">V</span></code>
 don't cover signed integers, 
64-bit integers, or floating-point values.</p>
<p>Here are some concerns to keep in mind when using an endianness modifier:</p>
<ul>
<li>
<p>Exchanging signed integers between different platforms works only 
when all platforms store them in the same format.  Most platforms store
signed integers in two's-complement notation, so usually this is not an issue.</p>
</li>
<li>
<p>The <code class="inline">&gt;</code> or <code class="inline">&lt;</code>
 modifiers can only be used on floating-point
formats on big- or little-endian machines.  Otherwise, attempting to
use them raises an exception.</p>
</li>
<li>
<p>Forcing big- or little-endian byte-order on floating-point values for
data exchange can work only if all platforms use the same
binary representation such as IEEE floating-point.  Even if all
platforms are using IEEE, there may still be subtle differences.  Being able
to use <code class="inline">&gt;</code> or <code class="inline">&lt;</code>
 on floating-point values can be useful,
but also dangerous if you don't know exactly what you're doing.
It is not a general way to portably store floating-point values.</p>
</li>
<li>
<p>When using <code class="inline">&gt;</code> or <code class="inline">&lt;</code>
 on a <code class="inline"><span class="s">(</span><span class="s">)</span></code>
 group, this affects
all types inside the group that accept byte-order modifiers,
including all subgroups.  It is silently ignored for all other
types.  You are not allowed to override the byte-order within a group
that already has a byte-order modifier suffix.</p>
</li>
</ul>
</li>
<li>
<p>Real numbers (floats and doubles) are in native machine format only.
Due to the multiplicity of floating-point formats and the lack of a
standard "network" representation for them, no facility for interchange has been
made.  This means that packed floating-point data written on one machine
may not be readable on another, even if both use IEEE floating-point
arithmetic (because the endianness of the memory representation is not part
of the IEEE spec).  See also <a href="../perlport.html">perlport</a>.</p>
<p>If you know <i>exactly</i> what you're doing, you can use the <code class="inline">&gt;</code> or <code class="inline">&lt;</code>

modifiers to force big- or little-endian byte-order on floating-point values.</p>
<p>Because Perl uses doubles (or long doubles, if configured) internally for
all numeric calculation, converting from double into float and thence 
to double again loses precision, so <code class="inline">unpack("f", pack("f", $foo)</code>)
will not in general equal $foo.</p>
</li>
<li>
<p>Pack and unpack can operate in two modes: character mode (<code class="inline"><span class="w">C0</span></code>
 mode) where
the packed string is processed per character, and UTF-8 byte mode (<code class="inline"><span class="w">U0</span></code>
 mode)
where the packed string is processed in its UTF-8-encoded Unicode form on
a byte-by-byte basis.  Character mode is the default
unless the format string starts with <code class="inline"><span class="w">U</span></code>
.  You
can always switch mode mid-format with an explicit 
<code class="inline"><span class="w">C0</span></code>
 or <code class="inline"><span class="w">U0</span></code>
 in the format.  This mode remains in effect until the next 
mode change, or until the end of the <code class="inline"><span class="s">(</span><span class="s">)</span></code>
 group it (directly) applies to.</p>
<p>Using <code class="inline"><span class="w">C0</span></code>
 to get Unicode characters while using <code class="inline"><span class="w">U0</span></code>
 to get <i>non</i>-Unicode 
bytes is not necessarily obvious.   Probably only the first of these
is what you want:</p>
<pre class="verbatim"><ol><li>    <span class="i">$ perl</span> -<span class="w">CS</span> -<span class="w">E</span> <span class="q">&#39;say &quot;\x{3B1}\x{3C9}&quot;&#39;</span> | </li><li>      <span class="w">perl</span> -<span class="w">CS</span> -ne <span class="q">&#39;printf &quot;%v04X\n&quot;, $_ for unpack(&quot;C0A*&quot;, $_)&#39;</span></li><li>    <span class="n">03</span><span class="w">B1</span><span class="n">.03</span><span class="w">C9</span></li><li>    <span class="i">$ perl</span> -<span class="w">CS</span> -<span class="w">E</span> <span class="q">&#39;say &quot;\x{3B1}\x{3C9}&quot;&#39;</span> | </li><li>      <span class="w">perl</span> -<span class="w">CS</span> -ne <span class="q">&#39;printf &quot;%v02X\n&quot;, $_ for unpack(&quot;U0A*&quot;, $_)&#39;</span></li><li>    <span class="w">CE</span>.<span class="w">B1</span>.<span class="w">CF</span><span class="n">.89</span></li><li>    <span class="i">$ perl</span> -<span class="w">CS</span> -<span class="w">E</span> <span class="q">&#39;say &quot;\x{3B1}\x{3C9}&quot;&#39;</span> | </li><li>      <span class="w">perl</span> -<span class="w">C0</span> -ne <span class="q">&#39;printf &quot;%v02X\n&quot;, $_ for unpack(&quot;C0A*&quot;, $_)&#39;</span></li><li>    <span class="w">CE</span>.<span class="w">B1</span>.<span class="w">CF</span><span class="n">.89</span></li><li>    <span class="i">$ perl</span> -<span class="w">CS</span> -<span class="w">E</span> <span class="q">&#39;say &quot;\x{3B1}\x{3C9}&quot;&#39;</span> | </li><li>      <span class="w">perl</span> -<span class="w">C0</span> -ne <span class="q">&#39;printf &quot;%v02X\n&quot;, $_ for unpack(&quot;U0A*&quot;, $_)&#39;</span></li><li>    <span class="w">C3</span><span class="n">.8</span><span class="w">E</span>.<span class="w">C2</span>.<span class="w">B1</span>.<span class="w">C3</span><span class="n">.8</span><span class="w">F</span>.<span class="w">C2</span><span class="n">.89</span></li></ol></pre><p>Those examples also illustrate that you should not try to use
<code class="inline"><a class="l_k" href="../functions/pack.html">pack</a></code>/<code class="inline"><a class="l_k" href="../functions/unpack.html">unpack</a></code> as a substitute for the <a href="../Encode.html">Encode</a> module.</p>
</li>
<li>
<p>You must yourself do any alignment or padding by inserting, for example,
enough <code class="inline"><span class="q">&quot;x&quot;</span></code>
es while packing.  There is no way for pack() and unpack()
to know where characters are going to or coming from, so they 
handle their output and input as flat sequences of characters.</p>
</li>
<li>
<p>A <code class="inline"><span class="s">(</span><span class="s">)</span></code>
 group is a sub-TEMPLATE enclosed in parentheses.  A group may
take a repeat count either as postfix, or for unpack(), also via the <code class="inline">/</code>
template character.  Within each repetition of a group, positioning with
<code class="inline"><span class="i">@</span></code>
 starts over at 0.  Therefore, the result of</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;@1A((@2A)@3A)&quot;</span><span class="cm">,</span> <span class="q">qw[X Y Z]</span><span class="s">)</span></li></ol></pre><p>is the string <code class="inline"><span class="q">&quot;\0X\0\0YZ&quot;</span></code>
.</p>
</li>
<li>
<p><code class="inline"><span class="w">x</span></code>
 and <code class="inline"><span class="w">X</span></code>
 accept the <code class="inline">!</code>
 modifier to act as alignment commands: they
jump forward or back to the closest position aligned at a multiple of <code class="inline"><span class="w">count</span></code>

characters.  For example, to pack() or unpack() a C structure like</p>
<pre class="verbatim"><ol><li>    struct {</li><li>	char   c;    /* one signed, 8-bit character */</li><li>	double d; </li><li>	char   cc[2];</li><li>    }</li></ol></pre><p>one may need to use the template <code class="inline"><span class="w">c</span> <span class="w">x</span>!<span class="s">[</span><span class="w">d</span><span class="s">]</span> <span class="w">d</span> <span class="w">c</span><span class="s">[</span><span class="n">2</span><span class="s">]</span></code>
.  This assumes that
doubles must be aligned to the size of double.</p>
<p>For alignment commands, a <code class="inline"><span class="w">count</span></code>
 of 0 is equivalent to a <code class="inline"><span class="w">count</span></code>
 of 1;
both are no-ops.</p>
</li>
<li>
<p><code class="inline"><span class="w">n</span></code>
, <code class="inline"><span class="w">N</span></code>
, <code class="inline"><span class="w">v</span></code>
 and <code class="inline"><span class="w">V</span></code>
 accept the <code class="inline">!</code>
 modifier to
represent signed 16-/32-bit integers in big-/little-endian order.
This is portable only when all platforms sharing packed data use the
same binary representation for signed integers; for example, when all
platforms use two's-complement representation.</p>
</li>
<li>
<p>Comments can be embedded in a TEMPLATE using <code class="inline"><span class="c">#</span></code>
 through the end of line.
White space can separate pack codes from each other, but modifiers and
repeat counts must follow immediately.  Breaking complex templates into
individual line-by-line components, suitably annotated, can do as much to
improve legibility and maintainability of pack/unpack formats as <code class="inline">/x</code> can
for complicated pattern matches.</p>
</li>
<li>
<p>If TEMPLATE requires more arguments than pack() is given, pack()
assumes additional <code class="inline"><span class="q">&quot;&quot;</span></code>
 arguments.  If TEMPLATE requires fewer arguments
than given, extra arguments are ignored.</p>
</li>
<li>
<p>Attempting to pack the special floating point values <code class="inline"><span class="w">Inf</span></code>
 and <code class="inline"><span class="w">NaN</span></code>

(infinity, also in negative, and not-a-number) into packed integer values
(like <code class="inline"><span class="q">&quot;L&quot;</span></code>
) is a fatal error.  The reason for this is that there simply
isn't any sensible mapping for these special values into integers.</p>
</li>
</ul>
<p>Examples:</p>
<pre class="verbatim"><ol><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;WWWW&quot;</span><span class="cm">,</span><span class="n">65</span><span class="cm">,</span><span class="n">66</span><span class="cm">,</span><span class="n">67</span><span class="cm">,</span><span class="n">68</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># foo eq &quot;ABCD&quot;</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;W4&quot;</span><span class="cm">,</span><span class="n">65</span><span class="cm">,</span><span class="n">66</span><span class="cm">,</span><span class="n">67</span><span class="cm">,</span><span class="n">68</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># same thing</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;W4&quot;</span><span class="cm">,</span><span class="n">0x24b6</span><span class="cm">,</span><span class="n">0x24b7</span><span class="cm">,</span><span class="n">0x24b8</span><span class="cm">,</span><span class="n">0x24b9</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># same thing with Unicode circled letters.</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;U4&quot;</span><span class="cm">,</span><span class="n">0x24b6</span><span class="cm">,</span><span class="n">0x24b7</span><span class="cm">,</span><span class="n">0x24b8</span><span class="cm">,</span><span class="n">0x24b9</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># same thing with Unicode circled letters.  You don&#39;t get the</span></li><li>    <span class="c"># UTF-8 bytes because the U at the start of the format caused</span></li><li>    <span class="c"># a switch to U0-mode, so the UTF-8 bytes get joined into</span></li><li>    <span class="c"># characters</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;C0U4&quot;</span><span class="cm">,</span><span class="n">0x24b6</span><span class="cm">,</span><span class="n">0x24b7</span><span class="cm">,</span><span class="n">0x24b8</span><span class="cm">,</span><span class="n">0x24b9</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># foo eq &quot;\xe2\x92\xb6\xe2\x92\xb7\xe2\x92\xb8\xe2\x92\xb9&quot;</span></li><li>    <span class="c"># This is the UTF-8 encoding of the string in the</span></li><li>    <span class="c"># previous example</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;ccxxcc&quot;</span><span class="cm">,</span><span class="n">65</span><span class="cm">,</span><span class="n">66</span><span class="cm">,</span><span class="n">67</span><span class="cm">,</span><span class="n">68</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># foo eq &quot;AB\0\0CD&quot;</span></li><li></li><li>    <span class="c"># NOTE: The examples above featuring &quot;W&quot; and &quot;c&quot; are true</span></li><li>    <span class="c"># only on ASCII and ASCII-derived systems such as ISO Latin 1</span></li><li>    <span class="c"># and UTF-8.  On EBCDIC systems, the first example would be</span></li><li>    <span class="c">#      $foo = pack(&quot;WWWW&quot;,193,194,195,196);</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;s2&quot;</span><span class="cm">,</span><span class="n">1</span><span class="cm">,</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># &quot;\001\000\002\000&quot; on little-endian</span></li><li>    <span class="c"># &quot;\000\001\000\002&quot; on big-endian</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;a4&quot;</span><span class="cm">,</span><span class="q">&quot;abcd&quot;</span><span class="cm">,</span><span class="q">&quot;x&quot;</span><span class="cm">,</span><span class="q">&quot;y&quot;</span><span class="cm">,</span><span class="q">&quot;z&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># &quot;abcd&quot;</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;aaaa&quot;</span><span class="cm">,</span><span class="q">&quot;abcd&quot;</span><span class="cm">,</span><span class="q">&quot;x&quot;</span><span class="cm">,</span><span class="q">&quot;y&quot;</span><span class="cm">,</span><span class="q">&quot;z&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># &quot;axyz&quot;</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;a14&quot;</span><span class="cm">,</span><span class="q">&quot;abcdefg&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># &quot;abcdefg\0\0\0\0\0\0\0&quot;</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;i9pl&quot;</span><span class="cm">,</span> <a class="l_k" href="../functions/gmtime.html">gmtime</a><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># a real struct tm (on my system anyway)</span></li><li></li><li>    <span class="i">$utmp_template</span> = <span class="q">&quot;Z8 Z8 Z16 L&quot;</span><span class="sc">;</span></li><li>    <span class="i">$utmp</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="i">$utmp_template</span><span class="cm">,</span> <span class="i">@utmp1</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># a struct utmp (BSDish)</span></li><li></li><li>    <span class="i">@utmp2</span> = <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="i">$utmp_template</span><span class="cm">,</span> <span class="i">$utmp</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># &quot;@utmp1&quot; eq &quot;@utmp2&quot;</span></li><li></li><li><a name="bintodec"></a>    sub <span class="m">bintodec</span> <span class="s">{</span></li><li>        <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&quot;N&quot;</span><span class="cm">,</span> <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;B32&quot;</span><span class="cm">,</span> <a class="l_k" href="../functions/substr.html">substr</a><span class="s">(</span><span class="q">&quot;0&quot;</span> x <span class="n">32</span> . <a class="l_k" href="../functions/shift.html">shift</a><span class="cm">,</span> <span class="n">-32</span><span class="s">)</span><span class="s">)</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;sx2l&#39;</span><span class="cm">,</span> <span class="n">12</span><span class="cm">,</span> <span class="n">34</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># short 12, two zero bytes padding, long 34</span></li><li>    <span class="i">$bar</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;s@4l&#39;</span><span class="cm">,</span> <span class="n">12</span><span class="cm">,</span> <span class="n">34</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># short 12, zero fill to position 4, long 34</span></li><li>    <span class="c"># $foo eq $bar</span></li><li>    <span class="i">$baz</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;s.l&#39;</span><span class="cm">,</span> <span class="n">12</span><span class="cm">,</span> <span class="n">4</span><span class="cm">,</span> <span class="n">34</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># short 12, zero fill to position 4, long 34</span></li><li></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;nN&#39;</span><span class="cm">,</span> <span class="n">42</span><span class="cm">,</span> <span class="n">4711</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># pack big-endian 16- and 32-bit unsigned integers</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;S&gt;L&gt;&#39;</span><span class="cm">,</span> <span class="n">42</span><span class="cm">,</span> <span class="n">4711</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># exactly the same</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;s&lt;l&lt;&#39;</span><span class="cm">,</span> <span class="n">-42</span><span class="cm">,</span> <span class="n">4711</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># pack little-endian 16- and 32-bit signed integers</span></li><li>    <span class="i">$foo</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;(sl)&lt;&#39;</span><span class="cm">,</span> <span class="n">-42</span><span class="cm">,</span> <span class="n">4711</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="c"># exactly the same</span></li></ol></pre><p>The same template may generally also be used in unpack().</p>
</li>
</ul>



	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../index-modules-A.html">Modules</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../index-licence.html">License</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../static/exploreperl.js"></script>
      <script language="JavaScript" src="../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(1);
  perldoc.pageName    = 'pack';
  perldoc.pageAddress = 'functions/pack.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
