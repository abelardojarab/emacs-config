<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>IO::Socket</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">History / Changes</a>
                <li><a href="../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Special Variables</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>IO::Socket</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-modules-I.html">Core modules (I)</a> &gt;
      
    
    IO::Socket
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>IO::Socket</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#CONSTRUCTOR">CONSTRUCTOR</a><li><a href="#METHODS">METHODS</a><li><a href="#LIMITATIONS">LIMITATIONS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHOR">AUTHOR</a><li><a href="#COPYRIGHT">COPYRIGHT</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>IO::Socket - Object interface to socket communications</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">IO::Socket</span><span class="sc">;</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p><code class="inline"><span class="w">IO::Socket</span></code>
 provides an object interface to creating and using sockets. It
is built upon the <a href="../IO/Handle.html">IO::Handle</a> interface and inherits all the methods defined
by <a href="../IO/Handle.html">IO::Handle</a>.</p>
<p><code class="inline"><span class="w">IO::Socket</span></code>
 only defines methods for those operations which are common to all
types of socket. Operations which are specified to a socket in a particular 
domain have methods defined in sub classes of <code class="inline"><span class="w">IO::Socket</span></code>
</p>
<p><code class="inline"><span class="w">IO::Socket</span></code>
 will export all functions (and constants) defined by <a href="../Socket.html">Socket</a>.</p>
<a name="CONSTRUCTOR"></a><h1>CONSTRUCTOR</h1>
<ul>
<li><a name="new-(-%5bARGS%5d-)"></a><b>new ( [ARGS] )</b>
<p>Creates an <code class="inline"><span class="w">IO::Socket</span></code>
, which is a reference to a
newly created symbol (see the <code class="inline"><span class="w">Symbol</span></code>
 package). <code class="inline"><span class="w">new</span></code>

optionally takes arguments, these arguments are in key-value pairs.
<code class="inline"><span class="w">new</span></code>
 only looks for one key <code class="inline"><span class="w">Domain</span></code>
 which tells new which domain
the socket will be in. All other arguments will be passed to the
configuration method of the package for that domain, See below.</p>
<pre class="verbatim"><ol><li> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span></li></ol></pre><p>As of VERSION 1.18 all IO::Socket objects have autoflush turned on
by default. This was not the case with earlier releases.</p>
<pre class="verbatim"><ol><li> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span> <span class="w">NOTE</span></li></ol></pre></li>
</ul>
<a name="METHODS"></a><h1>METHODS</h1>
<p>See <a href="../perlfunc.html">perlfunc</a> for complete descriptions of each of the following
supported <code class="inline"><span class="w">IO::Socket</span></code>
 methods, which are just front ends for the
corresponding built-in functions:</p>
<pre class="verbatim"><ol><li>    socket</li><li>    socketpair</li><li>    bind</li><li>    listen</li><li>    accept</li><li>    send</li><li>    recv</li><li>    peername (getpeername)</li><li>    sockname (getsockname)</li><li>    shutdown</li></ol></pre><p>Some methods take slightly different arguments to those defined in <a href="../perlfunc.html">perlfunc</a>
in attempt to make the interface more flexible. These are</p>
<ul>
<li><a name="accept(%5bPKG%5d)"></a><b>accept([PKG])</b>
<p>perform the system call <code class="inline"><a class="l_k" href="../functions/accept.html">accept</a></code> on the socket and return a new
object. The new object will be created in the same class as the listen
socket, unless <code class="inline"><span class="w">PKG</span></code>
 is specified. This object can be used to
communicate with the client that was trying to connect.</p>
<p>In a scalar context the new socket is returned, or undef upon
failure. In a list context a two-element array is returned containing
the new socket and the peer address; the list will be empty upon
failure.</p>
<p>The timeout in the [PKG] can be specified as zero to effect a "poll",
but you shouldn't do that because a new IO::Select object will be
created behind the scenes just to do the single poll.  This is
horrendously inefficient.  Use rather true select() with a zero
timeout on the handle, or non-blocking IO.</p>
</li>
<li><a name="socketpair(DOMAIN%2c-TYPE%2c-PROTOCOL)"></a><b>socketpair(DOMAIN, TYPE, PROTOCOL)</b>
<p>Call <code class="inline"><a class="l_k" href="../functions/socketpair.html">socketpair</a></code> and return a list of two sockets created, or an
empty list on failure.</p>
</li>
</ul>
<p>Additional methods that are provided are:</p>
<ul>
<li><a name="atmark"></a><b>atmark</b>
<p>True if the socket is currently positioned at the urgent data mark,
false otherwise.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">IO::Socket</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$sock</span> = <span class="w">IO::Socket::INET</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;some_server&#39;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$sock</span><span class="i">-&gt;read</span><span class="s">(</span><span class="i">$data</span><span class="cm">,</span> <span class="n">1024</span><span class="s">)</span> until <span class="i">$sock</span><span class="i">-&gt;atmark</span><span class="sc">;</span></li></ol></pre><p>Note: this is a reasonably new addition to the family of socket
functions, so all systems may not support this yet.  If it is
unsupported by the system, an attempt to use this method will
abort the program.</p>
<p>The atmark() functionality is also exportable as sockatmark() function:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">IO::Socket</span> <span class="q">&#39;sockatmark&#39;</span><span class="sc">;</span></li></ol></pre><p>This allows for a more traditional use of sockatmark() as a procedural
socket function.  If your system does not support sockatmark(), the
<code class="inline"><a class="l_k" href="../functions/use.html">use</a></code> declaration will fail at compile time.</p>
</li>
<li><a name="connected"></a><b>connected</b>
<p>If the socket is in a connected state, the peer address is returned. If the
socket is not in a connected state, undef is returned.</p>
<p>Note that connected() considers a half-open TCP socket to be "in a connected
state".  Specifically, connected() does not distinguish between the
<b>ESTABLISHED</b> and <b>CLOSE-WAIT</b> TCP states; it returns the peer address,
rather than undef, in either case.  Thus, in general, connected() cannot
be used to reliably learn whether the peer has initiated a graceful shutdown
because in most cases (see below) the local TCP state machine remains in
<b>CLOSE-WAIT</b> until the local application calls shutdown() or close();
only at that point does connected() return undef.</p>
<p>The "in most cases" hedge is because local TCP state machine behavior may
depend on the peer's socket options. In particular, if the peer socket has
SO_LINGER enabled with a zero timeout, then the peer's close() will generate
a RST segment, upon receipt of which the local TCP transitions immediately to
<b>CLOSED</b>, and in that state, connected() <i>will</i> return undef.</p>
</li>
<li><a name="protocol"></a><b>protocol</b>
<p>Returns the numerical number for the protocol being used on the socket, if
known. If the protocol is unknown, as with an AF_UNIX socket, zero
is returned.</p>
</li>
<li><a name="sockdomain"></a><b>sockdomain</b>
<p>Returns the numerical number for the socket domain type. For example, for
an AF_INET socket the value of &amp;AF_INET will be returned.</p>
</li>
<li><a name="sockopt(OPT-%5b%2c-VAL%5d)"></a><b>sockopt(OPT [, VAL])</b>
<p>Unified method to both set and get options in the SOL_SOCKET level. If called
with one argument then getsockopt is called, otherwise setsockopt is called.</p>
</li>
<li><a name="getsockopt(LEVEL%2c-OPT)"></a><b>getsockopt(LEVEL, OPT)</b>
<p>Get option associated with the socket. Other levels than SOL_SOCKET
may be specified here.</p>
</li>
<li><a name="setsockopt(LEVEL%2c-OPT%2c-VAL)"></a><b>setsockopt(LEVEL, OPT, VAL)</b>
<p>Set option associated with the socket. Other levels than SOL_SOCKET
may be specified here.</p>
</li>
<li><a name="socktype"></a><b>socktype</b>
<p>Returns the numerical number for the socket type. For example, for
a SOCK_STREAM socket the value of &amp;SOCK_STREAM will be returned.</p>
</li>
<li><a name="timeout(%5bVAL%5d)"></a><b>timeout([VAL])</b>
<p>Set or get the timeout value (in seconds) associated with this socket.
If called without any arguments then the current setting is returned. If
called with an argument the current setting is changed and the previous
value returned.</p>
</li>
</ul>
<a name="LIMITATIONS"></a><h1>LIMITATIONS</h1>
<p>On some systems, for an IO::Socket object created with new_from_fd(),
or created with accept() from such an object, the protocol(),
sockdomain() and socktype() methods may return undef.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="../Socket.html">Socket</a>, <a href="../IO/Handle.html">IO::Handle</a>, <a href="../IO/Socket/INET.html">IO::Socket::INET</a>, <a href="../IO/Socket/UNIX.html">IO::Socket::UNIX</a></p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<p>Graham Barr.  atmark() by Lincoln Stein.  Currently maintained by the
Perl Porters.  Please report all bugs to &lt;perlbug@perl.org&gt;.</p>
<a name="COPYRIGHT"></a><h1>COPYRIGHT</h1>
<p>Copyright (c) 1997-8 Graham Barr &lt;gbarr@pobox.com&gt;. All rights reserved.
This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>
<p>The atmark() implementation: Copyright 2001, Lincoln Stein &lt;lstein@cshl.org&gt;.
This module is distributed under the same terms as Perl itself.
Feel free to use, modify and redistribute it as long as you retain
the correct attribution.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#CONSTRUCTOR">CONSTRUCTOR</a><li><a href="#METHODS">METHODS</a><li><a href="#LIMITATIONS">LIMITATIONS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHOR">AUTHOR</a><li><a href="#COPYRIGHT">COPYRIGHT</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../index-modules-A.html">Modules</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../index-licence.html">License</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../static/exploreperl.js"></script>
      <script language="JavaScript" src="../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(1);
  perldoc.pageName    = 'IO::Socket';
  perldoc.pageAddress = 'IO/Socket.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
