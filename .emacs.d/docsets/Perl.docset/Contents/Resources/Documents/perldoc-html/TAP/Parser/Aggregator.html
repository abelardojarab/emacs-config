<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>TAP::Parser::Aggregator</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="../../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../../index-overview.html">Overview</a>
                <li><a href="../../index-tutorials.html">Tutorials</a>
                <li><a href="../../index-faq.html">FAQs</a>
                <li><a href="../../index-history.html">History / Changes</a>
                <li><a href="../../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../../index-language.html">Language</a>
                <li><a href="../../index-functions.html">Functions</a>
                <li><a href="../../perlop.html">Operators</a>
                <li><a href="../../perlvar.html">Special Variables</a>
                <li><a href="../../index-pragmas.html">Pragmas</a>
                <li><a href="../../index-utilities.html">Utilities</a>
                <li><a href="../../index-internals.html">Internals</a>
                <li><a href="../../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>TAP::Parser::Aggregator</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../../index.html">Home</a> &gt;
    
      
        <a href="../../index-modules-T.html">Core modules (T)</a> &gt;
      
    
    TAP::Parser::Aggregator
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>TAP::Parser::Aggregator</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#VERSION">VERSION</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#METHODS">METHODS</a><ul><li><a href="#Class-Methods">Class Methods</a><li><a href="#Instance-Methods">Instance Methods</a><li><a href="#Summary-methods">Summary methods</a></ul><li><a href="#See-Also">See Also</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>TAP::Parser::Aggregator - Aggregate TAP::Parser results</p>
<a name="VERSION"></a><h1>VERSION</h1>
<p>Version 3.35</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>    use TAP::Parser::Aggregator;</li><li></li><li>    my $aggregate = TAP::Parser::Aggregator-&gt;new;</li><li>    $aggregate-&gt;add( 't/00-load.t', $load_parser );</li><li>    $aggregate-&gt;add( 't/10-lex.t',  $lex_parser  );</li><li></li><li>    my $summary = &lt;&lt;'END_SUMMARY';</li><li>    Passed:  %s</li><li>    Failed:  %s</li><li>    Unexpectedly succeeded: %s</li><li>    END_SUMMARY</li><li>    printf $summary,</li><li>           scalar $aggregate-&gt;passed,</li><li>           scalar $aggregate-&gt;failed,</li><li>           scalar $aggregate-&gt;todo_passed;</li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p><code class="inline"><span class="w">TAP::Parser::Aggregator</span></code>
 collects parser objects and allows
reporting/querying their aggregate results.</p>
<a name="METHODS"></a><h1>METHODS</h1>
<a name="Class-Methods"></a><h2>Class Methods</h2>
<a name="new"></a><h3><code class="inline"><span class="w">new</span></code>
</h3>
<pre class="verbatim"><ol><li> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$aggregate</span> = <span class="w">TAP::Parser::Aggregator</span><span class="w">-&gt;new</span><span class="sc">;</span></li></ol></pre><p>Returns a new <code class="inline"><span class="w">TAP::Parser::Aggregator</span></code>
 object.</p>
<a name="Instance-Methods"></a><h2>Instance Methods</h2>
<a name="add"></a><h3><code class="inline"><span class="w">add</span></code>
</h3>
<pre class="verbatim"><ol><li>  <span class="i">$aggregate</span><span class="i">-&gt;add</span><span class="s">(</span> <span class="i">$description</span> <span class="cm">=&gt;</span> <span class="i">$parser</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The <code class="inline"><span class="i">$description</span></code>
 is usually a test file name (but only by
convention.)  It is used as a unique identifier (see e.g.
<a href="#parsers">parsers</a>.)  Reusing a description is a fatal error.</p>
<p>The <code class="inline"><span class="i">$parser</span></code>
 is a <a href="../../TAP/Parser.html">TAP::Parser</a> object.</p>
<a name="parsers"></a><h3><code class="inline"><span class="w">parsers</span></code>
</h3>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$count</span>   = <span class="i">$aggregate</span><span class="i">-&gt;parsers</span><span class="sc">;</span></li><li>  <a class="l_k" href="../../functions/my.html">my</a> <span class="i">@parsers</span> = <span class="i">$aggregate</span><span class="i">-&gt;parsers</span><span class="sc">;</span></li><li>  <a class="l_k" href="../../functions/my.html">my</a> <span class="i">@parsers</span> = <span class="i">$aggregate</span><span class="i">-&gt;parsers</span><span class="s">(</span><span class="i">@descriptions</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>In scalar context without arguments, this method returns the number of parsers
aggregated.  In list context without arguments, returns the parsers in the
order they were added.</p>
<p>If <code class="inline"><span class="i">@descriptions</span></code>
 is given, these correspond to the keys used in each
call to the add() method.  Returns an array of the requested parsers (in
the requested order) in list context or an array reference in scalar
context.</p>
<p>Requesting an unknown identifier is a fatal error.</p>
<a name="descriptions"></a><h3><code class="inline"><span class="w">descriptions</span></code>
</h3>
<p>Get an array of descriptions in the order in which they were added to
the aggregator.</p>
<a name="start"></a><h3><code class="inline"><span class="w">start</span></code>
</h3>
<p>Call <code class="inline"><span class="w">start</span></code>
 immediately before adding any results to the aggregator.
Among other times it records the start time for the test run.</p>
<a name="stop"></a><h3><code class="inline"><span class="w">stop</span></code>
</h3>
<p>Call <code class="inline"><span class="w">stop</span></code>
 immediately after adding all test results to the aggregator.</p>
<a name="elapsed"></a><h3><code class="inline"><span class="w">elapsed</span></code>
</h3>
<p>Elapsed returns a <a href="../../Benchmark.html">Benchmark</a> object that represents the running time
of the aggregated tests. In order for <code class="inline"><span class="w">elapsed</span></code>
 to be valid you must
call <code class="inline"><span class="w">start</span></code>
 before running the tests and <code class="inline"><span class="w">stop</span></code>
 immediately
afterwards.</p>
<a name="elapsed_timestr"></a><h3><code class="inline"><span class="w">elapsed_timestr</span></code>
</h3>
<p>Returns a formatted string representing the runtime returned by
<code class="inline"><span class="i">elapsed</span><span class="s">(</span><span class="s">)</span></code>
.  This lets the caller not worry about Benchmark.</p>
<a name="all_passed"></a><h3><code class="inline"><span class="w">all_passed</span></code>
</h3>
<p>Return true if all the tests passed and no parse errors were detected.</p>
<a name="get_status"></a><h3><code class="inline"><span class="w">get_status</span></code>
</h3>
<p>Get a single word describing the status of the aggregated tests.
Depending on the outcome of the tests returns 'PASS', 'FAIL' or
'NOTESTS'. This token is understood by <a href="http://search.cpan.org/perldoc/CPAN::Reporter">CPAN::Reporter</a>.</p>
<a name="Summary-methods"></a><h2>Summary methods</h2>
<p>Each of the following methods will return the total number of corresponding
tests if called in scalar context.  If called in list context, returns the
descriptions of the parsers which contain the corresponding tests (see <code class="inline"><span class="w">add</span></code>

for an explanation of description.</p>
<ul>
<li><a name="*-failed"></a><b>failed</b>
</li>
<li><a name="*-parse_errors"></a><b>parse_errors</b>
</li>
<li><a name="*-passed"></a><b>passed</b>
</li>
<li><a name="*-planned"></a><b>planned</b>
</li>
<li><a name="*-skipped"></a><b>skipped</b>
</li>
<li><a name="*-todo"></a><b>todo</b>
</li>
<li><a name="*-todo_passed"></a><b>todo_passed</b>
</li>
<li><a name="*-wait"></a><b>wait</b>
</li>
<li><a name="*-exit"></a><b>exit</b>
</li>
</ul>
<p>For example, to find out how many tests unexpectedly succeeded (TODO tests
which passed when they shouldn't):</p>
<pre class="verbatim"><ol><li> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$count</span>        = <span class="i">$aggregate</span><span class="i">-&gt;todo_passed</span><span class="sc">;</span></li><li> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">@descriptions</span> = <span class="i">$aggregate</span><span class="i">-&gt;todo_passed</span><span class="sc">;</span></li></ol></pre><p>Note that <code class="inline"><a class="l_k" href="../../functions/wait.html">wait</a></code> and <code class="inline"><a class="l_k" href="../../functions/exit.html">exit</a></code> are the totals of the wait and exit
statuses of each of the tests. These values are totalled only to provide
a true value if any of them are non-zero.</p>
<a name="total"></a><h3><code class="inline"><span class="w">total</span></code>
</h3>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$tests_run</span> = <span class="i">$aggregate</span><span class="i">-&gt;total</span><span class="sc">;</span></li></ol></pre><p>Returns the total number of tests run.</p>
<a name="has_problems"></a><h3><code class="inline"><span class="w">has_problems</span></code>
</h3>
<pre class="verbatim"><ol><li>  if <span class="s">(</span> <span class="i">$parser</span><span class="i">-&gt;has_problems</span> <span class="s">)</span> <span class="s">{</span></li><li>      ...</li><li>  <span class="s">}</span></li></ol></pre><p>Identical to <code class="inline"><span class="w">has_errors</span></code>
, but also returns true if any TODO tests
unexpectedly succeeded.  This is more akin to "warnings".</p>
<a name="has_errors"></a><h3><code class="inline"><span class="w">has_errors</span></code>
</h3>
<pre class="verbatim"><ol><li>  if <span class="s">(</span> <span class="i">$parser</span><span class="i">-&gt;has_errors</span> <span class="s">)</span> <span class="s">{</span></li><li>      ...</li><li>  <span class="s">}</span></li></ol></pre><p>Returns true if <i>any</i> of the parsers failed.  This includes:</p>
<ul>
<li><a name="*-Failed-tests"></a><b>Failed tests</b>
</li>
<li><a name="*-Parse-errors"></a><b>Parse errors</b>
</li>
<li><a name="*-Bad-exit-or-wait-status"></a><b>Bad exit or wait status</b>
</li>
</ul>
<a name="todo_failed"></a><h3><code class="inline"><span class="w">todo_failed</span></code>
</h3>
<pre class="verbatim"><ol><li>  <span class="c"># deprecated in favor of &#39;todo_passed&#39;.  This method was horribly misnamed.</span></li></ol></pre><p>This was a badly misnamed method.  It indicates which TODO tests unexpectedly
succeeded.  Will now issue a warning and call <code class="inline"><span class="w">todo_passed</span></code>
.</p>
<a name="See-Also"></a><h1>See Also</h1>
<p><a href="../../TAP/Parser.html">TAP::Parser</a></p>
<p><a href="../../TAP/Harness.html">TAP::Harness</a></p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#VERSION">VERSION</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#METHODS">METHODS</a><ul><li><a href="#Class-Methods">Class Methods</a><li><a href="#Instance-Methods">Instance Methods</a><li><a href="#Summary-methods">Summary methods</a></ul><li><a href="#See-Also">See Also</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../../index-overview.html">Overview</a>
                <li><a href="../../index-tutorials.html">Tutorials</a>
                <li><a href="../../index-faq.html">FAQs</a>
                <li><a href="../../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../../index-language.html">Language</a>
                <li><a href="../../index-functions.html">Functions</a>
                <li><a href="../../perlop.html">Operators</a>
                <li><a href="../../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../../index-modules-A.html">Modules</a>
                <li><a href="../../index-pragmas.html">Pragmas</a>
                <li><a href="../../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../../index-licence.html">License</a>
                <li><a href="../../index-internals.html">Internals</a>
                <li><a href="../../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../../static/exploreperl.js"></script>
      <script language="JavaScript" src="../../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(2);
  perldoc.pageName    = 'TAP::Parser::Aggregator';
  perldoc.pageAddress = 'TAP/Parser/Aggregator.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
