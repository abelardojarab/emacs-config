<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>perlwin32</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">History / Changes</a>
                <li><a href="index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Special Variables</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>perlwin32</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-platforms.html">Platform specific</a> &gt;
      
    
    perlwin32
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>perlwin32</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Setting-Up-Perl-on-Windows">Setting Up Perl on Windows</a><li><a href="#Building">Building</a><li><a href="#Testing-Perl-on-Windows">Testing Perl on Windows</a><li><a href="#Installation-of-Perl-on-Windows">Installation of Perl on Windows</a><li><a href="#Usage-Hints-for-Perl-on-Windows">Usage Hints for Perl on Windows</a><li><a href="#Running-Perl-Scripts">Running Perl Scripts</a><li><a href="#Miscellaneous-Things">Miscellaneous Things</a></ul><li><a href="#BUGS-AND-CAVEATS">BUGS AND CAVEATS</a><li><a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a><li><a href="#AUTHORS">AUTHORS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#HISTORY">HISTORY</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perlwin32 - Perl under Windows</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<p>These are instructions for building Perl under Windows 2000 and later.</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>Before you start, you should glance through the README file
found in the top-level directory to which the Perl distribution
was extracted.  Make sure you read and understand the terms under
which this software is being distributed.</p>
<p>Also make sure you read <a href="#BUGS-AND-CAVEATS">BUGS AND CAVEATS</a> below for the
known limitations of this port.</p>
<p>The INSTALL file in the perl top-level has much information that is
only relevant to people building Perl on Unix-like systems.  In
particular, you can safely ignore any information that talks about
"Configure".</p>
<p>You may also want to look at one other option for building a perl that
will work on Windows: the README.cygwin file, which give a different
set of rules to build a perl for Windows.  This method will probably
enable you to build a more Unix-compatible perl, but you will also
need to download and use various other build-time and run-time support
software described in that file.</p>
<p>This set of instructions is meant to describe a so-called "native"
port of Perl to the Windows platform.  This includes both 32-bit and
64-bit Windows operating systems.  The resulting Perl requires no
additional software to run (other than what came with your operating
system).  Currently, this port is capable of using one of the
following compilers on the Intel x86 architecture:</p>
<pre class="verbatim"><ol><li>      <span class="w">Microsoft</span> <span class="w">Visual</span> <span class="w">C</span>++    <span class="w">version</span> <span class="n">6.0</span> <a class="l_k" href="functions/or.html">or</a> <span class="w">later</span></li><li>      <span class="w">Intel</span> <span class="w">C</span>++ <span class="w">Compiler</span>      <span class="s">(</span><span class="w">experimental</span><span class="s">)</span></li><li>      <span class="w">Gcc</span> <span class="w">by</span> <span class="w">mingw</span>.<span class="w">org</span>        <span class="w">gcc</span> <span class="w">version</span> <span class="v">3.4.5</span> <a class="l_k" href="functions/or.html">or</a> <span class="w">later</span></li><li>      <span class="w">Gcc</span> <span class="w">by</span> <span class="w">mingw</span>-<span class="w">w64</span>.<span class="w">sf</span>.<span class="w">net</span> <span class="w">gcc</span> <span class="w">version</span> <span class="v">4.4.3</span> <a class="l_k" href="functions/or.html">or</a> <span class="w">later</span></li></ol></pre><p>Note that the last two of these are actually competing projects both
delivering complete gcc toolchain for MS Windows:</p>
<ul>
<li><a name="the-http%3a%2f%2fmingw.org-manpage"></a><b><a href="http://mingw.org">http://mingw.org</a></b>
<p>Delivers gcc toolchain targeting 32-bit Windows platform.</p>
</li>
<li><a name="the-http%3a%2f%2fmingw-w64.sf.net-manpage"></a><b><a href="http://mingw-w64.sf.net">http://mingw-w64.sf.net</a></b>
<p>Delivers gcc toolchain targeting both 64-bit Windows and 32-bit Windows
platforms (despite the project name "mingw-w64" they are not only 64-bit
oriented). They deliver the native gcc compilers and cross-compilers
that are also supported by perl's makefile.</p>
</li>
</ul>
<p>The Microsoft Visual C++ compilers are also now being given away free. They are
available as "Visual C++ Toolkit 2003" or "Visual C++ 2005-2013 Express
Edition" (and also as part of the ".NET Framework SDK") and are the same
compilers that ship with "Visual C++ .NET 2003 Professional" or "Visual C++
2005-2013 Professional" respectively.</p>
<p>This port can also be built on IA64/AMD64 using:</p>
<pre class="verbatim"><ol><li>      Microsoft Platform SDK	Nov 2001 (64-bit compiler and tools)</li><li>      MinGW64 compiler (gcc version 4.4.3 or later)</li></ol></pre><p>The Windows SDK can be downloaded from <a href="http://www.microsoft.com/">http://www.microsoft.com/</a>.
The MinGW64 compiler is available at <a href="http://sourceforge.net/projects/mingw-w64">http://sourceforge.net/projects/mingw-w64</a>.
The latter is actually a cross-compiler targeting Win64. There's also a trimmed
down compiler (no java, or gfortran) suitable for building perl available at:
<a href="http://strawberryperl.com/package/kmx/64_gcctoolchain/">http://strawberryperl.com/package/kmx/64_gcctoolchain/</a></p>
<p>NOTE: If you're using a 32-bit compiler to build perl on a 64-bit Windows
operating system, then you should set the WIN64 environment variable to "undef".
Also, the trimmed down compiler only passes tests when USE_ITHREADS *= define
(as opposed to undef) and when the CFG *= Debug line is commented out.</p>
<p>This port fully supports MakeMaker (the set of modules that
is used to build extensions to perl).  Therefore, you should be
able to build and install most extensions found in the CPAN sites.
See <a href="#Usage-Hints-for-Perl-on-Windows">Usage Hints for Perl on Windows</a> below for general hints about this.</p>
<a name="Setting-Up-Perl-on-Windows"></a><h2>Setting Up Perl on Windows</h2>
<ul>
<li><a name="Make"></a><b>Make</b>
<p>You need a "make" program to build the sources.  If you are using
Visual C++ or the Windows SDK tools, nmake will work.  Builds using
the gcc need dmake.</p>
<p>dmake is a freely available make that has very nice macro features
and parallelability.</p>
<p>A port of dmake for Windows is available from:</p>
<p><a href="http://search.cpan.org/dist/dmake/">http://search.cpan.org/dist/dmake/</a></p>
<p>Fetch and install dmake somewhere on your path.</p>
</li>
<li><a name="Command-Shell"></a><b>Command Shell</b>
<p>Use the default "cmd" shell that comes with Windows.  Some versions of the
popular 4DOS/NT shell have incompatibilities that may cause you trouble.
If the build fails under that shell, try building again with the cmd
shell.</p>
<p>Make sure the path to the build directory does not contain spaces.  The
build usually works in this circumstance, but some tests will fail.</p>
</li>
<li><a name="Microsoft-Visual-C%2b%2b"></a><b>Microsoft Visual C++</b>
<p>The nmake that comes with Visual C++ will suffice for building. Visual C
requires that certain things be set up in the console before Visual C will
sucessfully run. To make a console box be able to run the C compiler, you will
need to beforehand, run the <code class="inline"><span class="w">vcvars32</span>.<span class="w">bat</span></code>
 file to compile for x86-32 and for
x86-64 <code class="inline"><span class="w">vcvarsall</span>.<span class="w">bat</span> <span class="w">x64</span></code>
 or <code class="inline"><span class="w">vcvarsamd64</span>.<span class="w">bat</span></code>
. On a typical install of a
Microsoft C compiler product, these batch files will already be in your <code class="inline"><span class="w">PATH</span></code>

environment variable so you may just type them without an absolute path into
your console. If you need to find the absolute path to the batch file, it is
usually found somewhere like C:\Program Files\Microsoft Visual Studio\VC98\Bin.
With some newer Micrsoft C products (released after ~2004), the installer will
put a shortcut in the start menu to launch a new console window with the
console already set up for your target architecture (x86-32 or x86-64 or IA64).
With the newer compilers, you may also use the older batch files if you choose
so.</p>
<p>You can also use dmake to build using Visual C++; provided, however,
you set OSRELEASE to "microsft" (or whatever the directory name
under which the Visual C dmake configuration lives) in your environment
and edit win32/config.vc to change "make=nmake" into "make=dmake".  The
latter step is only essential if you want to use dmake as your default
make for building extensions using MakeMaker.</p>
</li>
<li><a name="Microsoft-Visual-C%2b%2b-2008-2013-Express-Edition"></a><b>Microsoft Visual C++ 2008-2013 Express Edition</b>
<p>These free versions of Visual C++ 2008-2013 Professional contain the same
compilers and linkers that ship with the full versions, and also contain
everything necessary to build Perl, rather than requiring a separate download
of the Windows SDK like previous versions did.</p>
<p>These packages can be downloaded by searching in the Download Center at
<a href="http://www.microsoft.com/downloads/search.aspx?displaylang=en">http://www.microsoft.com/downloads/search.aspx?displaylang=en</a>.  (Providing exact
links to these packages has proven a pointless task because the links keep on
changing so often.)</p>
<p>Install Visual C++ 2008-2013 Express, then setup your environment using, e.g.</p>
<pre class="verbatim"><ol><li>	<span class="j">C:</span>\<span class="w">Program</span> <span class="w">Files</span>\<span class="w">Microsoft</span> <span class="w">Visual</span> <span class="w">Studio</span> <span class="n">12.0</span>\<span class="w">Common7</span>\<span class="w">Tools</span>\<span class="w">vsvars32</span>.<span class="w">bat</span></li></ol></pre><p>(assuming the default installation location was chosen).</p>
<p>Perl should now build using the win32/Makefile.  You will need to edit that
file to set CCTYPE to one of MSVC90FREE-MSVC120FREE first.</p>
</li>
<li><a name="Microsoft-Visual-C%2b%2b-2005-Express-Edition"></a><b>Microsoft Visual C++ 2005 Express Edition</b>
<p>This free version of Visual C++ 2005 Professional contains the same compiler
and linker that ship with the full version, but doesn't contain everything
necessary to build Perl.</p>
<p>You will also need to download the "Windows SDK" (the "Core SDK" and "MDAC
SDK" components are required) for more header files and libraries.</p>
<p>These packages can both be downloaded by searching in the Download Center at
<a href="http://www.microsoft.com/downloads/search.aspx?displaylang=en">http://www.microsoft.com/downloads/search.aspx?displaylang=en</a>.  (Providing exact
links to these packages has proven a pointless task because the links keep on
changing so often.)</p>
<p>Try to obtain the latest version of the Windows SDK.  Sometimes these packages
contain a particular Windows OS version in their name, but actually work on
other OS versions too.  For example, the "Windows Server 2003 R2 Platform SDK"
also runs on Windows XP SP2 and Windows 2000.</p>
<p>Install Visual C++ 2005 first, then the Platform SDK.  Setup your environment
as follows (assuming default installation locations were chosen):</p>
<pre class="verbatim"><ol><li>	SET PlatformSDKDir=C:\Program Files\Microsoft Platform SDK</li><li></li><li>	SET PATH=%SystemRoot%\system32;%SystemRoot%;C:\Program Files\Microsoft Visual Studio 8\Common7\IDE;C:\Program Files\Microsoft Visual Studio 8\VC\BIN;C:\Program Files\Microsoft Visual Studio 8\Common7\Tools;C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\bin;C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727;C:\Program Files\Microsoft Visual Studio 8\VC\VCPackages;%PlatformSDKDir%\Bin</li><li></li><li>	SET INCLUDE=C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE;%PlatformSDKDir%\include</li><li></li><li>	SET LIB=C:\Program Files\Microsoft Visual Studio 8\VC\LIB;C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\lib;%PlatformSDKDir%\lib</li><li></li><li>	SET LIBPATH=C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727</li></ol></pre><p>(The PlatformSDKDir might need to be set differently depending on which version
you are using. Earlier versions installed into "C:\Program Files\Microsoft SDK",
while the latest versions install into version-specific locations such as
"C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2".)</p>
<p>Perl should now build using the win32/Makefile.  You will need to edit that
file to set</p>
<pre class="verbatim"><ol><li>	<span class="w">CCTYPE</span> = <span class="w">MSVC80FREE</span></li></ol></pre><p>and to set CCHOME, CCINCDIR and CCLIBDIR as per the environment setup above.</p>
</li>
<li><a name="Microsoft-Visual-C%2b%2b-Toolkit-2003"></a><b>Microsoft Visual C++ Toolkit 2003</b>
<p>This free toolkit contains the same compiler and linker that ship with
Visual C++ .NET 2003 Professional, but doesn't contain everything
necessary to build Perl.</p>
<p>You will also need to download the "Platform SDK" (the "Core SDK" and "MDAC
SDK" components are required) for header files, libraries and rc.exe, and
".NET Framework SDK" for more libraries and nmake.exe.  Note that the latter
(which also includes the free compiler and linker) requires the ".NET
Framework Redistributable" to be installed first.  This can be downloaded and
installed separately, but is included in the "Visual C++ Toolkit 2003" anyway.</p>
<p>These packages can all be downloaded by searching in the Download Center at
<a href="http://www.microsoft.com/downloads/search.aspx?displaylang=en">http://www.microsoft.com/downloads/search.aspx?displaylang=en</a>.  (Providing exact
links to these packages has proven a pointless task because the links keep on
changing so often.)</p>
<p>Try to obtain the latest version of the Windows SDK.  Sometimes these packages
contain a particular Windows OS version in their name, but actually work on
other OS versions too.  For example, the "Windows Server 2003 R2 Platform SDK"
also runs on Windows XP SP2 and Windows 2000.</p>
<p>Install the Toolkit first, then the Platform SDK, then the .NET Framework SDK.
Setup your environment as follows (assuming default installation locations
were chosen):</p>
<pre class="verbatim"><ol><li>	SET PlatformSDKDir=C:\Program Files\Microsoft Platform SDK</li><li></li><li>	SET PATH=%SystemRoot%\system32;%SystemRoot%;C:\Program Files\Microsoft Visual C++ Toolkit 2003\bin;%PlatformSDKDir%\Bin;C:\Program Files\Microsoft.NET\SDK\v1.1\Bin</li><li></li><li>	SET INCLUDE=C:\Program Files\Microsoft Visual C++ Toolkit 2003\include;%PlatformSDKDir%\include;C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\include</li><li></li><li>	SET LIB=C:\Program Files\Microsoft Visual C++ Toolkit 2003\lib;%PlatformSDKDir%\lib;C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\lib</li></ol></pre><p>(The PlatformSDKDir might need to be set differently depending on which version
you are using. Earlier versions installed into "C:\Program Files\Microsoft SDK",
while the latest versions install into version-specific locations such as
"C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2".)</p>
<p>Several required files will still be missing:</p>
<ul>
<li>
<p>cvtres.exe is required by link.exe when using a .res file.  It is actually
installed by the .NET Framework SDK, but into a location such as the
following:</p>
<pre class="verbatim"><ol><li>	<span class="j">C:</span>\<span class="w">WINDOWS</span>\<span class="w">Microsoft</span>.<span class="w">NET</span>\<span class="w">Framework</span>\<span class="v">v1.1.4322</span></li></ol></pre><p>Copy it from there to %PlatformSDKDir%\Bin</p>
</li>
<li>
<p>lib.exe is normally used to build libraries, but link.exe with the /lib
option also works, so change win32/config.vc to use it instead:</p>
<p>Change the line reading:</p>
<pre class="verbatim"><ol><li>	<span class="w">ar</span>=<span class="q">&#39;lib&#39;</span></li></ol></pre><p>to:</p>
<pre class="verbatim"><ol><li>	<span class="w">ar</span>=<span class="q">&#39;link /lib&#39;</span></li></ol></pre><p>It may also be useful to create a batch file called lib.bat in
C:\Program Files\Microsoft Visual C++ Toolkit 2003\bin containing:</p>
<pre class="verbatim"><ol><li>	@echo off</li><li>	link /lib %*</li></ol></pre><p>for the benefit of any naughty C extension modules that you might want to build
later which explicitly reference "lib" rather than taking their value from
$Config{ar}.</p>
</li>
<li>
<p>setargv.obj is required to build perlglob.exe (and perl.exe if the USE_SETARGV
option is enabled).  The Platform SDK supplies this object file in source form
in %PlatformSDKDir%\src\crt.  Copy setargv.c, cruntime.h and
internal.h from there to some temporary location and build setargv.obj using</p>
<pre class="verbatim"><ol><li>	cl.exe /c /I. /D_CRTBLD setargv.c</li></ol></pre><p>Then copy setargv.obj to %PlatformSDKDir%\lib</p>
<p>Alternatively, if you don't need perlglob.exe and don't need to enable the
USE_SETARGV option then you can safely just remove all mention of $(GLOBEXE)
from win32/Makefile and setargv.obj won't be required anyway.</p>
</li>
</ul>
<p>Perl should now build using the win32/Makefile.  You will need to edit that
file to set</p>
<pre class="verbatim"><ol><li>	<span class="w">CCTYPE</span> = <span class="w">MSVC70FREE</span></li></ol></pre><p>and to set CCHOME, CCINCDIR and CCLIBDIR as per the environment setup above.</p>
</li>
<li><a name="Microsoft-Platform-SDK-64-bit-Compiler"></a><b>Microsoft Platform SDK 64-bit Compiler</b>
<p>The nmake that comes with the Platform SDK will suffice for building
Perl.  Make sure you are building within one of the "Build Environment"
shells available after you install the Platform SDK from the Start Menu.</p>
</li>
<li><a name="MinGW-release-3-with-gcc"></a><b>MinGW release 3 with gcc</b>
<p>Perl can be compiled with gcc from MinGW release 3 and later (using gcc 3.4.5
and later).  It can be downloaded here:</p>
<p><a href="http://www.mingw.org/">http://www.mingw.org/</a></p>
<p>You also need dmake.  See <a href="#Make">Make</a> above on how to get it.</p>
</li>
<li><a name="Intel-C%2b%2b-Compiler"></a><b>Intel C++ Compiler</b>
<p>Experimental support for using Intel C++ Compiler has been added. Edit
win32/Makefile and pick the correct CCTYPE for the Visual C that Intel C was
installed into. Also uncomment __ICC to enable Intel C on Visual C support.
To set up the build enviroment, from the Start Menu run
IA-32 Visual Studio 20__ mode or Intel 64 Visual Studio 20__ mode as
appropriate. Then run nmake as usually in that prompt box.</p>
<p>Only Intel C++ Compiler v12.1 has been tested. Other versions probably will
work. Using Intel C++ Compiler instead of Visual C has the benefit of C99
compatibility which is needed by some CPAN XS modules, while maintaining
compatibility with Visual C object code and Visual C debugging infrastructure
unlike GCC.</p>
</li>
</ul>
<a name="Building"></a><h2>Building</h2>
<ul>
<li>
<p>Make sure you are in the "win32" subdirectory under the perl toplevel.
This directory contains a "Makefile" that will work with
versions of nmake that come with Visual C++ or the Windows SDK, and
a dmake "makefile.mk" that will work for all supported compilers.  The
defaults in the dmake makefile are setup to build using MinGW/gcc.</p>
</li>
<li>
<p>Edit the makefile.mk (or Makefile, if you're using nmake) and change
the values of INST_DRV and INST_TOP.   You can also enable various
build flags.  These are explained in the makefiles.</p>
<p>Note that it is generally not a good idea to try to build a perl with
INST_DRV and INST_TOP set to a path that already exists from a previous
build.  In particular, this may cause problems with the
lib/ExtUtils/t/Embed.t test, which attempts to build a test program and
may end up building against the installed perl's lib/CORE directory rather
than the one being tested.</p>
<p>You will have to make sure that CCTYPE is set correctly and that
CCHOME points to wherever you installed your compiler.</p>
<p>If building with the cross-compiler provided by
mingw-w64.sourceforge.net you'll need to uncomment the line that sets
GCCCROSS in the makefile.mk. Do this only if it's the cross-compiler - ie
only if the bin folder doesn't contain a gcc.exe. (The cross-compiler
does not provide a gcc.exe, g++.exe, ar.exe, etc. Instead, all of these
executables are prefixed with 'x86_64-w64-mingw32-'.)</p>
<p>The default value for CCHOME in the makefiles for Visual C++
may not be correct for some versions.  Make sure the default exists
and is valid.</p>
<p>You may also need to comment out the <code class="inline"><span class="w">DELAYLOAD</span> = ...</code>
 line in the
Makefile if you're using VC++ 6.0 without the latest service pack and
the linker reports an internal error.</p>
<p>If you want build some core extensions statically into perl's dll, specify
them in the STATIC_EXT macro.</p>
<p>NOTE: The USE_64_BIT_INT build option is not supported with the 32-bit
Visual C++ 6.0 compiler.</p>
<p>Be sure to read the instructions near the top of the makefiles carefully.</p>
</li>
<li>
<p>Type "dmake" (or "nmake" if you are using that make).</p>
<p>This should build everything.  Specifically, it will create perl.exe,
perl522.dll at the perl toplevel, and various other extension dll's
under the lib\auto directory.  If the build fails for any reason, make
sure you have done the previous steps correctly.</p>
<p>If you are advanced enough with building C code, here is a suggestion to speed
up building perl, and the later <code class="inline"><span class="w">make</span> <span class="w">test</span></code>
. Try to keep your PATH enviromental
variable with the least number of folders possible (remember to keep your C
compiler's folders there). <code class="inline"><span class="j">C:</span>\<span class="w">WINDOWS</span>\<span class="w">system32</span></code>
 or <code class="inline"><span class="j">C:</span>\<span class="w">WINNT</span>\<span class="w">system32</span></code>

depending on your OS version should be first folder in PATH, since "cmd.exe"
is the most commonly launched program during the build and later testing.</p>
</li>
</ul>
<a name="Testing-Perl-on-Windows"></a><h2>Testing Perl on Windows</h2>
<p>Type "dmake test" (or "nmake test").  This will run most of the tests from
the testsuite (many tests will be skipped).</p>
<p>There should be no test failures.</p>
<p>If you build with Visual C++ 2013 then three tests currently may fail with
Daylight Saving Time related problems: <i>t/io/fs.t</i>,
<i>cpan/HTTP-Tiny/t/110_mirror.t</i> and <i>lib/File.Copy.t</i>. The failures are
caused by bugs in the CRT in VC++ 2013 which will be fixed in future releases
of VC++, as explained by Microsoft here:
<a href="https://connect.microsoft.com/VisualStudio/feedback/details/811534/utime-sometimes-fails-to-set-the-correct-file-times-in-visual-c-2013">https://connect.microsoft.com/VisualStudio/feedback/details/811534/utime-sometimes-fails-to-set-the-correct-file-times-in-visual-c-2013</a>. In the meantime,
if you need fixed <code class="inline"><a class="l_k" href="functions/stat.html">stat</a></code> and <code class="inline"><a class="l_k" href="functions/utime.html">utime</a></code> functions then have a look at the
CPAN distribution Win32::UTCFileTime.</p>
<p>If you build with certain versions (e.g. 4.8.1) of gcc from www.mingw.org then
<i>ext/POSIX/t/time.t</i> may fail test 17 due to a known bug in those gcc builds:
see <a href="http://sourceforge.net/p/mingw/bugs/2152/">http://sourceforge.net/p/mingw/bugs/2152/</a>.</p>
<p>Some test failures may occur if you use a command shell other than the
native "cmd.exe", or if you are building from a path that contains
spaces.  So don't do that.</p>
<p>If you are running the tests from a emacs shell window, you may see
failures in op/stat.t.  Run "dmake test-notty" in that case.</p>
<p>Furthermore, you should make sure that during <code class="inline"><span class="w">make</span> <span class="w">test</span></code>
 you do not
have any GNU tool packages in your path: some toolkits like Unixutils
include some tools (<code class="inline"><span class="w">type</span></code>
 for instance) which override the Windows
ones and makes tests fail. Remove them from your path while testing to
avoid these errors.</p>
<p>Please report any other failures as described under <a href="#BUGS-AND-CAVEATS">BUGS AND CAVEATS</a>.</p>
<a name="Installation-of-Perl-on-Windows"></a><h2>Installation of Perl on Windows</h2>
<p>Type "dmake install" (or "nmake install").  This will put the newly
built perl and the libraries under whatever <code class="inline"><span class="w">INST_TOP</span></code>
 points to in the
Makefile.  It will also install the pod documentation under
<code class="inline"><span class="i">$INST_TOP</span>\<span class="i">$INST_VER</span>\<span class="w">lib</span>\<span class="w">pod</span></code>
 and HTML versions of the same under
<code class="inline"><span class="i">$INST_TOP</span>\<span class="i">$INST_VER</span>\<span class="w">lib</span>\<span class="w">pod</span>\<span class="w">html</span></code>
.</p>
<p>To use the Perl you just installed you will need to add a new entry to
your PATH environment variable: <code class="inline"><span class="i">$INST_TOP</span>\<span class="w">bin</span></code>
, e.g.</p>
<pre class="verbatim"><ol><li>    set PATH=c:\perl\bin;%PATH%</li></ol></pre><p>If you opted to uncomment <code class="inline"><span class="w">INST_VER</span></code>
 and <code class="inline"><span class="w">INST_ARCH</span></code>
 in the makefile
then the installation structure is a little more complicated and you will
need to add two new PATH components instead: <code class="inline"><span class="i">$INST_TOP</span>\<span class="i">$INST_VER</span>\<span class="w">bin</span></code>
 and
<code class="inline"><span class="i">$INST_TOP</span>\<span class="i">$INST_VER</span>\<span class="w">bin</span>\<span class="i">$ARCHNAME</span></code>
, e.g.</p>
<pre class="verbatim"><ol><li>    set PATH=c:\perl\5.6.0\bin;c:\perl\5.6.0\bin\MSWin32-x86;%PATH%</li></ol></pre><a name="Usage-Hints-for-Perl-on-Windows"></a><h2>Usage Hints for Perl on Windows</h2>
<ul>
<li><a name="Environment-Variables"></a><b>Environment Variables</b>
<p>The installation paths that you set during the build get compiled
into perl, so you don't have to do anything additional to start
using that perl (except add its location to your PATH variable).</p>
<p>If you put extensions in unusual places, you can set PERL5LIB
to a list of paths separated by semicolons where you want perl
to look for libraries.  Look for descriptions of other environment
variables you can set in <a href="perlrun.html">perlrun</a>.</p>
<p>You can also control the shell that perl uses to run system() and
backtick commands via PERL5SHELL.  See <a href="perlrun.html">perlrun</a>.</p>
<p>Perl does not depend on the registry, but it can look up certain default
values if you choose to put them there.  Perl attempts to read entries from
<code class="inline"><span class="w">HKEY_CURRENT_USER</span>\<span class="w">Software</span>\<span class="w">Perl</span></code>
 and <code class="inline"><span class="w">HKEY_LOCAL_MACHINE</span>\<span class="w">Software</span>\<span class="w">Perl</span></code>
.
Entries in the former override entries in the latter.  One or more of the
following entries (of type REG_SZ or REG_EXPAND_SZ) may be set:</p>
<pre class="verbatim"><ol><li>    lib-$]		version-specific standard library path to add to @INC</li><li>    lib			standard library path to add to @INC</li><li>    sitelib-$]		version-specific site library path to add to @INC</li><li>    sitelib		site library path to add to @INC</li><li>    vendorlib-$]	version-specific vendor library path to add to @INC</li><li>    vendorlib		vendor library path to add to @INC</li><li>    PERL*		fallback for all %ENV lookups that begin with "PERL"</li></ol></pre><p>Note the <code class="inline"><span class="i">$]</span></code>
 in the above is not literal.  Substitute whatever version
of perl you want to honor that entry, e.g. <code class="inline"><span class="v">5.6.0</span></code>
.  Paths must be
separated with semicolons, as usual on Windows.</p>
</li>
<li><a name="File-Globbing"></a><b>File Globbing</b>
<p>By default, perl handles file globbing using the File::Glob extension,
which provides portable globbing.</p>
<p>If you want perl to use globbing that emulates the quirks of DOS
filename conventions, you might want to consider using File::DosGlob
to override the internal glob() implementation.  See <a href="File/DosGlob.html">File::DosGlob</a> for
details.</p>
</li>
<li><a name="Using-perl-from-the-command-line"></a><b>Using perl from the command line</b>
<p>If you are accustomed to using perl from various command-line
shells found in UNIX environments, you will be less than pleased
with what Windows offers by way of a command shell.</p>
<p>The crucial thing to understand about the Windows environment is that
the command line you type in is processed twice before Perl sees it.
First, your command shell (usually CMD.EXE) preprocesses the command
line, to handle redirection, environment variable expansion, and
location of the executable to run. Then, the perl executable splits
the remaining command line into individual arguments, using the
C runtime library upon which Perl was built.</p>
<p>It is particularly important to note that neither the shell nor the C
runtime do any wildcard expansions of command-line arguments (so
wildcards need not be quoted).  Also, the quoting behaviours of the
shell and the C runtime are rudimentary at best (and may, if you are
using a non-standard shell, be inconsistent).  The only (useful) quote
character is the double quote (").  It can be used to protect spaces
and other special characters in arguments.</p>
<p>The Windows documentation describes the shell parsing rules here:
<a href="http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/cmd.mspx?mfr=true">http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/cmd.mspx?mfr=true</a>
and the C runtime parsing rules here:
<a href="http://msdn.microsoft.com/en-us/library/17w5ykft%28v=VS.100%29.aspx">http://msdn.microsoft.com/en-us/library/17w5ykft%28v=VS.100%29.aspx</a>.</p>
<p>Here are some further observations based on experiments: The C runtime
breaks arguments at spaces and passes them to programs in argc/argv.
Double quotes can be used to prevent arguments with spaces in them from
being split up.  You can put a double quote in an argument by escaping
it with a backslash and enclosing the whole argument within double quotes.
The backslash and the pair of double quotes surrounding the argument will
be stripped by the C runtime.</p>
<p>The file redirection characters "&lt;", "&gt;", and "|" can be quoted by
double quotes (although there are suggestions that this may not always
be true).  Single quotes are not treated as quotes by the shell or
the C runtime, they don't get stripped by the shell (just to make
this type of quoting completely useless).  The caret "^" has also
been observed to behave as a quoting character, but this appears
to be a shell feature, and the caret is not stripped from the command
line, so Perl still sees it (and the C runtime phase does not treat
the caret as a quote character).</p>
<p>Here are some examples of usage of the "cmd" shell:</p>
<p>This prints two doublequotes:</p>
<pre class="verbatim"><ol><li>    <span class="w">perl</span> -e <span class="q">&quot;print &#39;\&quot;\&quot;&#39; &quot;</span></li></ol></pre><p>This does the same:</p>
<pre class="verbatim"><ol><li>    <span class="w">perl</span> -e <span class="q">&quot;print \&quot;\\\&quot;\\\&quot;\&quot; &quot;</span></li></ol></pre><p>This prints "bar" and writes "foo" to the file "blurch":</p>
<pre class="verbatim"><ol><li>    <span class="w">perl</span> -e <span class="q">&quot;print &#39;foo&#39;; print STDERR &#39;bar&#39;&quot;</span> &gt; <span class="w">blurch</span></li></ol></pre><p>This prints "foo" ("bar" disappears into nowhereland):</p>
<pre class="verbatim"><ol><li>    perl -e "print 'foo'; print STDERR 'bar'" 2&gt; nul</li></ol></pre><p>This prints "bar" and writes "foo" into the file "blurch":</p>
<pre class="verbatim"><ol><li>    perl -e "print 'foo'; print STDERR 'bar'" 1&gt; blurch</li></ol></pre><p>This pipes "foo" to the "less" pager and prints "bar" on the console:</p>
<pre class="verbatim"><ol><li>    <span class="w">perl</span> -e <span class="q">&quot;print &#39;foo&#39;; print STDERR &#39;bar&#39;&quot;</span> | <span class="w">less</span></li></ol></pre><p>This pipes "foo\nbar\n" to the less pager:</p>
<pre class="verbatim"><ol><li>    perl -le "print 'foo'; print STDERR 'bar'" 2&gt;&amp;1 | less</li></ol></pre><p>This pipes "foo" to the pager and writes "bar" in the file "blurch":</p>
<pre class="verbatim"><ol><li>    perl -e "print 'foo'; print STDERR 'bar'" 2&gt; blurch | less</li></ol></pre><p>Discovering the usefulness of the "command.com" shell on Windows 9x
is left as an exercise to the reader :)</p>
<p>One particularly pernicious problem with the 4NT command shell for
Windows is that it (nearly) always treats a % character as indicating
that environment variable expansion is needed.  Under this shell, it is
therefore important to always double any % characters which you want
Perl to see (for example, for hash variables), even when they are
quoted.</p>
</li>
<li><a name="Building-Extensions"></a><b>Building Extensions</b>
<p>The Comprehensive Perl Archive Network (CPAN) offers a wealth
of extensions, some of which require a C compiler to build.
Look in <a href="http://www.cpan.org/">http://www.cpan.org/</a> for more information on CPAN.</p>
<p>Note that not all of the extensions available from CPAN may work
in the Windows environment; you should check the information at
<a href="http://www.cpantesters.org/">http://www.cpantesters.org/</a> before investing too much effort into
porting modules that don't readily build.</p>
<p>Most extensions (whether they require a C compiler or not) can
be built, tested and installed with the standard mantra:</p>
<pre class="verbatim"><ol><li>    perl Makefile.PL</li><li>    $MAKE</li><li>    $MAKE test</li><li>    $MAKE install</li></ol></pre><p>where $MAKE is whatever 'make' program you have configured perl to
use.  Use "perl -V:make" to find out what this is.  Some extensions
may not provide a testsuite (so "$MAKE test" may not do anything or
fail), but most serious ones do.</p>
<p>It is important that you use a supported 'make' program, and
ensure Config.pm knows about it.  If you don't have nmake, you can
either get dmake from the location mentioned earlier or get an
old version of nmake reportedly available from:</p>
<p><a href="http://download.microsoft.com/download/vc15/Patch/1.52/W95/EN-US/nmake15.exe">http://download.microsoft.com/download/vc15/Patch/1.52/W95/EN-US/nmake15.exe</a></p>
<p>Another option is to use the make written in Perl, available from
CPAN.</p>
<p><a href="http://www.cpan.org/modules/by-module/Make/">http://www.cpan.org/modules/by-module/Make/</a></p>
<p>You may also use dmake.  See <a href="#Make">Make</a> above on how to get it.</p>
<p>Note that MakeMaker actually emits makefiles with different syntax
depending on what 'make' it thinks you are using.  Therefore, it is
important that one of the following values appears in Config.pm:</p>
<pre class="verbatim"><ol><li>    make='nmake'	# MakeMaker emits nmake syntax</li><li>    make='dmake'	# MakeMaker emits dmake syntax</li><li>    any other value	# MakeMaker emits generic make syntax</li><li>    			    (e.g GNU make, or Perl make)</li></ol></pre><p>If the value doesn't match the 'make' program you want to use,
edit Config.pm to fix it.</p>
<p>If a module implements XSUBs, you will need one of the supported
C compilers.  You must make sure you have set up the environment for
the compiler for command-line compilation before running <code class="inline"><span class="w">perl</span> <span class="w">Makefile</span>.<span class="w">PL</span></code>

or any invocation of make.</p>
<p>If a module does not build for some reason, look carefully for
why it failed, and report problems to the module author.  If
it looks like the extension building support is at fault, report
that with full details of how the build failed using the perlbug
utility.</p>
</li>
<li><a name="Command-line-Wildcard-Expansion"></a><b>Command-line Wildcard Expansion</b>
<p>The default command shells on DOS descendant operating systems (such
as they are) usually do not expand wildcard arguments supplied to
programs.  They consider it the application's job to handle that.
This is commonly achieved by linking the application (in our case,
perl) with startup code that the C runtime libraries usually provide.
However, doing that results in incompatible perl versions (since the
behavior of the argv expansion code differs depending on the
compiler, and it is even buggy on some compilers).  Besides, it may
be a source of frustration if you use such a perl binary with an
alternate shell that *does* expand wildcards.</p>
<p>Instead, the following solution works rather well. The nice things
about it are 1) you can start using it right away; 2) it is more
powerful, because it will do the right thing with a pattern like
*/*/*.c; 3) you can decide whether you do/don't want to use it; and
4) you can extend the method to add any customizations (or even
entirely different kinds of wildcard expansion).</p>
<pre class="verbatim"><ol><li>	C:\&gt; copy con c:\perl\lib\Wild.pm</li><li>	# Wild.pm - emulate shell @ARGV expansion on shells that don't</li><li>	use File::DosGlob;</li><li>	@ARGV = map {</li><li>		      my @g = File::DosGlob::glob($_) if /[*?]/;</li><li>		      @g ? @g : $_;</li><li>		    } @ARGV;</li><li>	1;</li><li>	^Z</li><li>	C:\&gt; set PERL5OPT=-MWild</li><li>	C:\&gt; perl -le "for (@ARGV) { print }" */*/perl*.c</li><li>	p4view/perl/perl.c</li><li>	p4view/perl/perlio.c</li><li>	p4view/perl/perly.c</li><li>	perl5.005/win32/perlglob.c</li><li>	perl5.005/win32/perllib.c</li><li>	perl5.005/win32/perlglob.c</li><li>	perl5.005/win32/perllib.c</li><li>	perl5.005/win32/perlglob.c</li><li>	perl5.005/win32/perllib.c</li></ol></pre><p>Note there are two distinct steps there: 1) You'll have to create
Wild.pm and put it in your perl lib directory. 2) You'll need to
set the PERL5OPT environment variable.  If you want argv expansion
to be the default, just set PERL5OPT in your default startup
environment.</p>
<p>If you are using the Visual C compiler, you can get the C runtime's
command line wildcard expansion built into perl binary.  The resulting
binary will always expand unquoted command lines, which may not be
what you want if you use a shell that does that for you.  The expansion
done is also somewhat less powerful than the approach suggested above.</p>
</li>
<li><a name="Notes-on-64-bit-Windows"></a><b>Notes on 64-bit Windows</b>
<p>Windows .NET Server supports the LLP64 data model on the Intel Itanium
architecture.</p>
<p>The LLP64 data model is different from the LP64 data model that is the
norm on 64-bit Unix platforms.  In the former, <code class="inline"><a class="l_k" href="functions/int.html">int</a></code> and <code class="inline"><span class="w">long</span></code>
 are
both 32-bit data types, while pointers are 64 bits wide.  In addition,
there is a separate 64-bit wide integral type, <code class="inline"><span class="w">__int64</span></code>
.  In contrast,
the LP64 data model that is pervasive on Unix platforms provides <code class="inline"><a class="l_k" href="functions/int.html">int</a></code>
as the 32-bit type, while both the <code class="inline"><span class="w">long</span></code>
 type and pointers are of
64-bit precision.  Note that both models provide for 64-bits of
addressability.</p>
<p>64-bit Windows running on Itanium is capable of running 32-bit x86
binaries transparently.  This means that you could use a 32-bit build
of Perl on a 64-bit system.  Given this, why would one want to build
a 64-bit build of Perl?  Here are some reasons why you would bother:</p>
<ul>
<li>
<p>A 64-bit native application will run much more efficiently on
Itanium hardware.</p>
</li>
<li>
<p>There is no 2GB limit on process size.</p>
</li>
<li>
<p>Perl automatically provides large file support when built under
64-bit Windows.</p>
</li>
<li>
<p>Embedding Perl inside a 64-bit application.</p>
</li>
</ul>
</li>
</ul>
<a name="Running-Perl-Scripts"></a><h2>Running Perl Scripts</h2>
<p>Perl scripts on UNIX use the "#!" (a.k.a "shebang") line to
indicate to the OS that it should execute the file using perl.
Windows has no comparable means to indicate arbitrary files are
executables.</p>
<p>Instead, all available methods to execute plain text files on
Windows rely on the file "extension".  There are three methods
to use this to execute perl scripts:</p>
<dl>
<dt>1</dt><dd>
<p>There is a facility called "file extension associations".  This can be
manipulated via the two commands "assoc" and "ftype" that come
standard with Windows.  Type "ftype /?" for a complete example of how
to set this up for perl scripts (Say what?  You thought Windows
wasn't perl-ready? :).</p>
</dd>
<dt>2</dt><dd>
<p>Since file associations don't work everywhere, and there are
reportedly bugs with file associations where it does work, the
old method of wrapping the perl script to make it look like a
regular batch file to the OS, may be used.  The install process
makes available the "pl2bat.bat" script which can be used to wrap
perl scripts into batch files.  For example:</p>
<pre class="verbatim"><ol><li>	<span class="w">pl2bat</span> <span class="w">foo</span>.<span class="w">pl</span></li></ol></pre><p>will create the file "FOO.BAT".  Note "pl2bat" strips any
.pl suffix and adds a .bat suffix to the generated file.</p>
<p>If you use the 4DOS/NT or similar command shell, note that
"pl2bat" uses the "%*" variable in the generated batch file to
refer to all the command line arguments, so you may need to make
sure that construct works in batch files.  As of this writing,
4DOS/NT users will need a "ParameterChar = *" statement in their
4NT.INI file or will need to execute "setdos /p*" in the 4DOS/NT
startup file to enable this to work.</p>
</dd>
<dt>3</dt><dd>
<p>Using "pl2bat" has a few problems:  the file name gets changed,
so scripts that rely on <code class="inline"><span class="i">$0</span></code>
 to find what they must do may not
run properly; running "pl2bat" replicates the contents of the
original script, and so this process can be maintenance intensive
if the originals get updated often.  A different approach that
avoids both problems is possible.</p>
<p>A script called "runperl.bat" is available that can be copied
to any filename (along with the .bat suffix).  For example,
if you call it "foo.bat", it will run the file "foo" when it is
executed.  Since you can run batch files on Windows platforms simply
by typing the name (without the extension), this effectively
runs the file "foo", when you type either "foo" or "foo.bat".
With this method, "foo.bat" can even be in a different location
than the file "foo", as long as "foo" is available somewhere on
the PATH.  If your scripts are on a filesystem that allows symbolic
links, you can even avoid copying "runperl.bat".</p>
<p>Here's a diversion:  copy "runperl.bat" to "runperl", and type
"runperl".  Explain the observed behavior, or lack thereof. :)
Hint: .gnidnats llits er'uoy fi ,"lrepnur" eteled :tniH</p>
</dd>
</dl>
<a name="Miscellaneous-Things"></a><h2>Miscellaneous Things</h2>
<p>A full set of HTML documentation is installed, so you should be
able to use it if you have a web browser installed on your
system.</p>
<p><code class="inline"><span class="w">perldoc</span></code>
 is also a useful tool for browsing information contained
in the documentation, especially in conjunction with a pager
like <code class="inline"><span class="w">less</span></code>
 (recent versions of which have Windows support).  You may
have to set the PAGER environment variable to use a specific pager.
"perldoc -f foo" will print information about the perl operator
"foo".</p>
<p>One common mistake when using this port with a GUI library like <code class="inline"><span class="w">Tk</span></code>

is assuming that Perl's normal behavior of opening a command-line
window will go away.  This isn't the case.  If you want to start a copy
of <code class="inline"><span class="w">perl</span></code>
 without opening a command-line window, use the <code class="inline"><span class="w">wperl</span></code>

executable built during the installation process.  Usage is exactly
the same as normal <code class="inline"><span class="w">perl</span></code>
 on Windows, except that options like <code class="inline">-<span class="w">h</span></code>

don't work (since they need a command-line window to print to).</p>
<p>If you find bugs in perl, you can run <code class="inline"><span class="w">perlbug</span></code>
 to create a
bug report (you may have to send it manually if <code class="inline"><span class="w">perlbug</span></code>
 cannot
find a mailer on your system).</p>
<a name="BUGS-AND-CAVEATS"></a><h1>BUGS AND CAVEATS</h1>
<p>Norton AntiVirus interferes with the build process, particularly if
set to "AutoProtect, All Files, when Opened". Unlike large applications
the perl build process opens and modifies a lot of files. Having the
the AntiVirus scan each and every one slows build the process significantly.
Worse, with PERLIO=stdio the build process fails with peculiar messages
as the virus checker interacts badly with miniperl.exe writing configure
files (it seems to either catch file part written and treat it as suspicious,
or virus checker may have it "locked" in a way which inhibits miniperl
updating it). The build does complete with</p>
<pre class="verbatim"><ol><li>   <span class="w">set</span> <span class="w">PERLIO</span>=<span class="w">perlio</span></li></ol></pre><p>but that may be just luck. Other AntiVirus software may have similar issues.</p>
<p>A git GUI shell extension for Windows such as TortoiseGit will cause the build
and later <code class="inline"><span class="w">make</span> <span class="w">test</span></code>
 to run much slower since every file is checked for its
git status as soon as it is created and/or modified. TortoiseGit doesn't cause
any test failures or build problems unlike the antivirus software described
above, but it does cause similar slowness. It is suggested to use Task Manager
to look for background processes which use high CPU amounts during the building
process.</p>
<p>Some of the built-in functions do not act exactly as documented in
<a href="perlfunc.html">perlfunc</a>, and a few are not implemented at all.  To avoid
surprises, particularly if you have had prior exposure to Perl
in other operating environments or if you intend to write code
that will be portable to other environments, see <a href="perlport.html">perlport</a>
for a reasonably definitive list of these differences.</p>
<p>Not all extensions available from CPAN may build or work properly
in the Windows environment.  See <a href="#Building-Extensions">Building Extensions</a>.</p>
<p>Most <code class="inline"><a class="l_k" href="functions/socket.html">socket()</a></code> related calls are supported, but they may not
behave as on Unix platforms.  See <a href="perlport.html">perlport</a> for the full list.</p>
<p>Signal handling may not behave as on Unix platforms (where it
doesn't exactly "behave", either :).  For instance, calling <code class="inline"><a class="l_k" href="functions/die.html">die()</a></code>
or <code class="inline"><a class="l_k" href="functions/exit.html">exit()</a></code> from signal handlers will cause an exception, since most
implementations of <code class="inline"><span class="i">signal</span><span class="s">(</span><span class="s">)</span></code>
 on Windows are severely crippled.
Thus, signals may work only for simple things like setting a flag
variable in the handler.  Using signals under this port should
currently be considered unsupported.</p>
<p>Please send detailed descriptions of any problems and solutions that
you may find to &lt;<i>perlbug@perl.org</i>&gt;, along with the output
produced by <code class="inline"><span class="w">perl</span> -<span class="w">V</span></code>
.</p>
<a name="ACKNOWLEDGEMENTS"></a><h1>ACKNOWLEDGEMENTS</h1>
<p>The use of a camel with the topic of Perl is a trademark
of O'Reilly and Associates, Inc. Used with permission.</p>
<a name="AUTHORS"></a><h1>AUTHORS</h1>
<ul>
<li><a name="Gary-Ng-%3c71564.1743%40CompuServe.COM%3e"></a><b>Gary Ng &lt;71564.1743@CompuServe.COM&gt;</b>
</li>
<li><a name="Gurusamy-Sarathy-%3cgsar%40activestate.com%3e"></a><b>Gurusamy Sarathy &lt;gsar@activestate.com&gt;</b>
</li>
<li><a name="Nick-Ing-Simmons-%3cnick%40ing-simmons.net%3e"></a><b>Nick Ing-Simmons &lt;nick@ing-simmons.net&gt;</b>
</li>
<li><a name="Jan-Dubois-%3cjand%40activestate.com%3e"></a><b>Jan Dubois &lt;jand@activestate.com&gt;</b>
</li>
<li><a name="Steve-Hay-%3csteve.m.hay%40googlemail.com%3e"></a><b>Steve Hay &lt;steve.m.hay@googlemail.com&gt;</b>
</li>
</ul>
<p>This document is maintained by Jan Dubois.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="perl.html">perl</a></p>
<a name="HISTORY"></a><h1>HISTORY</h1>
<p>This port was originally contributed by Gary Ng around 5.003_24,
and borrowed from the Hip Communications port that was available
at the time.  Various people have made numerous and sundry hacks
since then.</p>
<p>GCC/mingw32 support was added in 5.005 (Nick Ing-Simmons).</p>
<p>Support for PERL_OBJECT was added in 5.005 (ActiveState Tool Corp).</p>
<p>Support for fork() emulation was added in 5.6 (ActiveState Tool Corp).</p>
<p>Win9x support was added in 5.6 (Benjamin Stuhl).</p>
<p>Support for 64-bit Windows added in 5.8 (ActiveState Corp).</p>
<p>Last updated: 07 October 2014</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Setting-Up-Perl-on-Windows">Setting Up Perl on Windows</a><li><a href="#Building">Building</a><li><a href="#Testing-Perl-on-Windows">Testing Perl on Windows</a><li><a href="#Installation-of-Perl-on-Windows">Installation of Perl on Windows</a><li><a href="#Usage-Hints-for-Perl-on-Windows">Usage Hints for Perl on Windows</a><li><a href="#Running-Perl-Scripts">Running Perl Scripts</a><li><a href="#Miscellaneous-Things">Miscellaneous Things</a></ul><li><a href="#BUGS-AND-CAVEATS">BUGS AND CAVEATS</a><li><a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a><li><a href="#AUTHORS">AUTHORS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#HISTORY">HISTORY</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="index-modules-A.html">Modules</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="index-licence.html">License</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="static/exploreperl.js"></script>
      <script language="JavaScript" src="static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(0);
  perldoc.pageName    = 'perlwin32';
  perldoc.pageAddress = 'perlwin32.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
