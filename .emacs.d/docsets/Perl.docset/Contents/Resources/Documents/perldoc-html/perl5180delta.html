<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>perl5180delta</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">History / Changes</a>
                <li><a href="index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Special Variables</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>perl5180delta</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-history.html">History / Changes</a> &gt;
      
    
    perl5180delta
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>perl5180delta</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#Core-Enhancements">Core Enhancements</a><ul><li><a href="#New-mechanism-for-experimental-features">New mechanism for experimental features</a><li><a href="#Hash-overhaul">Hash overhaul</a><li><a href="#Upgrade-to-Unicode-6.2">Upgrade to Unicode 6.2</a><li><a href="#Character-name-aliases-may-now-include-non-Latin1-range-characters">Character name aliases may now include non-Latin1-range characters</a><li><a href="#New-DTrace-probes">New DTrace probes</a><li><a href="#%24%7b%5eLAST_FH%7d">${^LAST_FH}</a><li><a href="#Regular-Expression-Set-Operations">Regular Expression Set Operations</a><li><a href="#Lexical-subroutines">Lexical subroutines</a><li><a href="#Computed-Labels">Computed Labels</a><li><a href="#More-CORE%3a%3a-subs">More CORE:: subs</a><li><a href="#kill-with-negative-signal-names">kill with negative signal names</a></ul><li><a href="#Security">Security</a><ul><li><a href="#See-also%3a-hash-overhaul">See also: hash overhaul</a><li><a href="#Storable-security-warning-in-documentation">Storable security warning in documentation</a><li><a href="#Locale%3a%3aMaketext-allowed-code-injection-via-a-malicious-template">Locale::Maketext allowed code injection via a malicious template</a><li><a href="#Avoid-calling-memset-with-a-negative-count">Avoid calling memset with a negative count</a></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a><ul><li><a href="#See-also%3a-hash-overhaul">See also: hash overhaul</a><li><a href="#An-unknown-character-name-in-%5cN%7b...%7d-is-now-a-syntax-error">An unknown character name in \N{...} is now a syntax error</a><li><a href="#Formerly-deprecated-characters-in-%5cN%7b%7d-character-name-aliases-are-now-errors.">Formerly deprecated characters in \N{} character name aliases are now errors.</a><li><a href="#%5cN%7bBELL%7d-now-refers-to-U%2b1F514-instead-of-U%2b0007">\N{BELL} now refers to U+1F514 instead of U+0007</a><li><a href="#New-Restrictions-in-Multi-Character-Case-Insensitive-Matching-in-Regular-Expression-Bracketed-Character-Classes">New Restrictions in Multi-Character Case-Insensitive Matching in Regular Expression Bracketed Character Classes</a><li><a href="#Explicit-rules-for-variable-names-and-identifiers">Explicit rules for variable names and identifiers</a><li><a href="#Vertical-tabs-are-now-whitespace">Vertical tabs are now whitespace</a><li><a href="#%2f(%3f%7b%7d)%2f-and-%2f(%3f%3f%7b%7d)%2f-have-been-heavily-reworked">/(?{})/ and /(??{})/ have been heavily reworked</a><li><a href="#Stricter-parsing-of-substitution-replacement">Stricter parsing of substitution replacement</a><li><a href="#given-now-aliases-the-global-%24_">given now aliases the global $_</a><li><a href="#The-smartmatch-family-of-features-are-now-experimental">The smartmatch family of features are now experimental</a><li><a href="#Lexical-%24_-is-now-experimental">Lexical $_ is now experimental</a><li><a href="#readline()-with-%24%2f-%3d-%5cN-now-reads-N-characters%2c-not-N-bytes">readline() with $/ = \N now reads N characters, not N bytes</a><li><a href="#Overridden-glob-is-now-passed-one-argument">Overridden glob is now passed one argument</a><li><a href="#Here-doc-parsing">Here doc parsing</a><li><a href="#Alphanumeric-operators-must-now-be-separated-from-the-closing-delimiter-of-regular-expressions">Alphanumeric operators must now be separated from the closing
delimiter of regular expressions</a><li><a href="#qw(...)-can-no-longer-be-used-as-parentheses">qw(...) can no longer be used as parentheses</a><li><a href="#Interaction-of-lexical-and-default-warnings">Interaction of lexical and default warnings</a><li><a href="#state-sub-and-our-sub">state sub and our sub</a><li><a href="#Defined-values-stored-in-environment-are-forced-to-byte-strings">Defined values stored in environment are forced to byte strings</a><li><a href="#require-dies-for-unreadable-files">require dies for unreadable files</a><li><a href="#gv_fetchmeth_*-and-SUPER">gv_fetchmeth_* and SUPER</a><li><a href="#split's-first-argument-is-more-consistently-interpreted">split's first argument is more consistently interpreted</a></ul><li><a href="#Deprecations">Deprecations</a><ul><li><a href="#Module-removals">Module removals</a><li><a href="#Deprecated-Utilities">Deprecated Utilities</a><li><a href="#PL_sv_objcount">PL_sv_objcount</a><li><a href="#Five-additional-characters-should-be-escaped-in-patterns-with-%2fx">Five additional characters should be escaped in patterns with /x</a><li><a href="#User-defined-charnames-with-surprising-whitespace">User-defined charnames with surprising whitespace</a><li><a href="#Various-XS-callable-functions-are-now-deprecated">Various XS-callable functions are now deprecated</a><li><a href="#Certain-rare-uses-of-backslashes-within-regexes-are-now-deprecated">Certain rare uses of backslashes within regexes are now deprecated</a><li><a href="#Splitting-the-tokens-(%3f-and-(*-in-regular-expressions">Splitting the tokens (? and (* in regular expressions</a><li><a href="#Pre-PerlIO-IO-implementations">Pre-PerlIO IO implementations</a></ul><li><a href="#Future-Deprecations">Future Deprecations</a><li><a href="#Performance-Enhancements">Performance Enhancements</a><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a><ul><li><a href="#New-Modules-and-Pragmata">New Modules and Pragmata</a><li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a><li><a href="#Removed-Modules-and-Pragmata">Removed Modules and Pragmata</a></ul><li><a href="#Documentation">Documentation</a><ul><li><a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a><li><a href="#New-Diagnostics">New Diagnostics</a><li><a href="#Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</a></ul><li><a href="#Utility-Changes">Utility Changes</a><li><a href="#Configuration-and-Compilation">Configuration and Compilation</a><li><a href="#Testing">Testing</a><li><a href="#Platform-Support">Platform Support</a><ul><li><a href="#Discontinued-Platforms">Discontinued Platforms</a><li><a href="#Platform-Specific-Notes">Platform-Specific Notes</a></ul><li><a href="#Internal-Changes">Internal Changes</a><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a><li><a href="#Known-Problems">Known Problems</a><li><a href="#Obituary">Obituary</a><li><a href="#Acknowledgements">Acknowledgements</a><li><a href="#Reporting-Bugs">Reporting Bugs</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perl5180delta - what is new for perl v5.18.0</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This document describes differences between the v5.16.0 release and the v5.18.0
release.</p>
<p>If you are upgrading from an earlier release such as v5.14.0, first read
<a href="perl5160delta.html">perl5160delta</a>, which describes differences between v5.14.0 and v5.16.0.</p>
<a name="Core-Enhancements"></a><h1>Core Enhancements</h1>
<a name="New-mechanism-for-experimental-features"></a><h2>New mechanism for experimental features</h2>
<p>Newly-added experimental features will now require this incantation:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&quot;experimental::feature_name&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&quot;feature_name&quot;</span><span class="sc">;</span>  <span class="c"># would warn without the prev line</span></li></ol></pre><p>There is a new warnings category, called "experimental", containing
warnings that the <a href="feature.html">feature</a> pragma emits when enabling experimental
features.</p>
<p>Newly-added experimental features will also be given special warning IDs,
which consist of "experimental::" followed by the name of the feature.  (The
plan is to extend this mechanism eventually to all warnings, to allow them
to be enabled or disabled individually, and not just by category.)</p>
<p>By saying</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&quot;experimental::feature_name&quot;</span><span class="sc">;</span></li></ol></pre><p>you are taking responsibility for any breakage that future changes to, or
removal of, the feature may cause.</p>
<p>Since some features (like <code class="inline">~~</code>
 or <code class="inline"><a class="l_k" href="functions/my.html">my</a> <span class="i">$_</span></code>
) now emit experimental warnings,
and you may want to disable them in code that is also run on perls that do not
recognize these warning categories, consider using the <code class="inline">if</code>
 pragma like this:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/no.html">no</a> <a class="l_k" href="functions/if.html">if</a> <span class="i">$]</span> &gt;= <span class="n">5.018</span><span class="cm">,</span> <span class="w">warnings</span> <span class="cm">=&gt;</span> <span class="q">&quot;experimental::feature_name&quot;</span><span class="sc">;</span></li></ol></pre><p>Existing experimental features may begin emitting these warnings, too.  Please
consult <a href="perlexperiment.html">perlexperiment</a> for information on which features are considered
experimental.</p>
<a name="Hash-overhaul"></a><h2>Hash overhaul</h2>
<p>Changes to the implementation of hashes in perl v5.18.0 will be one of the most
visible changes to the behavior of existing code.</p>
<p>By default, two distinct hash variables with identical keys and values may now
provide their contents in a different order where it was previously identical.</p>
<p>When encountering these changes, the key to cleaning up from them is to accept
that <b>hashes are unordered collections</b> and to act accordingly.</p>
<a name="Hash-randomization"></a><h3>Hash randomization</h3>
<p>The seed used by Perl's hash function is now random.  This means that the
order which keys/values will be returned from functions like <code class="inline"><a class="l_k" href="functions/keys.html">keys()</a></code>,
<code class="inline"><a class="l_k" href="functions/values.html">values()</a></code>, and <code class="inline"><a class="l_k" href="functions/each.html">each()</a></code> will differ from run to run.</p>
<p>This change was introduced to make Perl's hashes more robust to algorithmic
complexity attacks, and also because we discovered that it exposes hash
ordering dependency bugs and makes them easier to track down.</p>
<p>Toolchain maintainers might want to invest in additional infrastructure to
test for things like this.  Running tests several times in a row and then
comparing results will make it easier to spot hash order dependencies in
code.  Authors are strongly encouraged not to expose the key order of
Perl's hashes to insecure audiences.</p>
<p>Further, every hash has its own iteration order, which should make it much
more difficult to determine what the current hash seed is.</p>
<a name="New-hash-functions"></a><h3>New hash functions</h3>
<p>Perl v5.18 includes support for multiple hash functions, and changed
the default (to ONE_AT_A_TIME_HARD), you can choose a different
algorithm by defining a symbol at compile time.  For a current list,
consult the <i>INSTALL</i> document.  Note that as of Perl v5.18 we can
only recommend use of the default or SIPHASH. All the others are
known to have security issues and are for research purposes only.</p>
<a name="PERL_HASH_SEED-environment-variable-now-takes-a-hex-value"></a><h3>PERL_HASH_SEED environment variable now takes a hex value</h3>
<p><code class="inline"><span class="w">PERL_HASH_SEED</span></code>
 no longer accepts an integer as a parameter;
instead the value is expected to be a binary value encoded in a hex
string, such as "0xf5867c55039dc724".  This is to make the
infrastructure support hash seeds of arbitrary lengths, which might
exceed that of an integer.  (SipHash uses a 16 byte seed.)</p>
<a name="PERL_PERTURB_KEYS-environment-variable-added"></a><h3>PERL_PERTURB_KEYS environment variable added</h3>
<p>The <code class="inline"><span class="w">PERL_PERTURB_KEYS</span></code>
 environment variable allows one to control the level of
randomization applied to <code class="inline"><a class="l_k" href="functions/keys.html">keys</a></code> and friends.</p>
<p>When <code class="inline"><span class="w">PERL_PERTURB_KEYS</span></code>
 is 0, perl will not randomize the key order at all. The
chance that <code class="inline"><a class="l_k" href="functions/keys.html">keys</a></code> changes due to an insert will be the same as in previous
perls, basically only when the bucket size is changed.</p>
<p>When <code class="inline"><span class="w">PERL_PERTURB_KEYS</span></code>
 is 1, perl will randomize keys in a non-repeatable
way. The chance that <code class="inline"><a class="l_k" href="functions/keys.html">keys</a></code> changes due to an insert will be very high.  This
is the most secure and default mode.</p>
<p>When <code class="inline"><span class="w">PERL_PERTURB_KEYS</span></code>
 is 2, perl will randomize keys in a repeatable way.
Repeated runs of the same program should produce the same output every time.</p>
<p><code class="inline"><span class="w">PERL_HASH_SEED</span></code>
 implies a non-default <code class="inline"><span class="w">PERL_PERTURB_KEYS</span></code>
 setting. Setting
<code class="inline"><span class="w">PERL_HASH_SEED</span>=<span class="n">0</span></code>
 (exactly one 0) implies <code class="inline"><span class="w">PERL_PERTURB_KEYS</span>=<span class="n">0</span></code>
 (hash key
randomization disabled); setting <code class="inline"><span class="w">PERL_HASH_SEED</span></code>
 to any other value implies
<code class="inline"><span class="w">PERL_PERTURB_KEYS</span>=<span class="n">2</span></code>
 (deterministic and repeatable hash key randomization).
Specifying <code class="inline"><span class="w">PERL_PERTURB_KEYS</span></code>
 explicitly to a different level overrides this
behavior.</p>
<a name="Hash%3a%3aUtil%3a%3ahash_seed()-now-returns-a-string"></a><h3>Hash::Util::hash_seed() now returns a string</h3>
<p>Hash::Util::hash_seed() now returns a string instead of an integer.  This
is to make the infrastructure support hash seeds of arbitrary lengths
which might exceed that of an integer.  (SipHash uses a 16 byte seed.)</p>
<a name="Output-of-PERL_HASH_SEED_DEBUG-has-been-changed"></a><h3>Output of PERL_HASH_SEED_DEBUG has been changed</h3>
<p>The environment variable PERL_HASH_SEED_DEBUG now makes perl show both the
hash function perl was built with, <i>and</i> the seed, in hex, in use for that
process. Code parsing this output, should it exist, must change to accommodate
the new format.  Example of the new format:</p>
<pre class="verbatim"><ol><li>    <span class="i">$ PERL_HASH_SEED_DEBUG</span>=<span class="n">1</span> .<span class="q">/perl -e1</span></li><li>    <span class="q">    HASH_FUNCTION = MURMUR3 HASH_SEED = 0x1476bb9f</span></li></ol></pre><a name="Upgrade-to-Unicode-6.2"></a><h2>Upgrade to Unicode 6.2</h2>
<p>Perl now supports Unicode 6.2.  A list of changes from Unicode
6.1 is at <a href="http://www.unicode.org/versions/Unicode6.2.0">http://www.unicode.org/versions/Unicode6.2.0</a>.</p>
<a name="Character-name-aliases-may-now-include-non-Latin1-range-characters"></a><h2>Character name aliases may now include non-Latin1-range characters</h2>
<p>It is possible to define your own names for characters for use in
<code class="inline">\<span class="i">N</span><span class="s">{</span>...<span class="s">}</span></code>
, <code class="inline"><span class="i">charnames::vianame</span><span class="s">(</span><span class="s">)</span></code>
, etc.  These names can now be
comprised of characters from the whole Unicode range.  This allows for
names to be in your native language, and not just English.  Certain
restrictions apply to the characters that may be used (you can't define
a name that has punctuation in it, for example).  See <a href="charnames.html#CUSTOM-ALIASES">CUSTOM ALIASES in charnames</a>.</p>
<a name="New-DTrace-probes"></a><h2>New DTrace probes</h2>
<p>The following new DTrace probes have been added:</p>
<ul>
<li>
<p><code class="inline"><span class="w">op</span>-<span class="w">entry</span></code>
</p>
</li>
<li>
<p><code class="inline"><span class="w">loading</span>-<span class="w">file</span></code>
</p>
</li>
<li>
<p><code class="inline"><span class="w">loaded</span>-<span class="w">file</span></code>
</p>
</li>
</ul>
<a name="%24%7b%5eLAST_FH%7d"></a><h2><code class="inline"><span class="i">$</span>{<span class="w">^LAST_FH</span>}</code>
</h2>
<p>This new variable provides access to the filehandle that was last read.
This is the handle used by <code class="inline"><span class="i">$.</span></code>
 and by <code class="inline"><a class="l_k" href="functions/tell.html">tell</a></code> and <code class="inline"><a class="l_k" href="functions/eof.html">eof</a></code> without
arguments.</p>
<a name="Regular-Expression-Set-Operations"></a><h2>Regular Expression Set Operations</h2>
<p>This is an <b>experimental</b> feature to allow matching against the union,
intersection, etc., of sets of code points, similar to
<a href="http://search.cpan.org/perldoc/Unicode::Regex::Set">Unicode::Regex::Set</a>.  It can also be used to extend <code class="inline">/x</code> processing
to [bracketed] character classes, and as a replacement of user-defined
properties, allowing more complex expressions than they do.  See
<a href="perlrecharclass.html#Extended-Bracketed-Character-Classes">Extended Bracketed Character Classes in perlrecharclass</a>.</p>
<a name="Lexical-subroutines"></a><h2>Lexical subroutines</h2>
<p>This new feature is still considered <b>experimental</b>.  To enable it:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="n">5.018</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&quot;experimental::lexical_subs&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&quot;lexical_subs&quot;</span><span class="sc">;</span></li></ol></pre><p>You can now declare subroutines with <code class="inline"><a name="foo"></a><span class="w">state</span> sub <span class="m">foo</span></code>
, <code class="inline"><a name="foo"></a><a class="l_k" href="functions/my.html">my</a> sub <span class="m">foo</span></code>
, and
<code class="inline"><a name="foo"></a><a class="l_k" href="functions/our.html">our</a> sub <span class="m">foo</span></code>
.  (<code class="inline"><span class="w">state</span> <a class="l_k" href="functions/sub.html">sub</a></code>
 requires that the "state" feature be
enabled, unless you write it as <code class="inline"><a name="foo"></a><span class="w">CORE::state</span> sub <span class="m">foo</span></code>
.)</p>
<p><code class="inline"><span class="w">state</span> <a class="l_k" href="functions/sub.html">sub</a></code>
 creates a subroutine visible within the lexical scope in which
it is declared.  The subroutine is shared between calls to the outer sub.</p>
<p><code class="inline"><a class="l_k" href="functions/my.html">my</a> <a class="l_k" href="functions/sub.html">sub</a></code>
 declares a lexical subroutine that is created each time the
enclosing block is entered.  <code class="inline"><span class="w">state</span> <a class="l_k" href="functions/sub.html">sub</a></code>
 is generally slightly faster than
<code class="inline"><a class="l_k" href="functions/my.html">my</a> <a class="l_k" href="functions/sub.html">sub</a></code>
.</p>
<p><code class="inline"><a class="l_k" href="functions/our.html">our</a> <a class="l_k" href="functions/sub.html">sub</a></code>
 declares a lexical alias to the package subroutine of the same
name.</p>
<p>For more information, see <a href="perlsub.html#Lexical-Subroutines">Lexical Subroutines in perlsub</a>.</p>
<a name="Computed-Labels"></a><h2>Computed Labels</h2>
<p>The loop controls <code class="inline"><a class="l_k" href="functions/next.html">next</a></code>, <code class="inline"><a class="l_k" href="functions/last.html">last</a></code> and <code class="inline"><a class="l_k" href="functions/redo.html">redo</a></code>, and the special <code class="inline"><a class="l_k" href="functions/dump.html">dump</a></code>
operator, now allow arbitrary expressions to be used to compute labels at run
time.  Previously, any argument that was not a constant was treated as the
empty string.</p>
<a name="More-CORE%3a%3a-subs"></a><h2>More CORE:: subs</h2>
<p>Several more built-in functions have been added as subroutines to the
CORE:: namespace - namely, those non-overridable keywords that can be
implemented without custom parsers: <code class="inline"><a class="l_k" href="functions/defined.html">defined</a></code>, <code class="inline"><a class="l_k" href="functions/delete.html">delete</a></code>, <code class="inline"><a class="l_k" href="functions/exists.html">exists</a></code>,
<code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code>, <code class="inline"><a class="l_k" href="functions/pos.html">pos</a></code>, <code class="inline"><a class="l_k" href="functions/prototype.html">prototype</a></code>, <code class="inline"><a class="l_k" href="functions/scalar.html">scalar</a></code>, <code class="inline"><a class="l_k" href="functions/split.html">split</a></code>, <code class="inline"><a class="l_k" href="functions/study.html">study</a></code>, and <code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code>.</p>
<p>As some of these have prototypes, <code class="inline"><a class="l_k" href="functions/prototype.html">prototype('CORE::...')</a></code> has been
changed to not make a distinction between overridable and non-overridable
keywords.  This is to make <code class="inline"><a class="l_k" href="functions/prototype.html">prototype('CORE::pos')</a></code> consistent with
<code class="inline"><a class="l_k" href="functions/prototype.html">prototype(&CORE::pos)</a></code>.</p>
<a name="kill-with-negative-signal-names"></a><h2><code class="inline"><a class="l_k" href="functions/kill.html">kill</a></code> with negative signal names</h2>
<p><code class="inline"><a class="l_k" href="functions/kill.html">kill</a></code> has always allowed a negative signal number, which kills the
process group instead of a single process.  It has also allowed signal
names.  But it did not behave consistently, because negative signal names
were treated as 0.  Now negative signals names like <code class="inline">-<span class="w">INT</span></code>
 are supported
and treated the same way as -2 [perl #112990].</p>
<a name="Security"></a><h1>Security</h1>
<a name="See-also%3a-hash-overhaul"></a><h2>See also: hash overhaul</h2>
<p>Some of the changes in the <a href="#Hash-overhaul">hash overhaul</a> were made to
enhance security.  Please read that section.</p>
<a name="Storable-security-warning-in-documentation"></a><h2><code class="inline"><span class="w">Storable</span></code>
 security warning in documentation</h2>
<p>The documentation for <code class="inline"><span class="w">Storable</span></code>
 now includes a section which warns readers
of the danger of accepting Storable documents from untrusted sources. The
short version is that deserializing certain types of data can lead to loading
modules and other code execution. This is documented behavior and wanted
behavior, but this opens an attack vector for malicious entities.</p>
<a name="Locale%3a%3aMaketext-allowed-code-injection-via-a-malicious-template"></a><h2><code class="inline"><span class="w">Locale::Maketext</span></code>
 allowed code injection via a malicious template</h2>
<p>If users could provide a translation string to Locale::Maketext, this could be
used to invoke arbitrary Perl subroutines available in the current process.</p>
<p>This has been fixed, but it is still possible to invoke any method provided by
<code class="inline"><span class="w">Locale::Maketext</span></code>
 itself or a subclass that you are using. One of these
methods in turn will invoke the Perl core's <code class="inline"><a class="l_k" href="functions/sprintf.html">sprintf</a></code> subroutine.</p>
<p>In summary, allowing users to provide translation strings without auditing
them is a bad idea.</p>
<p>This vulnerability is documented in CVE-2012-6329.</p>
<a name="Avoid-calling-memset-with-a-negative-count"></a><h2>Avoid calling memset with a negative count</h2>
<p>Poorly written perl code that allows an attacker to specify the count to perl's
<code class="inline"><span class="w">x</span></code>
 string repeat operator can already cause a memory exhaustion
denial-of-service attack. A flaw in versions of perl before v5.15.5 can escalate
that into a heap buffer overrun; coupled with versions of glibc before 2.16, it
possibly allows the execution of arbitrary code.</p>
<p>The flaw addressed to this commit has been assigned identifier CVE-2012-5195
and was researched by Tim Brown.</p>
<a name="Incompatible-Changes"></a><h1>Incompatible Changes</h1>
<a name="See-also%3a-hash-overhaul"></a><h2>See also: hash overhaul</h2>
<p>Some of the changes in the <a href="#Hash-overhaul">hash overhaul</a> are not fully
compatible with previous versions of perl.  Please read that section.</p>
<a name="An-unknown-character-name-in-%5cN%7b...%7d-is-now-a-syntax-error"></a><h2>An unknown character name in <code class="inline">\<span class="i">N</span><span class="s">{</span>...<span class="s">}</span></code>
 is now a syntax error</h2>
<p>Previously, it warned, and the Unicode REPLACEMENT CHARACTER was
substituted.  Unicode now recommends that this situation be a syntax
error.  Also, the previous behavior led to some confusing warnings and
behaviors, and since the REPLACEMENT CHARACTER has no use other than as
a stand-in for some unknown character, any code that has this problem is
buggy.</p>
<a name="Formerly-deprecated-characters-in-%5cN%7b%7d-character-name-aliases-are-now-errors."></a><h2>Formerly deprecated characters in <code class="inline">\<span class="w">N</span><span class="s">{</span><span class="s">}</span></code>
 character name aliases are now errors.</h2>
<p>Since v5.12.0, it has been deprecated to use certain characters in
user-defined <code class="inline">\<span class="i">N</span><span class="s">{</span>...<span class="s">}</span></code>
 character names.  These now cause a syntax
error.  For example, it is now an error to begin a name with a digit,
such as in</p>
<pre class="verbatim"><ol><li> <a class="l_k" href="functions/my.html">my</a> <span class="i">$undraftable</span> = <span class="q">&quot;\N{4F}&quot;</span><span class="sc">;</span>    <span class="c"># Syntax error!</span></li></ol></pre><p>or to have commas anywhere in the name.  See <a href="charnames.html#CUSTOM-ALIASES">CUSTOM ALIASES in charnames</a>.</p>
<a name="%5cN%7bBELL%7d-now-refers-to-U%2b1F514-instead-of-U%2b0007"></a><h2><code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BELL</span><span class="s">}</span></code>
 now refers to U+1F514 instead of U+0007</h2>
<p>Unicode 6.0 reused the name "BELL" for a different code point than it
traditionally had meant.  Since Perl v5.14, use of this name still
referred to U+0007, but would raise a deprecation warning.  Now, "BELL"
refers to U+1F514, and the name for U+0007 is "ALERT".  All the
functions in <a href="charnames.html">charnames</a> have been correspondingly updated.</p>
<a name="New-Restrictions-in-Multi-Character-Case-Insensitive-Matching-in-Regular-Expression-Bracketed-Character-Classes"></a><h2>New Restrictions in Multi-Character Case-Insensitive Matching in Regular Expression Bracketed Character Classes</h2>
<p>Unicode has now withdrawn their previous recommendation for regular
expressions to automatically handle cases where a single character can
match multiple characters case-insensitively, for example, the letter
LATIN SMALL LETTER SHARP S and the sequence <code class="inline"><span class="w">ss</span></code>
.  This is because
it turns out to be impracticable to do this correctly in all
circumstances.  Because Perl has tried to do this as best it can, it
will continue to do so.  (We are considering an option to turn it off.)
However, a new restriction is being added on such matches when they
occur in [bracketed] character classes.  People were specifying
things such as <code class="inline"><span class="q">/[\0-\xff]/i</span></code>
, and being surprised that it matches the
two character sequence <code class="inline"><span class="w">ss</span></code>
 (since LATIN SMALL LETTER SHARP S occurs in
this range).  This behavior is also inconsistent with using a
property instead of a range:  <code class="inline">\<span class="i">p</span><span class="s">{</span><span class="w">Block</span>=<span class="w">Latin1</span><span class="s">}</span></code>
 also includes LATIN
SMALL LETTER SHARP S, but <code class="inline"><span class="q">/[\p{Block=Latin1}]/i</span></code>
 does not match <code class="inline"><span class="w">ss</span></code>
.
The new rule is that for there to be a multi-character case-insensitive
match within a bracketed character class, the character must be
explicitly listed, and not as an end point of a range.  This more
closely obeys the Principle of Least Astonishment.  See
<a href="perlrecharclass.html#Bracketed-Character-Classes">Bracketed Character Classes in perlrecharclass</a>.  Note that a bug [perl
#89774], now fixed as part of this change, prevented the previous
behavior from working fully.</p>
<a name="Explicit-rules-for-variable-names-and-identifiers"></a><h2>Explicit rules for variable names and identifiers</h2>
<p>Due to an oversight, single character variable names in v5.16 were
completely unrestricted.  This opened the door to several kinds of
insanity.  As of v5.18, these now follow the rules of other identifiers,
in addition to accepting characters that match the <code class="inline">\<span class="i">p</span><span class="s">{</span><span class="w">POSIX_Punct</span><span class="s">}</span></code>

property.</p>
<p>There is no longer any difference in the parsing of identifiers
specified by using braces versus without braces.  For instance, perl
used to allow <code class="inline"><span class="i">$</span>{<span class="w">foo</span><span class="co">:</span><span class="w">bar</span>}</code>
 (with a single colon) but not <code class="inline"><span class="i">$foo</span><span class="co">:</span><span class="w">bar</span></code>
.
Now that both are handled by a single code path, they are both treated
the same way: both are forbidden.  Note that this change is about the
range of permissible literal identifiers, not other expressions.</p>
<a name="Vertical-tabs-are-now-whitespace"></a><h2>Vertical tabs are now whitespace</h2>
<p>No one could recall why <code class="inline">\s</code> didn't match <code class="inline">\<span class="w">cK</span></code>
, the vertical tab.
Now it does.  Given the extreme rarity of that character, very little
breakage is expected.  That said, here's what it means:</p>
<p><code class="inline">\s</code> in a regex now matches a vertical tab in all circumstances.</p>
<p>Literal vertical tabs in a regex literal are ignored when the <code class="inline">/x</code>
modifier is used.</p>
<p>Leading vertical tabs, alone or mixed with other whitespace, are now
ignored when interpreting a string as a number.  For example:</p>
<pre class="verbatim"><ol><li>  <span class="i">$dec</span> = <span class="q">&quot; \cK \t 123&quot;</span><span class="sc">;</span></li><li>  <span class="i">$hex</span> = <span class="q">&quot; \cK \t 0xF&quot;</span><span class="sc">;</span></li><li></li><li>  <a class="l_k" href="functions/say.html">say</a> <span class="n">0</span> + <span class="i">$dec</span><span class="sc">;</span>   <span class="c"># was 0 with warning, now 123</span></li><li>  <a class="l_k" href="functions/say.html">say</a> <a class="l_k" href="functions/int.html">int</a> <span class="i">$dec</span><span class="sc">;</span>   <span class="c"># was 0, now 123</span></li><li>  <a class="l_k" href="functions/say.html">say</a> <a class="l_k" href="functions/oct.html">oct</a> <span class="i">$hex</span><span class="sc">;</span>   <span class="c"># was 0, now  15</span></li></ol></pre><a name="%2f(%3f%7b%7d)%2f-and-%2f(%3f%3f%7b%7d)%2f-have-been-heavily-reworked"></a><h2><code class="inline"><span class="q">/(?{})/</span></code>
 and <code class="inline"><span class="q">/(??{})/</span></code>
 have been heavily reworked</h2>
<p>The implementation of this feature has been almost completely rewritten.
Although its main intent is to fix bugs, some behaviors, especially
related to the scope of lexical variables, will have changed.  This is
described more fully in the <a href="#Selected-Bug-Fixes">Selected Bug Fixes</a> section.</p>
<a name="Stricter-parsing-of-substitution-replacement"></a><h2>Stricter parsing of substitution replacement</h2>
<p>It is no longer possible to abuse the way the parser parses <code class="inline"><a class="l_k" href="functions/s.html">s///e</a></code> like
this:</p>
<pre class="verbatim"><ol><li>    <span class="i">%_</span>=<span class="s">(</span><span class="w">_</span><span class="cm">,</span><span class="q">&quot;Just another &quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$_</span>=<span class="q">&quot;Perl hacker,\n&quot;</span><span class="sc">;</span></li><li>    <span class="q">s//_}-&gt;{_/e</span><span class="sc">;</span><a class="l_k" href="functions/print.html">print</a></li></ol></pre><a name="given-now-aliases-the-global-%24_"></a><h2><code class="inline">given</code>
 now aliases the global <code class="inline"><span class="i">$_</span></code>
</h2>
<p>Instead of assigning to an implicit lexical <code class="inline"><span class="i">$_</span></code>
, <code class="inline">given</code>
 now makes the
global <code class="inline"><span class="i">$_</span></code>
 an alias for its argument, just like <code class="inline">foreach</code>
.  However, it
still uses lexical <code class="inline"><span class="i">$_</span></code>
 if there is lexical <code class="inline"><span class="i">$_</span></code>
 in scope (again, just like
<code class="inline">foreach</code>
) [perl #114020].</p>
<a name="The-smartmatch-family-of-features-are-now-experimental"></a><h2>The smartmatch family of features are now experimental</h2>
<p>Smart match, added in v5.10.0 and significantly revised in v5.10.1, has been
a regular point of complaint.  Although there are a number of ways in which
it is useful, it has also proven problematic and confusing for both users and
implementors of Perl.  There have been a number of proposals on how to best
address the problem.  It is clear that smartmatch is almost certainly either
going to change or go away in the future.  Relying on its current behavior
is not recommended.</p>
<p>Warnings will now be issued when the parser sees <code class="inline">~~</code>
, <code class="inline">given</code>
, or <code class="inline">when</code>
.
To disable these warnings, you can add this line to the appropriate scope:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/no.html">no</a> <a class="l_k" href="functions/if.html">if</a> <span class="i">$]</span> &gt;= <span class="n">5.018</span><span class="cm">,</span> <span class="w">warnings</span> <span class="cm">=&gt;</span> <span class="q">&quot;experimental::smartmatch&quot;</span><span class="sc">;</span></li></ol></pre><p>Consider, though, replacing the use of these features, as they may change
behavior again before becoming stable.</p>
<a name="Lexical-%24_-is-now-experimental"></a><h2>Lexical <code class="inline"><span class="i">$_</span></code>
 is now experimental</h2>
<p>Since it was introduced in Perl v5.10, it has caused much confusion with no
obvious solution:</p>
<ul>
<li>
<p>Various modules (e.g., List::Util) expect callback routines to use the
global <code class="inline"><span class="i">$_</span></code>
.  <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">List::Util</span> <span class="q">&#39;first&#39;</span><span class="sc">;</span> <a class="l_k" href="functions/my.html">my</a> <span class="i">$_</span><span class="sc">;</span> <span class="i">first</span> <span class="s">{</span> <span class="i">$_</span> == <span class="n">1</span> <span class="s">}</span> <span class="i">@list</span></code>

does not work as one would expect.</p>
</li>
<li>
<p>A <code class="inline"><a class="l_k" href="functions/my.html">my</a> <span class="i">$_</span></code>
 declaration earlier in the same file can cause confusing closure
warnings.</p>
</li>
<li>
<p>The "_" subroutine prototype character allows called subroutines to access
your lexical <code class="inline"><span class="i">$_</span></code>
, so it is not really private after all.</p>
</li>
<li>
<p>Nevertheless, subroutines with a "(@)" prototype and methods cannot access
the caller's lexical <code class="inline"><span class="i">$_</span></code>
, unless they are written in XS.</p>
</li>
<li>
<p>But even XS routines cannot access a lexical <code class="inline"><span class="i">$_</span></code>
 declared, not in the
calling subroutine, but in an outer scope, iff that subroutine happened not
to mention <code class="inline"><span class="i">$_</span></code>
 or use any operators that default to <code class="inline"><span class="i">$_</span></code>
.</p>
</li>
</ul>
<p>It is our hope that lexical <code class="inline"><span class="i">$_</span></code>
 can be rehabilitated, but this may
cause changes in its behavior.  Please use it with caution until it
becomes stable.</p>
<a name="readline()-with-%24%2f-%3d-%5cN-now-reads-N-characters%2c-not-N-bytes"></a><h2>readline() with <code class="inline"><span class="i">$/</span> = \<span class="w">N</span></code>
 now reads N characters, not N bytes</h2>
<p>Previously, when reading from a stream with I/O layers such as
<code class="inline"><span class="w">encoding</span></code>
, the readline() function, otherwise known as the <code class="inline">&lt;&gt;</code>

operator, would read <i>N</i> bytes from the top-most layer. [perl #79960]</p>
<p>Now, <i>N</i> characters are read instead.</p>
<p>There is no change in behaviour when reading from streams with no
extra layers, since bytes map exactly to characters.</p>
<a name="Overridden-glob-is-now-passed-one-argument"></a><h2>Overridden <code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code> is now passed one argument</h2>
<p><code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code> overrides used to be passed a magical undocumented second argument
that identified the caller.  Nothing on CPAN was using this, and it got in
the way of a bug fix, so it was removed.  If you really need to identify
the caller, see <a href="http://search.cpan.org/perldoc/Devel::Callsite">Devel::Callsite</a> on CPAN.</p>
<a name="Here-doc-parsing"></a><h2>Here doc parsing</h2>
<p>The body of a here document inside a quote-like operator now always begins
on the line after the "&lt;&lt;foo" marker.  Previously, it was documented to
begin on the line following the containing quote-like operator, but that
was only sometimes the case [perl #114040].</p>
<a name="Alphanumeric-operators-must-now-be-separated-from-the-closing-delimiter-of-regular-expressions"></a><h2>Alphanumeric operators must now be separated from the closing
delimiter of regular expressions</h2>
<p>You may no longer write something like:</p>
<pre class="verbatim"><ol><li> <span class="q">m/a/</span><a class="l_k" href="functions/and.html">and</a> <span class="n">1</span></li></ol></pre><p>Instead you must write</p>
<pre class="verbatim"><ol><li> <span class="q">m/a/</span> <a class="l_k" href="functions/and.html">and</a> <span class="n">1</span></li></ol></pre><p>with whitespace separating the operator from the closing delimiter of
the regular expression.  Not having whitespace has resulted in a
deprecation warning since Perl v5.14.0.</p>
<a name="qw(...)-can-no-longer-be-used-as-parentheses"></a><h2>qw(...) can no longer be used as parentheses</h2>
<p><code class="inline"><a class="l_k" href="functions/qw.html">qw</a></code> lists used to fool the parser into thinking they were always
surrounded by parentheses.  This permitted some surprising constructions
such as <code class="inline">foreach <span class="i">$x</span> <span class="q">qw(a b c)</span> <span class="s">{</span>...<span class="s">}</span></code>
, which should really be written
<code class="inline">foreach <span class="i">$x</span> <span class="s">(</span><span class="q">qw(a b c)</span><span class="s">)</span> <span class="s">{</span>...<span class="s">}</span></code>
.  These would sometimes get the lexer into
the wrong state, so they didn't fully work, and the similar <code class="inline"><a class="l_k" href="functions/foreach.html">foreach</a> <span class="q">qw(a</span>
<span class="q">b c)</span> <span class="s">{</span>...<span class="s">}</span></code>
 that one might expect to be permitted never worked at all.</p>
<p>This side effect of <code class="inline"><a class="l_k" href="functions/qw.html">qw</a></code> has now been abolished.  It has been deprecated
since Perl v5.13.11.  It is now necessary to use real parentheses
everywhere that the grammar calls for them.</p>
<a name="Interaction-of-lexical-and-default-warnings"></a><h2>Interaction of lexical and default warnings</h2>
<p>Turning on any lexical warnings used first to disable all default warnings
if lexical warnings were not already enabled:</p>
<pre class="verbatim"><ol><li>    <span class="i">$*</span><span class="sc">;</span> <span class="c"># deprecation warning</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span> <span class="q">&quot;void&quot;</span><span class="sc">;</span></li><li>    <span class="i">$#</span><span class="sc">;</span> <span class="c"># void warning; no deprecation warning</span></li></ol></pre><p>Now, the <code class="inline"><span class="w">debugging</span></code>
, <code class="inline"><span class="w">deprecated</span></code>
, <code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code>, <code class="inline"><span class="w">inplace</span></code>
 and <code class="inline"><span class="w">malloc</span></code>
 warnings
categories are left on when turning on lexical warnings (unless they are
turned off by <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span></code>
, of course).</p>
<p>This may cause deprecation warnings to occur in code that used to be free
of warnings.</p>
<p>Those are the only categories consisting only of default warnings.  Default
warnings in other categories are still disabled by <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span> <span class="q">&quot;category&quot;</span></code>
,
as we do not yet have the infrastructure for controlling
individual warnings.</p>
<a name="state-sub-and-our-sub"></a><h2><code class="inline"><span class="w">state</span> <a class="l_k" href="functions/sub.html">sub</a></code>
 and <code class="inline"><a class="l_k" href="functions/our.html">our</a> <a class="l_k" href="functions/sub.html">sub</a></code>
</h2>
<p>Due to an accident of history, <code class="inline"><span class="w">state</span> <a class="l_k" href="functions/sub.html">sub</a></code>
 and <code class="inline"><a class="l_k" href="functions/our.html">our</a> <a class="l_k" href="functions/sub.html">sub</a></code>
 were equivalent
to a plain <code class="inline"><a class="l_k" href="functions/sub.html">sub</a></code>, so one could even create an anonymous sub with
<code class="inline"><a class="l_k" href="functions/our.html">our</a> <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> ... <span class="s">}</span></code>
.  These are now disallowed outside of the "lexical_subs"
feature.  Under the "lexical_subs" feature they have new meanings described
in <a href="perlsub.html#Lexical-Subroutines">Lexical Subroutines in perlsub</a>.</p>
<a name="Defined-values-stored-in-environment-are-forced-to-byte-strings"></a><h2>Defined values stored in environment are forced to byte strings</h2>
<p>A value stored in an environment variable has always been stringified when
inherited by child processes.</p>
<p>In this release, when assigning to <code class="inline"><span class="i">%ENV</span></code>
, values are immediately stringified,
and converted to be only a byte string.</p>
<p>First, it is forced to be a only a string.  Then if the string is utf8 and the
equivalent of <code class="inline"><span class="i">utf8::downgrade</span><span class="s">(</span><span class="s">)</span></code>
 works, that result is used; otherwise, the
equivalent of <code class="inline"><span class="i">utf8::encode</span><span class="s">(</span><span class="s">)</span></code>
 is used, and a warning is issued about wide
characters (<a href="#Diagnostics">Diagnostics</a>).</p>
<a name="require-dies-for-unreadable-files"></a><h2><code class="inline"><a class="l_k" href="functions/require.html">require</a></code> dies for unreadable files</h2>
<p>When <code class="inline"><a class="l_k" href="functions/require.html">require</a></code> encounters an unreadable file, it now dies.  It used to
ignore the file and continue searching the directories in <code class="inline"><span class="i">@INC</span></code>

[perl #113422].</p>
<a name="gv_fetchmeth_*-and-SUPER"></a><h2><code class="inline"><span class="w">gv_fetchmeth_</span>*</code>
 and SUPER</h2>
<p>The various <code class="inline"><span class="w">gv_fetchmeth_</span>*</code>
 XS functions used to treat a package whose
named ended with <code class="inline"><span class="w">::SUPER</span></code>
 specially.  A method lookup on the <code class="inline"><span class="w">Foo::SUPER</span></code>

package would be treated as a <code class="inline"><span class="w">SUPER</span></code>
 method lookup on the <code class="inline"><span class="w">Foo</span></code>
 package.  This
is no longer the case.  To do a <code class="inline"><span class="w">SUPER</span></code>
 lookup, pass the <code class="inline"><span class="w">Foo</span></code>
 stash and the
<code class="inline"><span class="w">GV_SUPER</span></code>
 flag.</p>
<a name="split's-first-argument-is-more-consistently-interpreted"></a><h2><code class="inline"><a class="l_k" href="functions/split.html">split</a></code>'s first argument is more consistently interpreted</h2>
<p>After some changes earlier in v5.17, <code class="inline"><a class="l_k" href="functions/split.html">split</a></code>'s behavior has been
simplified: if the PATTERN argument evaluates to a string
containing one space, it is treated the way that a <i>literal</i> string
containing one space once was.</p>
<a name="Deprecations"></a><h1>Deprecations</h1>
<a name="Module-removals"></a><h2>Module removals</h2>
<p>The following modules will be removed from the core distribution in a future
release, and will at that time need to be installed from CPAN. Distributions
on CPAN which require these modules will need to list them as prerequisites.</p>
<p>The core versions of these modules will now issue <code class="inline"><span class="q">&quot;deprecated&quot;</span></code>
-category
warnings to alert you to this fact. To silence these deprecation warnings,
install the modules in question from CPAN.</p>
<p>Note that these are (with rare exceptions) fine modules that you are encouraged
to continue to use. Their disinclusion from core primarily hinges on their
necessity to bootstrapping a fully functional, CPAN-capable Perl installation,
not usually on concerns over their design.</p>
<ul>
<li><a name="the-encoding-manpage"></a><b><a href="encoding.html">encoding</a></b>
<p>The use of this pragma is now strongly discouraged. It conflates the encoding
of source text with the encoding of I/O data, reinterprets escape sequences in
source text (a questionable choice), and introduces the UTF-8 bug to all runtime
handling of character strings. It is broken as designed and beyond repair.</p>
<p>For using non-ASCII literal characters in source text, please refer to <a href="utf8.html">utf8</a>.
For dealing with textual I/O data, please refer to <a href="Encode.html">Encode</a> and <a href="open.html">open</a>.</p>
</li>
<li><a name="the-Archive%3a%3aExtract-manpage"></a><b><a href="http://search.cpan.org/perldoc/Archive::Extract">Archive::Extract</a></b>
</li>
<li><a name="the-B%3a%3aLint-manpage"></a><b><a href="http://search.cpan.org/perldoc/B::Lint">B::Lint</a></b>
</li>
<li><a name="the-B%3a%3aLint%3a%3aDebug-manpage"></a><b><a href="http://search.cpan.org/perldoc/B::Lint::Debug">B::Lint::Debug</a></b>
</li>
<li><a name="the-CPANPLUS-manpage-and-all-included-CPANPLUS%3a%3a*-modules"></a><b><a href="http://search.cpan.org/perldoc/CPANPLUS">CPANPLUS</a> and all included <code class="inline"><span class="w">CPANPLUS::</span>*</code>
 modules</b>
</li>
<li><a name="the-Devel%3a%3aInnerPackage-manpage"></a><b><a href="http://search.cpan.org/perldoc/Devel::InnerPackage">Devel::InnerPackage</a></b>
</li>
<li><a name="the-Log%3a%3aMessage-manpage"></a><b><a href="http://search.cpan.org/perldoc/Log::Message">Log::Message</a></b>
</li>
<li><a name="the-Log%3a%3aMessage%3a%3aConfig-manpage"></a><b><a href="http://search.cpan.org/perldoc/Log::Message::Config">Log::Message::Config</a></b>
</li>
<li><a name="the-Log%3a%3aMessage%3a%3aHandlers-manpage"></a><b><a href="http://search.cpan.org/perldoc/Log::Message::Handlers">Log::Message::Handlers</a></b>
</li>
<li><a name="the-Log%3a%3aMessage%3a%3aItem-manpage"></a><b><a href="http://search.cpan.org/perldoc/Log::Message::Item">Log::Message::Item</a></b>
</li>
<li><a name="the-Log%3a%3aMessage%3a%3aSimple-manpage"></a><b><a href="http://search.cpan.org/perldoc/Log::Message::Simple">Log::Message::Simple</a></b>
</li>
<li><a name="the-Module%3a%3aPluggable-manpage"></a><b><a href="http://search.cpan.org/perldoc/Module::Pluggable">Module::Pluggable</a></b>
</li>
<li><a name="the-Module%3a%3aPluggable%3a%3aObject-manpage"></a><b><a href="http://search.cpan.org/perldoc/Module::Pluggable::Object">Module::Pluggable::Object</a></b>
</li>
<li><a name="the-Object%3a%3aAccessor-manpage"></a><b><a href="http://search.cpan.org/perldoc/Object::Accessor">Object::Accessor</a></b>
</li>
<li><a name="the-Pod%3a%3aLaTeX-manpage"></a><b><a href="http://search.cpan.org/perldoc/Pod::LaTeX">Pod::LaTeX</a></b>
</li>
<li><a name="the-Term%3a%3aUI-manpage"></a><b><a href="http://search.cpan.org/perldoc/Term::UI">Term::UI</a></b>
</li>
<li><a name="the-Term%3a%3aUI%3a%3aHistory-manpage"></a><b><a href="http://search.cpan.org/perldoc/Term::UI::History">Term::UI::History</a></b>
</li>
</ul>
<a name="Deprecated-Utilities"></a><h2>Deprecated Utilities</h2>
<p>The following utilities will be removed from the core distribution in a
future release as their associated modules have been deprecated. They
will remain available with the applicable CPAN distribution.</p>
<ul>
<li><a name="the-cpanp-manpage"></a><b><a href="http://search.cpan.org/perldoc/cpanp">cpanp</a></b>
</li>
<li><a name="cpanp-run-perl"></a><b><code class="inline"><span class="w">cpanp</span>-<span class="w">run</span>-<span class="w">perl</span></code>
</b>
</li>
<li><a name="the-cpan2dist-manpage"></a><b><a href="http://search.cpan.org/perldoc/cpan2dist">cpan2dist</a></b>
<p>These items are part of the <code class="inline"><span class="w">CPANPLUS</span></code>
 distribution.</p>
</li>
<li><a name="the-pod2latex-manpage"></a><b><a href="http://search.cpan.org/perldoc/pod2latex">pod2latex</a></b>
<p>This item is part of the <code class="inline"><span class="w">Pod::LaTeX</span></code>
 distribution.</p>
</li>
</ul>
<a name="PL_sv_objcount"></a><h2>PL_sv_objcount</h2>
<p>This interpreter-global variable used to track the total number of
Perl objects in the interpreter. It is no longer maintained and will
be removed altogether in Perl v5.20.</p>
<a name="Five-additional-characters-should-be-escaped-in-patterns-with-%2fx"></a><h2>Five additional characters should be escaped in patterns with <code class="inline">/x</code></h2>
<p>When a regular expression pattern is compiled with <code class="inline">/x</code>, Perl treats 6
characters as white space to ignore, such as SPACE and TAB.  However,
Unicode recommends 11 characters be treated thusly.  We will conform
with this in a future Perl version.  In the meantime, use of any of the
missing characters will raise a deprecation warning, unless turned off.
The five characters are:</p>
<pre class="verbatim"><ol><li>    <span class="w">U</span>+<span class="n">0085</span> <span class="w">NEXT</span> <span class="w">LINE</span></li><li>    <span class="w">U</span>+<span class="n">200</span><span class="w">E</span> <span class="w">LEFT</span>-<span class="w">TO</span>-<span class="w">RIGHT</span> <span class="w">MARK</span></li><li>    <span class="w">U</span>+<span class="n">200</span><span class="w">F</span> <span class="w">RIGHT</span>-<span class="w">TO</span>-<span class="w">LEFT</span> <span class="w">MARK</span></li><li>    <span class="w">U</span>+<span class="n">2028</span> <span class="w">LINE</span> <span class="w">SEPARATOR</span></li><li>    <span class="w">U</span>+<span class="n">2029</span> <span class="w">PARAGRAPH</span> <span class="w">SEPARATOR</span></li></ol></pre><a name="User-defined-charnames-with-surprising-whitespace"></a><h2>User-defined charnames with surprising whitespace</h2>
<p>A user-defined character name with trailing or multiple spaces in a row is
likely a typo.  This now generates a warning when defined, on the assumption
that uses of it will be unlikely to include the excess whitespace.</p>
<a name="Various-XS-callable-functions-are-now-deprecated"></a><h2>Various XS-callable functions are now deprecated</h2>
<p>All the functions used to classify characters will be removed from a
future version of Perl, and should not be used.  With participating C
compilers (e.g., gcc), compiling any file that uses any of these will
generate a warning.  These were not intended for public use; there are
equivalent, faster, macros for most of them.</p>
<p>See <a href="perlapi.html#Character-classes">Character classes in perlapi</a>.  The complete list is:</p>
<p><code class="inline"><span class="w">is_uni_alnum</span></code>
, <code class="inline"><span class="w">is_uni_alnumc</span></code>
, <code class="inline"><span class="w">is_uni_alnumc_lc</span></code>
,
<code class="inline"><span class="w">is_uni_alnum_lc</span></code>
, <code class="inline"><span class="w">is_uni_alpha</span></code>
, <code class="inline"><span class="w">is_uni_alpha_lc</span></code>
,
<code class="inline"><span class="w">is_uni_ascii</span></code>
, <code class="inline"><span class="w">is_uni_ascii_lc</span></code>
, <code class="inline"><span class="w">is_uni_blank</span></code>
,
<code class="inline"><span class="w">is_uni_blank_lc</span></code>
, <code class="inline"><span class="w">is_uni_cntrl</span></code>
, <code class="inline"><span class="w">is_uni_cntrl_lc</span></code>
,
<code class="inline"><span class="w">is_uni_digit</span></code>
, <code class="inline"><span class="w">is_uni_digit_lc</span></code>
, <code class="inline"><span class="w">is_uni_graph</span></code>
,
<code class="inline"><span class="w">is_uni_graph_lc</span></code>
, <code class="inline"><span class="w">is_uni_idfirst</span></code>
, <code class="inline"><span class="w">is_uni_idfirst_lc</span></code>
,
<code class="inline"><span class="w">is_uni_lower</span></code>
, <code class="inline"><span class="w">is_uni_lower_lc</span></code>
, <code class="inline"><span class="w">is_uni_print</span></code>
,
<code class="inline"><span class="w">is_uni_print_lc</span></code>
, <code class="inline"><span class="w">is_uni_punct</span></code>
, <code class="inline"><span class="w">is_uni_punct_lc</span></code>
,
<code class="inline"><span class="w">is_uni_space</span></code>
, <code class="inline"><span class="w">is_uni_space_lc</span></code>
, <code class="inline"><span class="w">is_uni_upper</span></code>
,
<code class="inline"><span class="w">is_uni_upper_lc</span></code>
, <code class="inline"><span class="w">is_uni_xdigit</span></code>
, <code class="inline"><span class="w">is_uni_xdigit_lc</span></code>
,
<code class="inline"><span class="w">is_utf8_alnum</span></code>
, <code class="inline"><span class="w">is_utf8_alnumc</span></code>
, <code class="inline"><span class="w">is_utf8_alpha</span></code>
,
<code class="inline"><span class="w">is_utf8_ascii</span></code>
, <code class="inline"><span class="w">is_utf8_blank</span></code>
, <code class="inline"><span class="w">is_utf8_char</span></code>
,
<code class="inline"><span class="w">is_utf8_cntrl</span></code>
, <code class="inline"><span class="w">is_utf8_digit</span></code>
, <code class="inline"><span class="w">is_utf8_graph</span></code>
,
<code class="inline"><span class="w">is_utf8_idcont</span></code>
, <code class="inline"><span class="w">is_utf8_idfirst</span></code>
, <code class="inline"><span class="w">is_utf8_lower</span></code>
,
<code class="inline"><span class="w">is_utf8_mark</span></code>
, <code class="inline"><span class="w">is_utf8_perl_space</span></code>
, <code class="inline"><span class="w">is_utf8_perl_word</span></code>
,
<code class="inline"><span class="w">is_utf8_posix_digit</span></code>
, <code class="inline"><span class="w">is_utf8_print</span></code>
, <code class="inline"><span class="w">is_utf8_punct</span></code>
,
<code class="inline"><span class="w">is_utf8_space</span></code>
, <code class="inline"><span class="w">is_utf8_upper</span></code>
, <code class="inline"><span class="w">is_utf8_xdigit</span></code>
,
<code class="inline"><span class="w">is_utf8_xidcont</span></code>
, <code class="inline"><span class="w">is_utf8_xidfirst</span></code>
.</p>
<p>In addition these three functions that have never worked properly are
deprecated:
<code class="inline"><span class="w">to_uni_lower_lc</span></code>
, <code class="inline"><span class="w">to_uni_title_lc</span></code>
, and <code class="inline"><span class="w">to_uni_upper_lc</span></code>
.</p>
<a name="Certain-rare-uses-of-backslashes-within-regexes-are-now-deprecated"></a><h2>Certain rare uses of backslashes within regexes are now deprecated</h2>
<p>There are three pairs of characters that Perl recognizes as
metacharacters in regular expression patterns: <code class="inline"><span class="s">{</span><span class="s">}</span></code>
, <code class="inline"><span class="s">[</span><span class="s">]</span></code>
, and <code class="inline"><span class="s">(</span><span class="s">)</span></code>
.
These can be used as well to delimit patterns, as in:</p>
<pre class="verbatim"><ol><li>  <span class="q">m{foo}</span></li><li>  <span class="q">s(foo)(bar)</span></li></ol></pre><p>Since they are metacharacters, they have special meaning to regular
expression patterns, and it turns out that you can't turn off that
special meaning by the normal means of preceding them with a backslash,
if you use them, paired, within a pattern delimited by them.  For
example, in</p>
<pre class="verbatim"><ol><li>  <span class="q">m{foo\{1,3\}}</span></li></ol></pre><p>the backslashes do not change the behavior, and this matches
<code class="inline"><span class="q">&quot;f o&quot;</span></code>
 followed by one to three more occurrences of <code class="inline"><span class="q">&quot;o&quot;</span></code>
.</p>
<p>Usages like this, where they are interpreted as metacharacters, are
exceedingly rare; we think there are none, for example, in all of CPAN.
Hence, this deprecation should affect very little code.  It does give
notice, however, that any such code needs to change, which will in turn
allow us to change the behavior in future Perl versions so that the
backslashes do have an effect, and without fear that we are silently
breaking any existing code.</p>
<a name="Splitting-the-tokens-(%3f-and-(*-in-regular-expressions"></a><h2>Splitting the tokens <code class="inline"><span class="s">(</span><span class="q">?</span></code>
 and <code class="inline"><span class="s">(</span><span class="i">*</span></code>
 in regular expressions</h2>
<p>A deprecation warning is now raised if the <code class="inline">(</code> and <code class="inline">?</code> are separated
by white space or comments in <code class="inline">(?...)</code> regular expression constructs.
Similarly, if the <code class="inline">(</code> and <code class="inline"><span class="i">*</span></code>
 are separated in <code class="inline"><span class="s">(</span><span class="i">*VERB</span>...<span class="s">)</span></code>

constructs.</p>
<a name="Pre-PerlIO-IO-implementations"></a><h2>Pre-PerlIO IO implementations</h2>
<p>In theory, you can currently build perl without PerlIO.  Instead, you'd use a
wrapper around stdio or sfio.  In practice, this isn't very useful.  It's not
well tested, and without any support for IO layers or (thus) Unicode, it's not
much of a perl.  Building without PerlIO will most likely be removed in the
next version of perl.</p>
<p>PerlIO supports a <code class="inline"><span class="w">stdio</span></code>
 layer if stdio use is desired.  Similarly a
sfio layer could be produced in the future, if needed.</p>
<a name="Future-Deprecations"></a><h1>Future Deprecations</h1>
<ul>
<li>
<p>Platforms without support infrastructure</p>
<p>Both Windows CE and z/OS have been historically under-maintained, and are
currently neither successfully building nor regularly being smoke tested.
Efforts are underway to change this situation, but it should not be taken for
granted that the platforms are safe and supported.  If they do not become
buildable and regularly smoked, support for them may be actively removed in
future releases.  If you have an interest in these platforms and you can lend
your time, expertise, or hardware to help support these platforms, please let
the perl development effort know by emailing <code class="inline"><span class="w">perl5</span>-<span class="w">porters</span><span class="i">@perl</span>.<span class="w">org</span></code>
.</p>
<p>Some platforms that appear otherwise entirely dead are also on the short list
for removal between now and v5.20.0:</p>
<ul>
<li><a name="DG%2fUX"></a><b>DG/UX</b>
</li>
<li><a name="NeXT"></a><b>NeXT</b>
</li>
</ul>
<p>We also think it likely that current versions of Perl will no longer
build AmigaOS, DJGPP, NetWare (natively), OS/2 and Plan 9. If you
are using Perl on such a platform and have an interest in ensuring
Perl's future on them, please contact us.</p>
<p>We believe that Perl has long been unable to build on mixed endian
architectures (such as PDP-11s), and intend to remove any remaining
support code. Similarly, code supporting the long umaintained GNU
dld will be removed soon if no-one makes themselves known as an
active user.</p>
</li>
<li>
<p>Swapping of $&lt; and $&gt;</p>
<p>Perl has supported the idiom of swapping $&lt; and $&gt; (and likewise $( and
$)) to temporarily drop permissions since 5.0, like this:</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span><span class="i">$&lt;</span><span class="cm">,</span> <span class="i">$&gt;</span><span class="s">)</span> = <span class="s">(</span><span class="i">$&gt;</span><span class="cm">,</span> <span class="i">$&lt;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>However, this idiom modifies the real user/group id, which can have
undesirable side-effects, is no longer useful on any platform perl
supports and complicates the implementation of these variables and list
assignment in general.</p>
<p>As an alternative, assignment only to <code class="inline"><span class="i">$&gt;</span></code>
 is recommended:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/local.html">local</a> <span class="i">$&gt;</span> = <span class="i">$&lt;</span><span class="sc">;</span></li></ol></pre><p>See also: <a href="http://search.cpan.org/perldoc/http:#%2fwww.cs.berkeley.edu%2f~daw%2fpapers%2fsetuid-usenix02.pdf">Setuid Demystified</a>.</p>
</li>
<li>
<p><code class="inline"><span class="w">microperl</span></code>
, long broken and of unclear present purpose, will be removed.</p>
</li>
<li>
<p>Revamping <code class="inline"><span class="q">&quot;\Q&quot;</span></code>
 semantics in double-quotish strings when combined with
other escapes.</p>
<p>There are several bugs and inconsistencies involving combinations
of <code class="inline">\<span class="w">Q</span></code>
 and escapes like <code class="inline">\<span class="w">x</span></code>
, <code class="inline">\<span class="w">L</span></code>
, etc., within a <code class="inline">\<span class="w">Q</span>...\<span class="w">E</span></code>
 pair.
These need to be fixed, and doing so will necessarily change current
behavior.  The changes have not yet been settled.</p>
</li>
<li>
<p>Use of <code class="inline"><span class="i">$x</span></code>
, where <code class="inline"><span class="w">x</span></code>
 stands for any actual (non-printing) C0 control
character will be disallowed in a future Perl version.  Use <code class="inline"><span class="i">$</span>{<span class="w">x</span>}</code>

instead (where again <code class="inline"><span class="w">x</span></code>
 stands for a control character),
or better, <code class="inline"><span class="i">$^A</span></code>
 , where <code class="inline">^</code> is a caret (CIRCUMFLEX ACCENT),
and <code class="inline"><span class="w">A</span></code>
 stands for any of the characters listed at the end of
<a href="perlebcdic.html#OPERATOR-DIFFERENCES">OPERATOR DIFFERENCES in perlebcdic</a>.</p>
</li>
</ul>
<a name="Performance-Enhancements"></a><h1>Performance Enhancements</h1>
<ul>
<li>
<p>Lists of lexical variable declarations (<code class="inline"><a class="l_k" href="functions/my.html">my</a><span class="s">(</span><span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span><span class="s">)</span></code>
) are now optimised
down to a single op and are hence faster than before.</p>
</li>
<li>
<p>A new C preprocessor define <code class="inline"><span class="w">NO_TAINT_SUPPORT</span></code>
 was added that, if set,
disables Perl's taint support altogether.  Using the -T or -t command
line flags will cause a fatal error.  Beware that both core tests as
well as many a CPAN distribution's tests will fail with this change.  On
the upside, it provides a small performance benefit due to reduced
branching.</p>
<p><b>Do not enable this unless you know exactly what you are getting yourself
into.</b></p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/pack.html">pack</a></code> with constant arguments is now constant folded in most cases
[perl #113470].</p>
</li>
<li>
<p>Speed up in regular expression matching against Unicode properties.  The
largest gain is for <code class="inline">\<span class="w">X</span></code>
, the Unicode "extended grapheme cluster."  The
gain for it is about 35% - 40%.  Bracketed character classes, e.g.,
<code class="inline"><span class="s">[</span><span class="n">0</span>-<span class="n">9</span>\<span class="i">x</span><span class="s">{</span><span class="n">100</span><span class="s">}</span><span class="s">]</span></code>
 containing code points above 255 are also now faster.</p>
</li>
<li>
<p>On platforms supporting it, several former macros are now implemented as static
inline functions. This should speed things up slightly on non-GCC platforms.</p>
</li>
<li>
<p>The optimisation of hashes in boolean context has been extended to
affect <code class="inline"><a class="l_k" href="functions/scalar.html">scalar(%hash)</a></code>, <code class="inline"><span class="i">%hash</span> ? ... <span class="co">:</span> ...</code>
, and <code class="inline"><a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <span class="i">%hash</span> || ... <span class="s">}</span></code>
.</p>
</li>
<li>
<p>Filetest operators manage the stack in a fractionally more efficient manner.</p>
</li>
<li>
<p>Globs used in a numeric context are now numified directly in most cases,
rather than being numified via stringification.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">x</span></code>
 repetition operator is now folded to a single constant at compile
time if called in scalar context with constant operands and no parentheses
around the left operand.</p>
</li>
</ul>
<a name="Modules-and-Pragmata"></a><h1>Modules and Pragmata</h1>
<a name="New-Modules-and-Pragmata"></a><h2>New Modules and Pragmata</h2>
<ul>
<li>
<p><a href="Config/Perl/V.html">Config::Perl::V</a> version 0.16 has been added as a dual-lifed module.
It provides structured data retrieval of <code class="inline"><span class="w">perl</span> -<span class="w">V</span></code>
 output including
information only known to the <code class="inline"><span class="w">perl</span></code>
 binary and not available via <a href="Config.html">Config</a>.</p>
</li>
</ul>
<a name="Updated-Modules-and-Pragmata"></a><h2>Updated Modules and Pragmata</h2>
<p>For a complete list of updates, run:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ corelist</span> --<span class="w">diff</span> <span class="v">5.16.0</span> <span class="v">5.18.0</span></li></ol></pre><p>You can substitute your favorite version in place of <code class="inline"><span class="v">5.16.0</span></code>
, too.</p>
<ul>
<li>
<p><a href="http://search.cpan.org/perldoc/Archive::Extract">Archive::Extract</a> has been upgraded to 0.68.</p>
<p>Work around an edge case on Linux with Busybox's unzip.</p>
</li>
<li>
<p><a href="Archive/Tar.html">Archive::Tar</a> has been upgraded to 1.90.</p>
<p>ptar now supports the -T option as well as dashless options
[rt.cpan.org #75473], [rt.cpan.org #75475].</p>
<p>Auto-encode filenames marked as UTF-8 [rt.cpan.org #75474].</p>
<p>Don't use <code class="inline"><a class="l_k" href="functions/tell.html">tell</a></code> on <a href="IO/Zlib.html">IO::Zlib</a> handles [rt.cpan.org #64339].</p>
<p>Don't try to <code class="inline"><a class="l_k" href="functions/chown.html">chown</a></code> on symlinks.</p>
</li>
<li>
<p><a href="autodie.html">autodie</a> has been upgraded to 2.13.</p>
<p><code class="inline"><span class="w">autodie</span></code>
 now plays nicely with the 'open' pragma.</p>
</li>
<li>
<p><a href="B.html">B</a> has been upgraded to 1.42.</p>
<p>The <code class="inline"><span class="w">stashoff</span></code>
 method of COPs has been added.   This provides access to an
internal field added in perl 5.16 under threaded builds [perl #113034].</p>
<p><code class="inline"><span class="w">B::COP::stashpv</span></code>
 now supports UTF-8 package names and embedded NULs.</p>
<p>All <code class="inline"><span class="w">CVf_</span>*</code>
 and <code class="inline"><span class="w">GVf_</span>*</code>

and more SV-related flag values are now provided as constants in the <code class="inline"><span class="w">B::</span></code>

namespace and available for export.  The default export list has not changed.</p>
<p>This makes the module work with the new pad API.</p>
</li>
<li>
<p><a href="B/Concise.html">B::Concise</a> has been upgraded to 0.95.</p>
<p>The <code class="inline">-<span class="w">nobanner</span></code>
 option has been fixed, and <code class="inline"><a class="l_k" href="functions/format.html">format</a></code>s can now be dumped.
When passed a sub name to dump, it will check also to see whether it
is the name of a format.  If a sub and a format share the same name,
it will dump both.</p>
<p>This adds support for the new <code class="inline"><span class="w">OpMAYBE_TRUEBOOL</span></code>
 and <code class="inline"><span class="w">OPpTRUEBOOL</span></code>
 flags.</p>
</li>
<li>
<p><a href="B/Debug.html">B::Debug</a> has been upgraded to 1.18.</p>
<p>This adds support (experimentally) for <code class="inline"><span class="w">B::PADLIST</span></code>
, which was
added in Perl 5.17.4.</p>
</li>
<li>
<p><a href="B/Deparse.html">B::Deparse</a> has been upgraded to 1.20.</p>
<p>Avoid warning when run under <code class="inline"><span class="w">perl</span> -w</code>
.</p>
<p>It now deparses
loop controls with the correct precedence, and multiple statements in a
<code class="inline"><a class="l_k" href="functions/format.html">format</a></code> line are also now deparsed correctly.</p>
<p>This release suppresses trailing semicolons in formats.</p>
<p>This release adds stub deparsing for lexical subroutines.</p>
<p>It no longer dies when deparsing <code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code> without arguments.  It now
correctly omits the comma for <code class="inline"><a class="l_k" href="functions/system.html">system</a> <span class="i">$prog</span> <span class="i">@args</span></code>
 and <code class="inline"><a class="l_k" href="functions/exec.html">exec</a> <span class="i">$prog</span>
<span class="i">@args</span></code>
.</p>
</li>
<li>
<p><a href="bignum.html">bignum</a>, <a href="bigint.html">bigint</a> and <a href="bigrat.html">bigrat</a> have been upgraded to 0.33.</p>
<p>The overrides for <code class="inline"><a class="l_k" href="functions/hex.html">hex</a></code> and <code class="inline"><a class="l_k" href="functions/oct.html">oct</a></code> have been rewritten, eliminating
several problems, and making one incompatible change:</p>
<ul>
<li>
<p>Formerly, whichever of <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">bigint</span></code>
 or <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">bigrat</span></code>
 was compiled later
would take precedence over the other, causing <code class="inline"><a class="l_k" href="functions/hex.html">hex</a></code> and <code class="inline"><a class="l_k" href="functions/oct.html">oct</a></code> not to
respect the other pragma when in scope.</p>
</li>
<li>
<p>Using any of these three pragmata would cause <code class="inline"><a class="l_k" href="functions/hex.html">hex</a></code> and <code class="inline"><a class="l_k" href="functions/oct.html">oct</a></code> anywhere
else in the program to evaluate their arguments in list context and prevent
them from inferring $_ when called without arguments.</p>
</li>
<li>
<p>Using any of these three pragmata would make <code class="inline"><a class="l_k" href="functions/oct.html">oct("1234")</a></code> return 1234
(for any number not beginning with 0) anywhere in the program.  Now "1234"
is translated from octal to decimal, whether within the pragma's scope or
not.</p>
</li>
<li>
<p>The global overrides that facilitate lexical use of <code class="inline"><a class="l_k" href="functions/hex.html">hex</a></code> and <code class="inline"><a class="l_k" href="functions/oct.html">oct</a></code> now
respect any existing overrides that were in place before the new overrides
were installed, falling back to them outside of the scope of <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">bignum</span></code>
.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">bignum</span> <span class="q">&quot;hex&quot;</span></code>
, <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">bignum</span> <span class="q">&quot;oct&quot;</span></code>
 and similar invocations for bigint
and bigrat now export a <code class="inline"><a class="l_k" href="functions/hex.html">hex</a></code> or <code class="inline"><a class="l_k" href="functions/oct.html">oct</a></code> function, instead of providing a
global override.</p>
</li>
</ul>
</li>
<li>
<p><a href="Carp.html">Carp</a> has been upgraded to 1.29.</p>
<p>Carp is no longer confused when <code class="inline"><a class="l_k" href="functions/caller.html">caller</a></code> returns undef for a package that
has been deleted.</p>
<p>The <code class="inline"><span class="i">longmess</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">shortmess</span><span class="s">(</span><span class="s">)</span></code>
 functions are now documented.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/CGI">CGI</a> has been upgraded to 3.63.</p>
<p>Unrecognized HTML escape sequences are now handled better, problematic
trailing newlines are no longer inserted after &lt;form&gt; tags
by <code class="inline"><span class="i">startform</span><span class="s">(</span><span class="s">)</span></code>
 or <code class="inline"><span class="i">start_form</span><span class="s">(</span><span class="s">)</span></code>
, and bogus "Insecure Dependency"
warnings appearing with some versions of perl are now worked around.</p>
</li>
<li>
<p><a href="Class/Struct.html">Class::Struct</a> has been upgraded to 0.64.</p>
<p>The constructor now respects overridden accessor methods [perl #29230].</p>
</li>
<li>
<p><a href="Compress/Raw/Bzip2.html">Compress::Raw::Bzip2</a> has been upgraded to 2.060.</p>
<p>The misuse of Perl's "magic" API has been fixed.</p>
</li>
<li>
<p><a href="Compress/Raw/Zlib.html">Compress::Raw::Zlib</a> has been upgraded to 2.060.</p>
<p>Upgrade bundled zlib to version 1.2.7.</p>
<p>Fix build failures on Irix, Solaris, and Win32, and also when building as C++
[rt.cpan.org #69985], [rt.cpan.org #77030], [rt.cpan.org #75222].</p>
<p>The misuse of Perl's "magic" API has been fixed.</p>
<p><code class="inline"><span class="i">compress</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">uncompress</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">memGzip</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">memGunzip</span><span class="s">(</span><span class="s">)</span></code>
 have
been speeded up by making parameter validation more efficient.</p>
</li>
<li>
<p><a href="CPAN/Meta/Requirements.html">CPAN::Meta::Requirements</a> has been upgraded to 2.122.</p>
<p>Treat undef requirements to <code class="inline"><span class="w">from_string_hash</span></code>
 as 0 (with a warning).</p>
<p>Added <code class="inline"><span class="w">requirements_for_module</span></code>
 method.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/CPANPLUS">CPANPLUS</a> has been upgraded to 0.9135.</p>
<p>Allow adding <i>blib/script</i> to PATH.</p>
<p>Save the history between invocations of the shell.</p>
<p>Handle multiple <code class="inline"><span class="w">makemakerargs</span></code>
 and <code class="inline"><span class="w">makeflags</span></code>
 arguments better.</p>
<p>This resolves issues with the SQLite source engine.</p>
</li>
<li>
<p><a href="Data/Dumper.html">Data::Dumper</a> has been upgraded to 2.145.</p>
<p>It has been optimized to only build a seen-scalar hash as necessary,
thereby speeding up serialization drastically.</p>
<p>Additional tests were added in order to improve statement, branch, condition
and subroutine coverage.  On the basis of the coverage analysis, some of the
internals of Dumper.pm were refactored.  Almost all methods are now
documented.</p>
</li>
<li>
<p><a href="DB_File.html">DB_File</a> has been upgraded to 1.827.</p>
<p>The main Perl module no longer uses the <code class="inline"><span class="q">&quot;@_&quot;</span></code>
 construct.</p>
</li>
<li>
<p><a href="Devel/Peek.html">Devel::Peek</a> has been upgraded to 1.11.</p>
<p>This fixes compilation with C++ compilers and makes the module work with
the new pad API.</p>
</li>
<li>
<p><a href="Digest/MD5.html">Digest::MD5</a> has been upgraded to 2.52.</p>
<p>Fix <code class="inline"><span class="w">Digest::Perl::MD5</span></code>
 OO fallback [rt.cpan.org #66634].</p>
</li>
<li>
<p><a href="Digest/SHA.html">Digest::SHA</a> has been upgraded to 5.84.</p>
<p>This fixes a double-free bug, which might have caused vulnerabilities
in some cases.</p>
</li>
<li>
<p><a href="DynaLoader.html">DynaLoader</a> has been upgraded to 1.18.</p>
<p>This is due to a minor code change in the XS for the VMS implementation.</p>
<p>This fixes warnings about using <code class="inline"><span class="w">CODE</span></code>
 sections without an <code class="inline"><span class="w">OUTPUT</span></code>

section.</p>
</li>
<li>
<p><a href="Encode.html">Encode</a> has been upgraded to 2.49.</p>
<p>The Mac alias x-mac-ce has been added, and various bugs have been fixed
in Encode::Unicode, Encode::UTF7 and Encode::GSM0338.</p>
</li>
<li>
<p><a href="Env.html">Env</a> has been upgraded to 1.04.</p>
<p>Its SPLICE implementation no longer misbehaves in list context.</p>
</li>
<li>
<p><a href="ExtUtils/CBuilder.html">ExtUtils::CBuilder</a> has been upgraded to 0.280210.</p>
<p>Manifest files are now correctly embedded for those versions of VC++ which
make use of them. [perl #111782, #111798].</p>
<p>A list of symbols to export can now be passed to <code class="inline"><a class="l_k" href="functions/link.html">link()</a></code> when on
Windows, as on other OSes [perl #115100].</p>
</li>
<li>
<p><a href="ExtUtils/ParseXS.html">ExtUtils::ParseXS</a> has been upgraded to 3.18.</p>
<p>The generated C code now avoids unnecessarily incrementing
<code class="inline"><span class="w">PL_amagic_generation</span></code>
 on Perl versions where it's done automatically
(or on current Perl where the variable no longer exists).</p>
<p>This avoids a bogus warning for initialised XSUB non-parameters [perl
#112776].</p>
</li>
<li>
<p><a href="File/Copy.html">File::Copy</a> has been upgraded to 2.26.</p>
<p><code class="inline"><span class="i">copy</span><span class="s">(</span><span class="s">)</span></code>
 no longer zeros files when copying into the same directory,
and also now fails (as it has long been documented to do) when attempting
to copy a file over itself.</p>
</li>
<li>
<p><a href="File/DosGlob.html">File::DosGlob</a> has been upgraded to 1.10.</p>
<p>The internal cache of file names that it keeps for each caller is now
freed when that caller is freed.  This means
<code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">File::DosGlob</span> <span class="q">&#39;glob&#39;</span><span class="sc">;</span> <a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;scalar &lt;*&gt;&#39;</span></code>
 no longer leaks memory.</p>
</li>
<li>
<p><a href="File/Fetch.html">File::Fetch</a> has been upgraded to 0.38.</p>
<p>Added the 'file_default' option for URLs that do not have a file
component.</p>
<p>Use <code class="inline"><span class="w">File::HomeDir</span></code>
 when available, and provide <code class="inline"><span class="w">PERL5_CPANPLUS_HOME</span></code>
 to
override the autodetection.</p>
<p>Always re-fetch <i>CHECKSUMS</i> if <code class="inline"><span class="w">fetchdir</span></code>
 is set.</p>
</li>
<li>
<p><a href="File/Find.html">File::Find</a> has been upgraded to 1.23.</p>
<p>This fixes inconsistent unixy path handling on VMS.</p>
<p>Individual files may now appear in list of directories to be searched
[perl #59750].</p>
</li>
<li>
<p><a href="File/Glob.html">File::Glob</a> has been upgraded to 1.20.</p>
<p>File::Glob has had exactly the same fix as File::DosGlob.  Since it is
what Perl's own <code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code> operator itself uses (except on VMS), this means
<code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;scalar &lt;*&gt;&#39;</span></code>
 no longer leaks.</p>
<p>A space-separated list of patterns return long lists of results no longer
results in memory corruption or crashes.  This bug was introduced in
Perl 5.16.0.  [perl #114984]</p>
</li>
<li>
<p><a href="File/Spec/Unix.html">File::Spec::Unix</a> has been upgraded to 3.40.</p>
<p><code class="inline"><span class="w">abs2rel</span></code>
 could produce incorrect results when given two relative paths or
the root directory twice [perl #111510].</p>
</li>
<li>
<p><a href="File/stat.html">File::stat</a> has been upgraded to 1.07.</p>
<p><code class="inline"><span class="w">File::stat</span></code>
 ignores the <a href="filetest.html">filetest</a> pragma, and warns when used in
combination therewith.  But it was not warning for <code class="inline">-r</code>
.  This has been
fixed [perl #111640].</p>
<p><code class="inline">-p</code>
 now works, and does not return false for pipes [perl #111638].</p>
<p>Previously <code class="inline"><span class="w">File::stat</span></code>
's overloaded <code class="inline">-x</code>
 and <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code> operators did not give
the correct results for directories or executable files when running as
root. They had been treating executable permissions for root just like for
any other user, performing group membership tests <i>etc</i> for files not owned
by root. They now follow the correct Unix behaviour - for a directory they
are always true, and for a file if any of the three execute permission bits
are set then they report that root can execute the file. Perl's builtin
<code class="inline">-x</code>
 and <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code> operators have always been correct.</p>
</li>
<li>
<p><a href="File/Temp.html">File::Temp</a> has been upgraded to 0.23</p>
<p>Fixes various bugs involving directory removal.  Defers unlinking tempfiles if
the initial unlink fails, which fixes problems on NFS.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/GDBM_File">GDBM_File</a> has been upgraded to 1.15.</p>
<p>The undocumented optional fifth parameter to <code class="inline"><span class="w">TIEHASH</span></code>
 has been
removed. This was intended to provide control of the callback used by
<code class="inline"><span class="w">gdbm</span>*</code>
 functions in case of fatal errors (such as filesystem problems),
but did not work (and could never have worked). No code on CPAN even
attempted to use it. The callback is now always the previous default,
<code class="inline"><span class="w">croak</span></code>
. Problems on some platforms with how the <code class="inline"><span class="w">C</span></code>
 <code class="inline"><span class="w">croak</span></code>
 function
is called have also been resolved.</p>
</li>
<li>
<p><a href="Hash/Util.html">Hash::Util</a> has been upgraded to 0.15.</p>
<p><code class="inline"><span class="w">hash_unlocked</span></code>
 and <code class="inline"><span class="w">hashref_unlocked</span></code>
 now returns true if the hash is
unlocked, instead of always returning false [perl #112126].</p>
<p><code class="inline"><span class="w">hash_unlocked</span></code>
, <code class="inline"><span class="w">hashref_unlocked</span></code>
, <code class="inline"><span class="w">lock_hash_recurse</span></code>
 and
<code class="inline"><span class="w">unlock_hash_recurse</span></code>
 are now exportable [perl #112126].</p>
<p>Two new functions, <code class="inline"><span class="w">hash_locked</span></code>
 and <code class="inline"><span class="w">hashref_locked</span></code>
, have been added.
Oddly enough, these two functions were already exported, even though they
did not exist [perl #112126].</p>
</li>
<li>
<p><a href="HTTP/Tiny.html">HTTP::Tiny</a> has been upgraded to 0.025.</p>
<p>Add SSL verification features [github #6], [github #9].</p>
<p>Include the final URL in the response hashref.</p>
<p>Add <code class="inline"><span class="w">local_address</span></code>
 option.</p>
<p>This improves SSL support.</p>
</li>
<li>
<p><a href="IO.html">IO</a> has been upgraded to 1.28.</p>
<p><code class="inline"><span class="i">sync</span><span class="s">(</span><span class="s">)</span></code>
 can now be called on read-only file handles [perl #64772].</p>
<p><a href="IO/Socket.html">IO::Socket</a> tries harder to cache or otherwise fetch socket
information.</p>
</li>
<li>
<p><a href="IPC/Cmd.html">IPC::Cmd</a> has been upgraded to 0.80.</p>
<p>Use <code class="inline"><span class="w">POSIX::_exit</span></code>
 instead of <code class="inline"><a class="l_k" href="functions/exit.html">exit</a></code> in <code class="inline"><span class="w">run_forked</span></code>
 [rt.cpan.org #76901].</p>
</li>
<li>
<p><a href="IPC/Open3.html">IPC::Open3</a> has been upgraded to 1.13.</p>
<p>The <code class="inline"><span class="i">open3</span><span class="s">(</span><span class="s">)</span></code>
 function no longer uses <code class="inline"><span class="i">POSIX::close</span><span class="s">(</span><span class="s">)</span></code>
 to close file
descriptors since that breaks the ref-counting of file descriptors done by
PerlIO in cases where the file descriptors are shared by PerlIO streams,
leading to attempts to close the file descriptors a second time when
any such PerlIO streams are closed later on.</p>
</li>
<li>
<p><a href="Locale/Codes.html">Locale::Codes</a> has been upgraded to 3.25.</p>
<p>It includes some new codes.</p>
</li>
<li>
<p><a href="Memoize.html">Memoize</a> has been upgraded to 1.03.</p>
<p>Fix the <code class="inline"><span class="w">MERGE</span></code>
 cache option.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/Module::Build">Module::Build</a> has been upgraded to 0.4003.</p>
<p>Fixed bug where modules without <code class="inline"><span class="i">$VERSION</span></code>
 might have a version of '0' listed
in 'provides' metadata, which will be rejected by PAUSE.</p>
<p>Fixed bug in PodParser to allow numerals in module names.</p>
<p>Fixed bug where giving arguments twice led to them becoming arrays, resulting
in install paths like <i>ARRAY(0xdeadbeef)/lib/Foo.pm</i>.</p>
<p>A minor bug fix allows markup to be used around the leading "Name" in
a POD "abstract" line, and some documentation improvements have been made.</p>
</li>
<li>
<p><a href="Module/CoreList.html">Module::CoreList</a> has been upgraded to 2.90</p>
<p>Version information is now stored as a delta, which greatly reduces the
size of the <i>CoreList.pm</i> file.</p>
<p>This restores compatibility with older versions of perl and cleans up
the corelist data for various modules.</p>
</li>
<li>
<p><a href="Module/Load/Conditional.html">Module::Load::Conditional</a> has been upgraded to 0.54.</p>
<p>Fix use of <code class="inline"><span class="w">requires</span></code>
 on perls installed to a path with spaces.</p>
<p>Various enhancements include the new use of Module::Metadata.</p>
</li>
<li>
<p><a href="Module/Metadata.html">Module::Metadata</a> has been upgraded to 1.000011.</p>
<p>The creation of a Module::Metadata object for a typical module file has
been sped up by about 40%, and some spurious warnings about <code class="inline"><span class="i">$VERSION</span></code>
s
have been suppressed.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/Module::Pluggable">Module::Pluggable</a> has been upgraded to 4.7.</p>
<p>Amongst other changes, triggers are now allowed on events, which gives
a powerful way to modify behaviour.</p>
</li>
<li>
<p><a href="Net/Ping.html">Net::Ping</a> has been upgraded to 2.41.</p>
<p>This fixes some test failures on Windows.</p>
</li>
<li>
<p><a href="Opcode.html">Opcode</a> has been upgraded to 1.25.</p>
<p>Reflect the removal of the boolkeys opcode and the addition of the
clonecv, introcv and padcv opcodes.</p>
</li>
<li>
<p><a href="overload.html">overload</a> has been upgraded to 1.22.</p>
<p><code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">overload</span></code>
 now warns for invalid arguments, just like <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">overload</span></code>
.</p>
</li>
<li>
<p><a href="PerlIO/encoding.html">PerlIO::encoding</a> has been upgraded to 0.16.</p>
<p>This is the module implementing the ":encoding(...)" I/O layer.  It no
longer corrupts memory or crashes when the encoding back-end reallocates
the buffer or gives it a typeglob or shared hash key scalar.</p>
</li>
<li>
<p><a href="PerlIO/scalar.html">PerlIO::scalar</a> has been upgraded to 0.16.</p>
<p>The buffer scalar supplied may now only contain code points 0xFF or
lower. [perl #109828]</p>
</li>
<li>
<p><a href="Perl/OSType.html">Perl::OSType</a> has been upgraded to 1.003.</p>
<p>This fixes a bug detecting the VOS operating system.</p>
</li>
<li>
<p><a href="Pod/Html.html">Pod::Html</a> has been upgraded to 1.18.</p>
<p>The option <code class="inline">--<span class="w">libpods</span></code>
 has been reinstated. It is deprecated, and its use
does nothing other than issue a warning that it is no longer supported.</p>
<p>Since the HTML files generated by pod2html claim to have a UTF-8 charset,
actually write the files out using UTF-8 [perl #111446].</p>
</li>
<li>
<p><a href="Pod/Simple.html">Pod::Simple</a> has been upgraded to 3.28.</p>
<p>Numerous improvements have been made, mostly to Pod::Simple::XHTML,
which also has a compatibility change: the <code class="inline"><span class="w">codes_in_verbatim</span></code>
 option
is now disabled by default.  See <i>cpan/Pod-Simple/ChangeLog</i> for the
full details.</p>
</li>
<li>
<p><a href="re.html">re</a> has been upgraded to 0.23</p>
<p>Single character [class]es like <code class="inline"><span class="q">/[s]/</span></code>
 or <code class="inline"><span class="q">/[s]/i</span></code>
 are now optimized
as if they did not have the brackets, i.e. <code class="inline"><span class="q">/s/</span></code>
 or <code class="inline"><span class="q">/s/i</span></code>
.</p>
<p>See note about <code class="inline"><span class="w">op_comp</span></code>
 in the <a href="#Internal-Changes">Internal Changes</a> section below.</p>
</li>
<li>
<p><a href="Safe.html">Safe</a> has been upgraded to 2.35.</p>
<p>Fix interactions with <code class="inline"><span class="w">Devel::Cover</span></code>
.</p>
<p>Don't eval code under <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">strict</span></code>
.</p>
</li>
<li>
<p><a href="Scalar/Util.html">Scalar::Util</a> has been upgraded to version 1.27.</p>
<p>Fix an overloading issue with <code class="inline"><span class="w">sum</span></code>
.</p>
<p><code class="inline"><span class="w">first</span></code>
 and <code class="inline"><span class="w">reduce</span></code>
 now check the callback first (so <code class="inline"><span class="i">&amp;first</span><span class="s">(</span><span class="n">1</span><span class="s">)</span></code>
 is
disallowed).</p>
<p>Fix <code class="inline"><span class="w">tainted</span></code>
 on magical values [rt.cpan.org #55763].</p>
<p>Fix <code class="inline"><span class="w">sum</span></code>
 on previously magical values [rt.cpan.org #61118].</p>
<p>Fix reading past the end of a fixed buffer [rt.cpan.org #72700].</p>
</li>
<li>
<p><a href="Search/Dict.html">Search::Dict</a> has been upgraded to 1.07.</p>
<p>No longer require <code class="inline"><a class="l_k" href="functions/stat.html">stat</a></code> on filehandles.</p>
<p>Use <code class="inline"><a class="l_k" href="functions/fc.html">fc</a></code> for casefolding.</p>
</li>
<li>
<p><a href="Socket.html">Socket</a> has been upgraded to 2.009.</p>
<p>Constants and functions required for IP multicast source group membership
have been added.</p>
<p><code class="inline"><span class="i">unpack_sockaddr_in</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">unpack_sockaddr_in6</span><span class="s">(</span><span class="s">)</span></code>
 now return just the IP
address in scalar context, and <code class="inline"><span class="i">inet_ntop</span><span class="s">(</span><span class="s">)</span></code>
 now guards against incorrect
length scalars being passed in.</p>
<p>This fixes an uninitialized memory read.</p>
</li>
<li>
<p><a href="Storable.html">Storable</a> has been upgraded to 2.41.</p>
<p>Modifying <code class="inline"><span class="i">$_</span>[<span class="n">0</span>]</code>
 within <code class="inline"><span class="w">STORABLE_freeze</span></code>
 no longer results in crashes
[perl #112358].</p>
<p>An object whose class implements <code class="inline"><span class="w">STORABLE_attach</span></code>
 is now thawed only once
when there are multiple references to it in the structure being thawed
[perl #111918].</p>
<p>Restricted hashes were not always thawed correctly [perl #73972].</p>
<p>Storable would croak when freezing a blessed REF object with a
<code class="inline"><span class="i">STORABLE_freeze</span><span class="s">(</span><span class="s">)</span></code>
 method [perl #113880].</p>
<p>It can now freeze and thaw vstrings correctly.  This causes a slight
incompatible change in the storage format, so the format version has
increased to 2.9.</p>
<p>This contains various bugfixes, including compatibility fixes for older
versions of Perl and vstring handling.</p>
</li>
<li>
<p><a href="Sys/Syslog.html">Sys::Syslog</a> has been upgraded to 0.32.</p>
<p>This contains several bug fixes relating to <code class="inline"><a class="l_k" href="functions/getservbyname.html">getservbyname()</a></code>,
<code class="inline"><span class="i">setlogsock</span><span class="s">(</span><span class="s">)</span></code>
and log levels in <code class="inline"><span class="i">syslog</span><span class="s">(</span><span class="s">)</span></code>
, together with fixes for
Windows, Haiku-OS and GNU/kFreeBSD.  See <i>cpan/Sys-Syslog/Changes</i>
for the full details.</p>
</li>
<li>
<p><a href="Term/ANSIColor.html">Term::ANSIColor</a> has been upgraded to 4.02.</p>
<p>Add support for italics.</p>
<p>Improve error handling.</p>
</li>
<li>
<p><a href="Term/ReadLine.html">Term::ReadLine</a> has been upgraded to 1.10.  This fixes the
use of the <b>cpan</b> and <b>cpanp</b> shells on Windows in the event that the current
drive happens to contain a <i>\dev\tty</i> file.</p>
</li>
<li>
<p><a href="Test/Harness.html">Test::Harness</a> has been upgraded to 3.26.</p>
<p>Fix glob semantics on Win32 [rt.cpan.org #49732].</p>
<p>Don't use <code class="inline"><span class="w">Win32::GetShortPathName</span></code>
 when calling perl [rt.cpan.org #47890].</p>
<p>Ignore -T when reading shebang [rt.cpan.org #64404].</p>
<p>Handle the case where we don't know the wait status of the test more
gracefully.</p>
<p>Make the test summary 'ok' line overridable so that it can be changed to a
plugin to make the output of prove idempotent.</p>
<p>Don't run world-writable files.</p>
</li>
<li>
<p><a href="Text/Tabs.html">Text::Tabs</a> and <a href="Text/Wrap.html">Text::Wrap</a> have been upgraded to
2012.0818.  Support for Unicode combining characters has been added to them
both.</p>
</li>
<li>
<p><a href="threads/shared.html">threads::shared</a> has been upgraded to 1.31.</p>
<p>This adds the option to warn about or ignore attempts to clone structures
that can't be cloned, as opposed to just unconditionally dying in
that case.</p>
<p>This adds support for dual-valued values as created by
<a href="Scalar/Util.html#dualvar-NUM%2c-STRING">Scalar::Util::dualvar</a>.</p>
</li>
<li>
<p><a href="Tie/StdHandle.html">Tie::StdHandle</a> has been upgraded to 4.3.</p>
<p><code class="inline"><span class="w">READ</span></code>
 now respects the offset argument to <code class="inline"><a class="l_k" href="functions/read.html">read</a></code> [perl #112826].</p>
</li>
<li>
<p><a href="Time/Local.html">Time::Local</a> has been upgraded to 1.2300.</p>
<p>Seconds values greater than 59 but less than 60 no longer cause
<code class="inline"><span class="i">timegm</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">timelocal</span><span class="s">(</span><span class="s">)</span></code>
 to croak.</p>
</li>
<li>
<p><a href="Unicode/UCD.html">Unicode::UCD</a> has been upgraded to 0.53.</p>
<p>This adds a function <a href="Unicode/UCD.html#all_casefolds()">all_casefolds()</a>
that returns all the casefolds.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/Win32">Win32</a> has been upgraded to 0.47.</p>
<p>New APIs have been added for getting and setting the current code page.</p>
</li>
</ul>
<a name="Removed-Modules-and-Pragmata"></a><h2>Removed Modules and Pragmata</h2>
<ul>
<li>
<p><a href="http://search.cpan.org/perldoc/Version::Requirements">Version::Requirements</a> has been removed from the core distribution.  It is
available under a different name: <a href="CPAN/Meta/Requirements.html">CPAN::Meta::Requirements</a>.</p>
</li>
</ul>
<a name="Documentation"></a><h1>Documentation</h1>
<a name="Changes-to-Existing-Documentation"></a><h2>Changes to Existing Documentation</h2>
<a name="the-perlcheat-manpage"></a><h3><a href="perlcheat.html">perlcheat</a></h3>
<ul>
<li>
<p><a href="perlcheat.html">perlcheat</a> has been reorganized, and a few new sections were added.</p>
</li>
</ul>
<a name="the-perldata-manpage"></a><h3><a href="perldata.html">perldata</a></h3>
<ul>
<li>
<p>Now explicitly documents the behaviour of hash initializer lists that
contain duplicate keys.</p>
</li>
</ul>
<a name="the-perldiag-manpage"></a><h3><a href="perldiag.html">perldiag</a></h3>
<ul>
<li>
<p>The explanation of symbolic references being prevented by "strict refs"
now doesn't assume that the reader knows what symbolic references are.</p>
</li>
</ul>
<a name="the-perlfaq-manpage"></a><h3><a href="perlfaq.html">perlfaq</a></h3>
<ul>
<li>
<p><a href="perlfaq.html">perlfaq</a> has been synchronized with version 5.0150040 from CPAN.</p>
</li>
</ul>
<a name="the-perlfunc-manpage"></a><h3><a href="perlfunc.html">perlfunc</a></h3>
<ul>
<li>
<p>The return value of <code class="inline"><a class="l_k" href="functions/pipe.html">pipe</a></code> is now documented.</p>
</li>
<li>
<p>Clarified documentation of <code class="inline"><a class="l_k" href="functions/our.html">our</a></code>.</p>
</li>
</ul>
<a name="the-perlop-manpage"></a><h3><a href="perlop.html">perlop</a></h3>
<ul>
<li>
<p>Loop control verbs (<code class="inline"><a class="l_k" href="functions/dump.html">dump</a></code>, <code class="inline"><a class="l_k" href="functions/goto.html">goto</a></code>, <code class="inline"><a class="l_k" href="functions/next.html">next</a></code>, <code class="inline"><a class="l_k" href="functions/last.html">last</a></code> and <code class="inline"><a class="l_k" href="functions/redo.html">redo</a></code>) have always
had the same precedence as assignment operators, but this was not documented
until now.</p>
</li>
</ul>
<a name="Diagnostics"></a><h3>Diagnostics</h3>
<p>The following additions or changes have been made to diagnostic output,
including warnings and fatal error messages.  For the complete list of
diagnostic messages, see <a href="perldiag.html">perldiag</a>.</p>
<a name="New-Diagnostics"></a><h2>New Diagnostics</h2>
<a name="New-Errors"></a><h3>New Errors</h3>
<ul>
<li>
<p><a href="perldiag.html#Unterminated-delimiter-for-here-document">Unterminated delimiter for here document</a></p>
<p>This message now occurs when a here document label has an initial quotation
mark but the final quotation mark is missing.</p>
<p>This replaces a bogus and misleading error message about not finding the label
itself [perl #114104].</p>
</li>
<li>
<p><a href="perldiag.html#panic%3a-child-pseudo-process-was-never-scheduled">panic: child pseudo-process was never scheduled</a></p>
<p>This error is thrown when a child pseudo-process in the ithreads implementation
on Windows was not scheduled within the time period allowed and therefore was
not able to initialize properly [perl #88840].</p>
</li>
<li>
<p><a href="perldiag.html#Group-name-must-start-with-a-non-digit-word-character-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Group name must start with a non-digit word character in regex; marked by &lt;-- HERE in m/%s/</a></p>
<p>This error has been added for <code class="inline"><span class="s">(</span><span class="q">?&amp;0)</span></code>
, which is invalid.  It used to
produce an incomprehensible error message [perl #101666].</p>
</li>
<li>
<p><a href="perldiag.html#Can't-use-an-undefined-value-as-%25s-reference">Can't use an undefined value as a subroutine reference</a></p>
<p>Calling an undefined value as a subroutine now produces this error message.
It used to, but was accidentally disabled, first in Perl 5.004 for
non-magical variables, and then in Perl v5.14 for magical (e.g., tied)
variables.  It has now been restored.  In the mean time, undef was treated
as an empty string [perl #113576].</p>
</li>
<li>
<p><a href="perldiag.html#Experimental-%22%25s%22-subs-not-enabled">Experimental %s subs not enabled</a></p>
<p>To use lexical subs, you must first enable them:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&#39;experimental::lexical_subs&#39;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&#39;lexical_subs&#39;</span><span class="sc">;</span></li><li><a name="foo"></a>    <a class="l_k" href="functions/my.html">my</a> sub <span class="m">foo</span> <span class="s">{</span> ... <span class="s">}</span></li></ol></pre></li>
</ul>
<a name="New-Warnings"></a><h3>New Warnings</h3>
<ul>
<li>
<p><a href="perldiag.html#Strings-with-code-points-over-0xFF-may-not-be-mapped-into-in-memory-file-handles">'Strings with code points over 0xFF may not be mapped into in-memory file handles'</a></p>
</li>
<li>
<p><a href="perldiag.html#'%25s'-resolved-to-'%5co%7b%25s%7d%25d'">'%s' resolved to '\o{%s}%d'</a></p>
</li>
<li>
<p><a href="perldiag.html#Trailing-white-space-in-a-charnames-alias-definition-is-deprecated">'Trailing white-space in a charnames alias definition is deprecated'</a></p>
</li>
<li>
<p><a href="perldiag.html#A-sequence-of-multiple-spaces-in-a-charnames-alias-definition-is-deprecated">'A sequence of multiple spaces in a charnames alias definition is deprecated'</a></p>
</li>
<li>
<p><a href="perldiag.html#Passing-malformed-UTF-8-to-%22%25s%22-is-deprecated">'Passing malformed UTF-8 to %s is deprecated'</a></p>
</li>
<li>
<p><a href="perldiag.html#Subroutine-%22%26%25s%22-is-not-available">Subroutine &amp;%s is not available</a></p>
<p>(W closure) During compilation, an inner named subroutine or eval is
attempting to capture an outer lexical subroutine that is not currently
available.  This can happen for one of two reasons.  First, the lexical
subroutine may be declared in an outer anonymous subroutine that has not
yet been created.  (Remember that named subs are created at compile time,
while anonymous subs are created at run-time.)  For example,</p>
<pre class="verbatim"><ol><li><a name="a"></a><a name="f"></a>    <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <a class="l_k" href="functions/my.html">my</a> sub <span class="m">a</span> <span class="s">{</span>...<span class="s">}</span> sub <span class="m">f</span> <span class="s">{</span> \<span class="i">&amp;a</span> <span class="s">}</span> <span class="s">}</span></li></ol></pre><p>At the time that f is created, it can't capture the current the "a" sub,
since the anonymous subroutine hasn't been created yet.  Conversely, the
following won't give a warning since the anonymous subroutine has by now
been created and is live:</p>
<pre class="verbatim"><ol><li><a name="a"></a>    <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <a class="l_k" href="functions/my.html">my</a> sub <span class="m">a</span> <span class="s">{</span>...<span class="s">}</span> <a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;sub f { \&amp;a }&#39;</span> <span class="s">}</span>-&gt;<span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>The second situation is caused by an eval accessing a variable that has
gone out of scope, for example,</p>
<pre class="verbatim"><ol><li><a name="f"></a>    sub <span class="m">f</span> <span class="s">{</span></li><li><a name="a"></a>        <a class="l_k" href="functions/my.html">my</a> sub <span class="m">a</span> <span class="s">{</span>...<span class="s">}</span></li><li>        <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;\&amp;a&#39;</span> <span class="s">}</span></li><li>    <span class="s">}</span></li><li>    <span class="i">f</span><span class="s">(</span><span class="s">)</span>-&gt;<span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Here, when the '\&amp;a' in the eval is being compiled, f() is not currently
being executed, so its &amp;a is not available for capture.</p>
</li>
<li>
<p><a href="perldiag.html#%22%25s%22-subroutine-%26%25s-masks-earlier-declaration-in-same-%25s">%s subroutine &amp;%s masks earlier declaration in same %s</a></p>
<p>(W misc) A "my" or "state" subroutine has been redeclared in the
current scope or statement, effectively eliminating all access to
the previous instance.  This is almost always a typographical error.
Note that the earlier subroutine will still exist until the end of
the scope or until all closure references to it are destroyed.</p>
</li>
<li>
<p><a href="perldiag.html#The-%25s-feature-is-experimental">The %s feature is experimental</a></p>
<p>(S experimental) This warning is emitted if you enable an experimental
feature via <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span></code>
.  Simply suppress the warning if you want
to use the feature, but know that in doing so you are taking the risk
of using an experimental feature which may change or be removed in a
future Perl version:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&quot;experimental::lexical_subs&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&quot;lexical_subs&quot;</span><span class="sc">;</span></li></ol></pre></li>
<li>
<p><a href="perldiag.html#sleep(%25u)-too-large">sleep(%u) too large</a></p>
<p>(W overflow) You called <code class="inline"><a class="l_k" href="functions/sleep.html">sleep</a></code> with a number that was larger than it can
reliably handle and <code class="inline"><a class="l_k" href="functions/sleep.html">sleep</a></code> probably slept for less time than requested.</p>
</li>
<li>
<p><a href="perldiag.html#Wide-character-in-%25s">Wide character in setenv</a></p>
<p>Attempts to put wide characters into environment variables via <code class="inline"><span class="i">%ENV</span></code>
 now
provoke this warning.</p>
</li>
<li>
<p>"<a href="perldiag.html#Invalid-negative-number-(%25s)-in-chr">Invalid negative number (%s) in chr</a>"</p>
<p><code class="inline"><a class="l_k" href="functions/chr.html">chr()</a></code> now warns when passed a negative value [perl #83048].</p>
</li>
<li>
<p>"<a href="perldiag.html#Integer-overflow-in-srand">Integer overflow in srand</a>"</p>
<p><code class="inline"><a class="l_k" href="functions/srand.html">srand()</a></code> now warns when passed a value that doesn't fit in a <code class="inline"><span class="w">UV</span></code>
 (since the
value will be truncated rather than overflowing) [perl #40605].</p>
</li>
<li>
<p>"<a href="perldiag.html#-i-used-with-no-filenames-on-the-command-line%2c-reading-from-STDIN">-i used with no filenames on the command line, reading from STDIN</a>"</p>
<p>Running perl with the <code class="inline">-<span class="w">i</span></code>
 flag now warns if no input files are provided on
the command line [perl #113410].</p>
</li>
</ul>
<a name="Changes-to-Existing-Diagnostics"></a><h2>Changes to Existing Diagnostics</h2>
<ul>
<li>
<p><a href="perldiag.html#%24*-is-no-longer-supported">$* is no longer supported</a></p>
<p>The warning that use of <code class="inline"><span class="i">$*</span></code>
 and <code class="inline"><span class="i">$#</span></code>
 is no longer supported is now
generated for every location that references them.  Previously it would fail
to be generated if another variable using the same typeglob was seen first
(e.g. <code class="inline"><span class="i">@*</span></code>
 before <code class="inline"><span class="i">$*</span></code>
), and would not be generated for the second and
subsequent uses.  (It's hard to fix the failure to generate warnings at all
without also generating them every time, and warning every time is
consistent with the warnings that <code class="inline"><span class="i">$[</span></code>
 used to generate.)</p>
</li>
<li>
<p>The warnings for <code class="inline">\<span class="i">b</span><span class="s">{</span></code>
 and <code class="inline">\<span class="i">B</span><span class="s">{</span></code>
 were added.  They are a deprecation
warning which should be turned off by that category.  One should not
have to turn off regular regexp warnings as well to get rid of these.</p>
</li>
<li>
<p><a href="perldiag.html#Constant(%25s)%3a-Call-to-%26%7b%24%5eH%7b%25s%7d%7d-did-not-return-a-defined-value">Constant(%s): Call to &amp;{$^H{%s}} did not return a defined value</a></p>
<p>Constant overloading that returns <code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> results in this error message.
For numeric constants, it used to say "Constant(undef)".  "undef" has been
replaced with the number itself.</p>
</li>
<li>
<p>The error produced when a module cannot be loaded now includes a hint that
the module may need to be installed: "Can't locate hopping.pm in @INC (you
may need to install the hopping module) (@INC contains: ...)"</p>
</li>
<li>
<p><a href="perldiag.html#vector-argument-not-supported-with-alpha-versions">vector argument not supported with alpha versions</a></p>
<p>This warning was not suppressible, even with <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span></code>
.  Now it is
suppressible, and has been moved from the "internal" category to the
"printf" category.</p>
</li>
<li>
<p><code class="inline"><span class="w">Can&#39;t</span> <a class="l_k" href="functions/do.html">do</a> <span class="s">{</span><span class="w">n</span><span class="cm">,</span><span class="q">m} with n &gt; m in regex; marked by &lt;-- HERE in m/%s/</span></code>
</p>
<p>This fatal error has been turned into a warning that reads:</p>
<p><a href="perldiag.html#Quantifier-%7bn%2cm%7d-with-n-%3e-m-can't-match-in-regex">Quantifier {n,m} with n &gt; m can't match in regex </a></p>
<p>(W regexp) Minima should be less than or equal to maxima.  If you really want
your regexp to match something 0 times, just put {0}.</p>
</li>
<li>
<p>The "Runaway prototype" warning that occurs in bizarre cases has been
removed as being unhelpful and inconsistent.</p>
</li>
<li>
<p>The "Not a format reference" error has been removed, as the only case in
which it could be triggered was a bug.</p>
</li>
<li>
<p>The "Unable to create sub named %s" error has been removed for the same
reason.</p>
</li>
<li>
<p>The 'Can't use "my %s" in sort comparison' error has been downgraded to a
warning, '"my %s" used in sort comparison' (with 'state' instead of 'my'
for state variables).  In addition, the heuristics for guessing whether
lexical $a or $b has been misused have been improved to generate fewer
false positives.  Lexical $a and $b are no longer disallowed if they are
outside the sort block.  Also, a named unary or list operator inside the
sort block no longer causes the $a or $b to be ignored [perl #86136].</p>
</li>
</ul>
<a name="Utility-Changes"></a><h1>Utility Changes</h1>
<a name="the-h2xs-manpage"></a><h3><a href="h2xs.html">h2xs</a></h3>
<ul>
<li>
<p><i>h2xs</i> no longer produces invalid code for empty defines.  [perl #20636]</p>
</li>
</ul>
<a name="Configuration-and-Compilation"></a><h1>Configuration and Compilation</h1>
<ul>
<li>
<p>Added <code class="inline"><span class="w">useversionedarchname</span></code>
 option to Configure</p>
<p>When set, it includes 'api_versionstring' in 'archname'. E.g.
x86_64-linux-5.13.6-thread-multi.  It is unset by default.</p>
<p>This feature was requested by Tim Bunce, who observed that
<code class="inline"><span class="w">INSTALL_BASE</span></code>
 creates a library structure that does not
differentiate by perl version.  Instead, it places architecture
specific files in "$install_base/lib/perl5/$archname".  This makes
it difficult to use a common <code class="inline"><span class="w">INSTALL_BASE</span></code>
 library path with
multiple versions of perl.</p>
<p>By setting <code class="inline">-<span class="w">Duseversionedarchname</span></code>
, the $archname will be
distinct for architecture <i>and</i> API version, allowing mixed use of
<code class="inline"><span class="w">INSTALL_BASE</span></code>
.</p>
</li>
<li>
<p>Add a <code class="inline"><span class="w">PERL_NO_INLINE_FUNCTIONS</span></code>
 option</p>
<p>If <code class="inline"><span class="w">PERL_NO_INLINE_FUNCTIONS</span></code>
 is defined, don't include "inline.h"</p>
<p>This permits test code to include the perl headers for definitions without
creating a link dependency on the perl library (which may not exist yet).</p>
</li>
<li>
<p>Configure will honour the external <code class="inline"><span class="w">MAILDOMAIN</span></code>
 environment variable, if set.</p>
</li>
<li>
<p><code class="inline"><span class="w">installman</span></code>
 no longer ignores the silent option</p>
</li>
<li>
<p>Both <code class="inline"><span class="w">META</span>.<span class="w">yml</span></code>
 and <code class="inline"><span class="w">META</span>.<span class="w">json</span></code>
 files are now included in the distribution.</p>
</li>
<li>
<p><i>Configure</i> will now correctly detect <code class="inline"><span class="i">isblank</span><span class="s">(</span><span class="s">)</span></code>
 when compiling with a C++
compiler.</p>
</li>
<li>
<p>The pager detection in <i>Configure</i> has been improved to allow responses which
specify options after the program name, e.g. <b>/usr/bin/less -R</b>, if the user
accepts the default value.  This helps <b>perldoc</b> when handling ANSI escapes
[perl #72156].</p>
</li>
</ul>
<a name="Testing"></a><h1>Testing</h1>
<ul>
<li>
<p>The test suite now has a section for tests that require very large amounts
of memory.  These tests won't run by default; they can be enabled by
setting the <code class="inline"><span class="w">PERL_TEST_MEMORY</span></code>
 environment variable to the number of
gibibytes of memory that may be safely used.</p>
</li>
</ul>
<a name="Platform-Support"></a><h1>Platform Support</h1>
<a name="Discontinued-Platforms"></a><h2>Discontinued Platforms</h2>
<ul>
<li><a name="BeOS"></a><b>BeOS</b>
<p>BeOS was an operating system for personal computers developed by Be Inc,
initially for their BeBox hardware. The OS Haiku was written as an open
source replacement for/continuation of BeOS, and its perl port is current and
actively maintained.</p>
</li>
<li><a name="UTS-Global"></a><b>UTS Global</b>
<p>Support code relating to UTS global has been removed.  UTS was a mainframe
version of System V created by Amdahl, subsequently sold to UTS Global.  The
port has not been touched since before Perl v5.8.0, and UTS Global is now
defunct.</p>
</li>
<li><a name="VM%2fESA"></a><b>VM/ESA</b>
<p>Support for VM/ESA has been removed. The port was tested on 2.3.0, which
IBM ended service on in March 2002. 2.4.0 ended service in June 2003, and
was superseded by Z/VM. The current version of Z/VM is V6.2.0, and scheduled
for end of service on 2015/04/30.</p>
</li>
<li><a name="MPE%2fIX"></a><b>MPE/IX</b>
<p>Support for MPE/IX has been removed.</p>
</li>
<li><a name="EPOC"></a><b>EPOC</b>
<p>Support code relating to EPOC has been removed.  EPOC was a family of
operating systems developed by Psion for mobile devices.  It was the
predecessor of Symbian.  The port was last updated in April 2002.</p>
</li>
<li><a name="Rhapsody"></a><b>Rhapsody</b>
<p>Support for Rhapsody has been removed.</p>
</li>
</ul>
<a name="Platform-Specific-Notes"></a><h2>Platform-Specific Notes</h2>
<a name="AIX"></a><h3>AIX</h3>
<p>Configure now always adds <code class="inline">-<span class="w">qlanglvl</span>=<span class="w">extc99</span></code>
 to the CC flags on AIX when
using xlC.  This will make it easier to compile a number of XS-based modules
that assume C99 [perl #113778].</p>
<a name="clang%2b%2b"></a><h3>clang++</h3>
<p>There is now a workaround for a compiler bug that prevented compiling
with clang++ since Perl v5.15.7 [perl #112786].</p>
<a name="C%2b%2b"></a><h3>C++</h3>
<p>When compiling the Perl core as C++ (which is only semi-supported), the
mathom functions are now compiled as <code class="inline"><span class="w">extern</span> <span class="q">&quot;C&quot;</span></code>
, to ensure proper
binary compatibility.  (However, binary compatibility isn't generally
guaranteed anyway in the situations where this would matter.)</p>
<a name="Darwin"></a><h3>Darwin</h3>
<p>Stop hardcoding an alignment on 8 byte boundaries to fix builds using
-Dusemorebits.</p>
<a name="Haiku"></a><h3>Haiku</h3>
<p>Perl should now work out of the box on Haiku R1 Alpha 4.</p>
<a name="MidnightBSD"></a><h3>MidnightBSD</h3>
<p><code class="inline"><span class="w">libc_r</span></code>
 was removed from recent versions of MidnightBSD and older versions
work better with <code class="inline"><span class="w">pthread</span></code>
. Threading is now enabled using <code class="inline"><span class="w">pthread</span></code>
 which
corrects build errors with threading enabled on 0.4-CURRENT.</p>
<a name="Solaris"></a><h3>Solaris</h3>
<p>In Configure, avoid running sed commands with flags not supported on Solaris.</p>
<a name="VMS"></a><h3>VMS</h3>
<ul>
<li>
<p>Where possible, the case of filenames and command-line arguments is now
preserved by enabling the CRTL features <code class="inline"><span class="w">DECC</span><span class="i">$EFS_CASE_PRESERVE</span></code>
 and
<code class="inline"><span class="w">DECC</span><span class="i">$ARGV_PARSE_STYLE</span></code>
 at start-up time.  The latter only takes effect
when extended parse is enabled in the process from which Perl is run.</p>
</li>
<li>
<p>The character set for Extended Filename Syntax (EFS) is now enabled by default
on VMS.  Among other things, this provides better handling of dots in directory
names, multiple dots in filenames, and spaces in filenames.  To obtain the old
behavior, set the logical name <code class="inline"><span class="w">DECC</span><span class="i">$EFS_CHARSET</span></code>
 to <code class="inline"><span class="w">DISABLE</span></code>
.</p>
</li>
<li>
<p>Fixed linking on builds configured with <code class="inline">-<span class="w">Dusemymalloc</span>=<span class="q">y</span></code>
.</p>
</li>
<li>
<p>Experimental support for building Perl with the HP C++ compiler is available
by configuring with <code class="inline">-<span class="w">Dusecxx</span></code>
.</p>
</li>
<li>
<p>All C header files from the top-level directory of the distribution are now
installed on VMS, providing consistency with a long-standing practice on other
platforms. Previously only a subset were installed, which broke non-core
extension builds for extensions that depended on the missing include files.</p>
</li>
<li>
<p>Quotes are now removed from the command verb (but not the parameters) for
commands spawned via <code class="inline"><a class="l_k" href="functions/system.html">system</a></code>, backticks, or a piped <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>.  Previously,
quotes on the verb were passed through to DCL, which would fail to recognize
the command.  Also, if the verb is actually a path to an image or command
procedure on an ODS-5 volume, quoting it now allows the path to contain spaces.</p>
</li>
<li>
<p>The <b>a2p</b> build has been fixed for the HP C++ compiler on OpenVMS.</p>
</li>
</ul>
<a name="Win32"></a><h3>Win32</h3>
<ul>
<li>
<p>Perl can now be built using Microsoft's Visual C++ 2012 compiler by specifying
CCTYPE=MSVC110 (or MSVC110FREE if you are using the free Express edition for
Windows Desktop) in <i>win32/Makefile</i>.</p>
</li>
<li>
<p>The option to build without <code class="inline"><span class="w">USE_SOCKETS_AS_HANDLES</span></code>
 has been removed.</p>
</li>
<li>
<p>Fixed a problem where perl could crash while cleaning up threads (including the
main thread) in threaded debugging builds on Win32 and possibly other platforms
[perl #114496].</p>
</li>
<li>
<p>A rare race condition that would lead to <a href="functions/sleep.html">sleep</a> taking more
time than requested, and possibly even hanging, has been fixed [perl #33096].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/link.html">link</a></code> on Win32 now attempts to set <code class="inline"><span class="i">$!</span></code>
 to more appropriate values
based on the Win32 API error code. [perl #112272]</p>
<p>Perl no longer mangles the environment block, e.g. when launching a new
sub-process, when the environment contains non-ASCII characters. Known
problems still remain, however, when the environment contains characters
outside of the current ANSI codepage (e.g. see the item about Unicode in
<code class="inline"><span class="i">%ENV</span></code>
 in <a href="http://perl5.git.perl.org/perl.git/blob/HEAD:/Porting/todo.pod">http://perl5.git.perl.org/perl.git/blob/HEAD:/Porting/todo.pod</a>).
[perl #113536]</p>
</li>
<li>
<p>Building perl with some Windows compilers used to fail due to a problem
with miniperl's <code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code> operator (which uses the <code class="inline"><span class="w">perlglob</span></code>
 program)
deleting the PATH environment variable [perl #113798].</p>
</li>
<li>
<p>A new makefile option, <code class="inline"><span class="w">USE_64_BIT_INT</span></code>
, has been added to the Windows
makefiles.  Set this to "define" when building a 32-bit perl if you want
it to use 64-bit integers.</p>
<p>Machine code size reductions, already made to the DLLs of XS modules in
Perl v5.17.2, have now been extended to the perl DLL itself.</p>
<p>Building with VC++ 6.0 was inadvertently broken in Perl v5.17.2 but has
now been fixed again.</p>
</li>
</ul>
<a name="WinCE"></a><h3>WinCE</h3>
<p>Building on WinCE is now possible once again, although more work is required
to fully restore a clean build.</p>
<a name="Internal-Changes"></a><h1>Internal Changes</h1>
<ul>
<li>
<p>Synonyms for the misleadingly named <code class="inline"><span class="i">av_len</span><span class="s">(</span><span class="s">)</span></code>
 have been created:
<code class="inline"><span class="i">av_top_index</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="w">av_tindex</span></code>
.  All three of these return the
number of the highest index in the array, not the number of elements it
contains.</p>
</li>
<li>
<p>SvUPGRADE() is no longer an expression. Originally this macro (and its
underlying function, sv_upgrade()) were documented as boolean, although
in reality they always croaked on error and never returned false. In 2005
the documentation was updated to specify a void return value, but
SvUPGRADE() was left always returning 1 for backwards compatibility. This
has now been removed, and SvUPGRADE() is now a statement with no return
value.</p>
<p>So this is now a syntax error:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span>!<span class="i">SvUPGRADE</span><span class="s">(</span><span class="w">sv</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span> <span class="i">croak</span><span class="s">(</span>...<span class="s">)</span><span class="sc">;</span> <span class="s">}</span></li></ol></pre><p>If you have code like that, simply replace it with</p>
<pre class="verbatim"><ol><li>    <span class="i">SvUPGRADE</span><span class="s">(</span><span class="w">sv</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>or to avoid compiler warnings with older perls, possibly</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span><span class="w">void</span><span class="s">)</span><span class="i">SvUPGRADE</span><span class="s">(</span><span class="w">sv</span><span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li>
<p>Perl has a new copy-on-write mechanism that allows any SvPOK scalar to be
upgraded to a copy-on-write scalar.  A reference count on the string buffer
is stored in the string buffer itself.  This feature is <b>not enabled by
default</b>.</p>
<p>It can be enabled in a perl build by running <i>Configure</i> with
<b>-Accflags=-DPERL_NEW_COPY_ON_WRITE</b>, and we would encourage XS authors
to try their code with such an enabled perl, and provide feedback.
Unfortunately, there is not yet a good guide to updating XS code to cope
with COW.  Until such a document is available, consult the perl5-porters
mailing list.</p>
<p>It breaks a few XS modules by allowing copy-on-write scalars to go
through code paths that never encountered them before.</p>
</li>
<li>
<p>Copy-on-write no longer uses the SvFAKE and SvREADONLY flags.  Hence,
SvREADONLY indicates a true read-only SV.</p>
<p>Use the SvIsCOW macro (as before) to identify a copy-on-write scalar.</p>
</li>
<li>
<p><code class="inline"><span class="w">PL_glob_index</span></code>
 is gone.</p>
</li>
<li>
<p>The private Perl_croak_no_modify has had its context parameter removed.  It is
now has a void prototype.  Users of the public API croak_no_modify remain
unaffected.</p>
</li>
<li>
<p>Copy-on-write (shared hash key) scalars are no longer marked read-only.
<code class="inline"><span class="w">SvREADONLY</span></code>
 returns false on such an SV, but <code class="inline"><span class="w">SvIsCOW</span></code>
 still returns
true.</p>
</li>
<li>
<p>A new op type, <code class="inline"><span class="w">OP_PADRANGE</span></code>
 has been introduced.  The perl peephole
optimiser will, where possible, substitute a single padrange op for a
pushmark followed by one or more pad ops, and possibly also skipping list
and nextstate ops.  In addition, the op can carry out the tasks associated
with the RHS of a <code class="inline"><a class="l_k" href="functions/my.html">my</a><span class="s">(</span>...<span class="s">)</span> = <span class="i">@_</span></code>
 assignment, so those ops may be optimised
away too.</p>
</li>
<li>
<p>Case-insensitive matching inside a [bracketed] character class with a
multi-character fold no longer excludes one of the possibilities in the
circumstances that it used to. [perl #89774].</p>
</li>
<li>
<p><code class="inline"><span class="w">PL_formfeed</span></code>
 has been removed.</p>
</li>
<li>
<p>The regular expression engine no longer reads one byte past the end of the
target string.  While for all internally well-formed scalars this should
never have been a problem, this change facilitates clever tricks with
string buffers in CPAN modules.  [perl #73542]</p>
</li>
<li>
<p>Inside a BEGIN block, <code class="inline"><span class="w">PL_compcv</span></code>
 now points to the currently-compiling
subroutine, rather than the BEGIN block itself.</p>
</li>
<li>
<p><code class="inline"><span class="w">mg_length</span></code>
 has been deprecated.</p>
</li>
<li>
<p><code class="inline"><span class="w">sv_len</span></code>
 now always returns a byte count and <code class="inline"><span class="w">sv_len_utf8</span></code>
 a character
count.  Previously, <code class="inline"><span class="w">sv_len</span></code>
 and <code class="inline"><span class="w">sv_len_utf8</span></code>
 were both buggy and would
sometimes returns bytes and sometimes characters.  <code class="inline"><span class="w">sv_len_utf8</span></code>
 no longer
assumes that its argument is in UTF-8.  Neither of these creates UTF-8 caches
for tied or overloaded values or for non-PVs any more.</p>
</li>
<li>
<p><code class="inline"><span class="w">sv_mortalcopy</span></code>
 now copies string buffers of shared hash key scalars when
called from XS modules [perl #79824].</p>
</li>
<li>
<p>The new <code class="inline"><span class="w">RXf_MODIFIES_VARS</span></code>
 flag can be set by custom regular expression
engines to indicate that the execution of the regular expression may cause
variables to be modified.  This lets <code class="inline"><a class="l_k" href="functions/s.html">s///</a></code> know to skip certain
optimisations.  Perl's own regular expression engine sets this flag for the
special backtracking verbs that set $REGMARK and $REGERROR.</p>
</li>
<li>
<p>The APIs for accessing lexical pads have changed considerably.</p>
<p><code class="inline"><span class="w">PADLIST</span></code>
s are now longer <code class="inline"><span class="w">AV</span></code>
s, but their own type instead.
<code class="inline"><span class="w">PADLIST</span></code>
s now contain a <code class="inline"><span class="w">PAD</span></code>
 and a <code class="inline"><span class="w">PADNAMELIST</span></code>
 of <code class="inline"><span class="w">PADNAME</span></code>
s,
rather than <code class="inline"><span class="w">AV</span></code>
s for the pad and the list of pad names.  <code class="inline"><span class="w">PAD</span></code>
s,
<code class="inline"><span class="w">PADNAMELIST</span></code>
s, and <code class="inline"><span class="w">PADNAME</span></code>
s are to be accessed as such through the
newly added pad API instead of the plain <code class="inline"><span class="w">AV</span></code>
 and <code class="inline"><span class="w">SV</span></code>
 APIs.  See
<a href="perlapi.html">perlapi</a> for details.</p>
</li>
<li>
<p>In the regex API, the numbered capture callbacks are passed an index
indicating what match variable is being accessed. There are special
index values for the <code class="inline"><span class="i">$`</span><span class="cm">,</span> <span class="i">$&amp;</span><span class="cm">,</span> <span class="i">$&amp;</span></code>
 variables. Previously the same three
values were used to retrieve <code class="inline"><span class="i">$</span>{<span class="w">^PREMATCH</span>}<span class="cm">,</span> <span class="i">$</span>{<span class="w">^MATCH</span>}<span class="cm">,</span> <span class="i">$</span>{<span class="w">^POSTMATCH</span>}</code>

too, but these have now been assigned three separate values. See
<a href="perlreapi.html#Numbered-capture-callbacks">Numbered capture callbacks in perlreapi</a>.</p>
</li>
<li>
<p><code class="inline"><span class="w">PL_sawampersand</span></code>
 was previously a boolean indicating that any of
<code class="inline"><span class="i">$`</span><span class="cm">,</span> <span class="i">$&amp;</span><span class="cm">,</span> <span class="i">$&amp;</span></code>
 had been seen; it now contains three one-bit flags
indicating the presence of each of the variables individually.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">CV</span> *</code>
 typemap entry now supports <code class="inline"><span class="i">&amp;</span>{}</code>
 overloading and typeglobs,
just like <code class="inline"><span class="i">&amp;</span>{...}</code>
 [perl #96872].</p>
</li>
<li>
<p>The <code class="inline"><span class="w">SVf_AMAGIC</span></code>
 flag to indicate overloading is now on the stash, not the
object.  It is now set automatically whenever a method or @ISA changes, so
its meaning has changed, too.  It now means "potentially overloaded".  When
the overload table is calculated, the flag is automatically turned off if
there is no overloading, so there should be no noticeable slowdown.</p>
<p>The staleness of the overload tables is now checked when overload methods
are invoked, rather than during <code class="inline"><a class="l_k" href="functions/bless.html">bless</a></code>.</p>
<p>"A" magic is gone.  The changes to the handling of the <code class="inline"><span class="w">SVf_AMAGIC</span></code>
 flag
eliminate the need for it.</p>
<p><code class="inline"><span class="w">PL_amagic_generation</span></code>
 has been removed as no longer necessary.  For XS
modules, it is now a macro alias to <code class="inline"><span class="w">PL_na</span></code>
.</p>
<p>The fallback overload setting is now stored in a stash entry separate from
overloadedness itself.</p>
</li>
<li>
<p>The character-processing code has been cleaned up in places.  The changes
should be operationally invisible.</p>
</li>
<li>
<p>The <code class="inline"><a class="l_k" href="functions/study.html">study</a></code> function was made a no-op in v5.16.  It was simply disabled via
a <code class="inline"><a class="l_k" href="functions/return.html">return</a></code> statement; the code was left in place.  Now the code supporting
what <code class="inline"><a class="l_k" href="functions/study.html">study</a></code> used to do has been removed.</p>
</li>
<li>
<p>Under threaded perls, there is no longer a separate PV allocated for every
COP to store its package name (<code class="inline"><span class="w">cop</span><span class="w">-&gt;stashpv</span></code>
).  Instead, there is an
offset (<code class="inline"><span class="w">cop</span><span class="w">-&gt;stashoff</span></code>
) into the new <code class="inline"><span class="w">PL_stashpad</span></code>
 array, which
holds stash pointers.</p>
</li>
<li>
<p>In the pluggable regex API, the <code class="inline"><span class="w">regexp_engine</span></code>
 struct has acquired a new
field <code class="inline"><span class="w">op_comp</span></code>
, which is currently just for perl's internal use, and
should be initialized to NULL by other regex plugin modules.</p>
</li>
<li>
<p>A new function <code class="inline"><span class="w">alloccopstash</span></code>
 has been added to the API, but is considered
experimental.  See <a href="perlapi.html">perlapi</a>.</p>
</li>
<li>
<p>Perl used to implement get magic in a way that would sometimes hide bugs in
code that could call mg_get() too many times on magical values.  This hiding of
errors no longer occurs, so long-standing bugs may become visible now.  If
you see magic-related errors in XS code, check to make sure it, together
with the Perl API functions it uses, calls mg_get() only once on SvGMAGICAL()
values.</p>
</li>
<li>
<p>OP allocation for CVs now uses a slab allocator.  This simplifies
memory management for OPs allocated to a CV, so cleaning up after a
compilation error is simpler and safer [perl #111462][perl #112312].</p>
</li>
<li>
<p><code class="inline"><span class="w">PERL_DEBUG_READONLY_OPS</span></code>
 has been rewritten to work with the new slab
allocator, allowing it to catch more violations than before.</p>
</li>
<li>
<p>The old slab allocator for ops, which was only enabled for <code class="inline"><span class="w">PERL_IMPLICIT_SYS</span></code>

and <code class="inline"><span class="w">PERL_DEBUG_READONLY_OPS</span></code>
, has been retired.</p>
</li>
</ul>
<a name="Selected-Bug-Fixes"></a><h1>Selected Bug Fixes</h1>
<ul>
<li>
<p>Here document terminators no longer require a terminating newline character when
they occur at the end of a file.  This was already the case at the end of a
string eval [perl #65838].</p>
</li>
<li>
<p><code class="inline">-<span class="w">DPERL_GLOBAL_STRUCT</span></code>
 builds now free the global struct <b>after</b>
they've finished using it.</p>
</li>
<li>
<p>A trailing '/' on a path in @INC will no longer have an additional '/'
appended.</p>
</li>
<li>
<p>The <code class="inline"><span class="j">:</span><span class="w">crlf</span></code>
 layer now works when unread data doesn't fit into its own
buffer. [perl #112244].</p>
</li>
<li>
<p><code class="inline"><span class="i">ungetc</span><span class="s">(</span><span class="s">)</span></code>
 now handles UTF-8 encoded data. [perl #116322].</p>
</li>
<li>
<p>A bug in the core typemap caused any C types that map to the T_BOOL core
typemap entry to not be set, updated, or modified when the T_BOOL variable was
used in an OUTPUT: section with an exception for RETVAL. T_BOOL in an INPUT:
section was not affected. Using a T_BOOL return type for an XSUB (RETVAL)
was not affected. A side effect of fixing this bug is, if a T_BOOL is specified
in the OUTPUT: section (which previous did nothing to the SV), and a read only
SV (literal) is passed to the XSUB, croaks like "Modification of a read-only
value attempted" will happen. [perl #115796]</p>
</li>
<li>
<p>On many platforms, providing a directory name as the script name caused perl
to do nothing and report success.  It should now universally report an error
and exit nonzero. [perl #61362]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/sort.html">sort</a> <span class="s">{</span><a class="l_k" href="functions/undef.html">undef</a><span class="s">}</span> ...</code>
 under fatal warnings no longer crashes.  It had
begun crashing in Perl v5.16.</p>
</li>
<li>
<p>Stashes blessed into each other
(<code class="inline"><a class="l_k" href="functions/bless.html">bless</a> \<span class="i">%Foo::</span><span class="cm">,</span> <span class="q">&#39;Bar&#39;</span><span class="sc">;</span> <a class="l_k" href="functions/bless.html">bless</a> \<span class="i">%Bar::</span><span class="cm">,</span> <span class="q">&#39;Foo&#39;</span></code>
) no longer result in double
frees.  This bug started happening in Perl v5.16.</p>
</li>
<li>
<p>Numerous memory leaks have been fixed, mostly involving fatal warnings and
syntax errors.</p>
</li>
<li>
<p>Some failed regular expression matches such as <code class="inline"><span class="q">&#39;f&#39;</span> =~ <span class="q">/../g</span></code>
 were not
resetting <code class="inline"><a class="l_k" href="functions/pos.html">pos</a></code>.  Also, "match-once" patterns (<code class="inline"><a class="l_k" href="functions/m.html">m?...?g</a></code>) failed to reset
it, too, when invoked a second time [perl #23180].</p>
</li>
<li>
<p>Several bugs involving <code class="inline"><a class="l_k" href="functions/local.html">local</a> <span class="i">*ISA</span></code>
 and <code class="inline"><a class="l_k" href="functions/local.html">local</a> <span class="i">*Foo::</span></code>
 causing stale
MRO caches have been fixed.</p>
</li>
<li>
<p>Defining a subroutine when its typeglob has been aliased no longer results
in stale method caches.  This bug was introduced in Perl v5.10.</p>
</li>
<li>
<p>Localising a typeglob containing a subroutine when the typeglob's package
has been deleted from its parent stash no longer produces an error.  This
bug was introduced in Perl v5.14.</p>
</li>
<li>
<p>Under some circumstances, <code class="inline"><a class="l_k" href="functions/local.html">local</a> <span class="i">*method</span>=...</code>
 would fail to reset method
caches upon scope exit.</p>
</li>
<li>
<p><code class="inline"><span class="q">/[.foo.]/</span></code>
 is no longer an error, but produces a warning (as before) and
is treated as <code class="inline"><span class="q">/[.fo]/</span></code>
 [perl #115818].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/goto.html">goto</a> <span class="i">$tied_var</span></code>
 now calls FETCH before deciding what type of goto
(subroutine or label) this is.</p>
</li>
<li>
<p>Renaming packages through glob assignment
(<code class="inline"><span class="i">*Foo::</span> = <span class="i">*Bar::</span><span class="sc">;</span> <span class="i">*Bar::</span> = <span class="i">*Baz::</span></code>
) in combination with <code class="inline"><a class="l_k" href="functions/m.html">m?...?</a></code> and
<code class="inline"><a class="l_k" href="functions/reset.html">reset</a></code> no longer makes threaded builds crash.</p>
</li>
<li>
<p>A number of bugs related to assigning a list to hash have been fixed. Many of
these involve lists with repeated keys like <code class="inline"><span class="s">(</span><span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="s">)</span></code>
.</p>
<ul>
<li>
<p>The expression <code class="inline"><a class="l_k" href="functions/scalar.html">scalar</a><span class="s">(</span><span class="i">%h</span> = <span class="s">(</span><span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="s">)</span><span class="s">)</span></code>
 now returns <code class="inline"><span class="n">4</span></code>
, not <code class="inline"><span class="n">2</span></code>
.</p>
</li>
<li>
<p>The return value of <code class="inline"><span class="i">%h</span> = <span class="s">(</span><span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="s">)</span></code>
 in list context was wrong. Previously
this would return <code class="inline"><span class="s">(</span><span class="n">1</span><span class="cm">,</span> <a class="l_k" href="functions/undef.html">undef</a><span class="cm">,</span> <span class="n">1</span><span class="s">)</span></code>
, now it returns <code class="inline"><span class="s">(</span><span class="n">1</span><span class="cm">,</span> <a class="l_k" href="functions/undef.html">undef</a><span class="s">)</span></code>
.</p>
</li>
<li>
<p>Perl now issues the same warning on <code class="inline"><span class="s">(</span><span class="i">$s</span><span class="cm">,</span> <span class="i">%h</span><span class="s">)</span> = <span class="s">(</span><span class="n">1</span><span class="cm">,</span> <span class="s">{</span><span class="s">}</span><span class="s">)</span></code>
 as it does for
<code class="inline"><span class="s">(</span><span class="i">%h</span><span class="s">)</span> = <span class="s">(</span><span class="s">{</span><span class="s">}</span><span class="s">)</span></code>
, "Reference found where even-sized list expected".</p>
</li>
<li>
<p>A number of additional edge cases in list assignment to hashes were
corrected. For more details see commit 23b7025ebc.</p>
</li>
</ul>
</li>
<li>
<p>Attributes applied to lexical variables no longer leak memory.
[perl #114764]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/dump.html">dump</a></code>, <code class="inline"><a class="l_k" href="functions/goto.html">goto</a></code>, <code class="inline"><a class="l_k" href="functions/last.html">last</a></code>, <code class="inline"><a class="l_k" href="functions/next.html">next</a></code>, <code class="inline"><a class="l_k" href="functions/redo.html">redo</a></code> or <code class="inline"><a class="l_k" href="functions/require.html">require</a></code> followed by a
bareword (or version) and then an infix operator is no longer a syntax
error.  It used to be for those infix operators (like <code class="inline">+</code>
) that have a
different meaning where a term is expected.  [perl #105924]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/require.html">require</a> <span class="w">a::b</span> . <span class="n">1</span></code>
 and <code class="inline"><a class="l_k" href="functions/require.html">require</a> <span class="w">a::b</span> + <span class="n">1</span></code>
 no longer produce erroneous
ambiguity warnings.  [perl #107002]</p>
</li>
<li>
<p>Class method calls are now allowed on any string, and not just strings
beginning with an alphanumeric character.  [perl #105922]</p>
</li>
<li>
<p>An empty pattern created with <code class="inline"><a class="l_k" href="functions/qr.html">qr//</a></code> used in <code class="inline"><a class="l_k" href="functions/m.html">m///</a></code> no longer triggers
the "empty pattern reuses last pattern" behaviour.  [perl #96230]</p>
</li>
<li>
<p>Tying a hash during iteration no longer results in a memory leak.</p>
</li>
<li>
<p>Freeing a tied hash during iteration no longer results in a memory leak.</p>
</li>
<li>
<p>List assignment to a tied array or hash that dies on STORE no longer
results in a memory leak.</p>
</li>
<li>
<p>If the hint hash (<code class="inline"><span class="i">%^H</span></code>
) is tied, compile-time scope entry (which copies
the hint hash) no longer leaks memory if FETCH dies.  [perl #107000]</p>
</li>
<li>
<p>Constant folding no longer inappropriately triggers the special
<code class="inline"><a class="l_k" href="functions/split.html">split</a> <span class="q">&quot; &quot;</span></code>
 behaviour.  [perl #94490]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/defined.html">defined</a> <a class="l_k" href="functions/scalar.html">scalar</a><span class="s">(</span><span class="i">@array</span><span class="s">)</span></code>
, <code class="inline"><a class="l_k" href="functions/defined.html">defined</a> <a class="l_k" href="functions/do.html">do</a> <span class="s">{</span> <span class="i">&amp;foo</span> <span class="s">}</span></code>
, and similar constructs
now treat the argument to <code class="inline"><a class="l_k" href="functions/defined.html">defined</a></code> as a simple scalar.  [perl #97466]</p>
</li>
<li>
<p>Running a custom debugging that defines no <code class="inline"><span class="i">*DB::DB</span></code>
 glob or provides a
subroutine stub for <code class="inline"><span class="i">&amp;DB::DB</span></code>
 no longer results in a crash, but an error
instead.  [perl #114990]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/reset.html">reset</a> <span class="q">&quot;&quot;</span></code>
 now matches its documentation.  <code class="inline"><a class="l_k" href="functions/reset.html">reset</a></code> only resets <code class="inline"><a class="l_k" href="functions/m.html">m?...?</a></code>
patterns when called with no argument.  An empty string for an argument now
does nothing.  (It used to be treated as no argument.)  [perl #97958]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/printf.html">printf</a></code> with an argument returning an empty list no longer reads past the
end of the stack, resulting in erratic behaviour.  [perl #77094]</p>
</li>
<li>
<p><code class="inline">--<span class="w">subname</span></code>
 no longer produces erroneous ambiguity warnings.
[perl #77240]</p>
</li>
<li>
<p><code class="inline"><span class="v">v10</span></code>
 is now allowed as a label or package name.  This was inadvertently
broken when v-strings were added in Perl v5.6.  [perl #56880]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/length.html">length</a></code>, <code class="inline"><a class="l_k" href="functions/pos.html">pos</a></code>, <code class="inline"><a class="l_k" href="functions/substr.html">substr</a></code> and <code class="inline"><a class="l_k" href="functions/sprintf.html">sprintf</a></code> could be confused by ties,
overloading, references and typeglobs if the stringification of such
changed the internal representation to or from UTF-8.  [perl #114410]</p>
</li>
<li>
<p>utf8::encode now calls FETCH and STORE on tied variables.  utf8::decode now
calls STORE (it was already calling FETCH).</p>
</li>
<li>
<p><code class="inline"><span class="i">$tied</span> =~ <span class="q">s/$non_utf8/$utf8/</span></code>
 no longer loops infinitely if the tied
variable returns a Latin-1 string, shared hash key scalar, or reference or
typeglob that stringifies as ASCII or Latin-1.  This was a regression from
v5.12.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/s.html">s///</a></code> without /e is now better at detecting when it needs to forego
certain optimisations, fixing some buggy cases:</p>
<ul>
<li>
<p>Match variables in certain constructs (<code class="inline">&amp;&amp;</code>, <code class="inline">||</code>, <code class="inline">..</code>
 and others) in
the replacement part; e.g., <code class="inline"><a class="l_k" href="functions/s.html">s/(.)/$l{$a||$1}/g</a></code>.  [perl #26986]</p>
</li>
<li>
<p>Aliases to match variables in the replacement.</p>
</li>
<li>
<p><code class="inline"><span class="i">$REGERROR</span></code>
 or <code class="inline"><span class="i">$REGMARK</span></code>
 in the replacement.  [perl #49190]</p>
</li>
<li>
<p>An empty pattern (<code class="inline"><a class="l_k" href="functions/s.html">s//$foo/</a></code>) that causes the last-successful pattern to
be used, when that pattern contains code blocks that modify the variables
in the replacement.</p>
</li>
</ul>
</li>
<li>
<p>The taintedness of the replacement string no longer affects the taintedness
of the return value of <code class="inline"><a class="l_k" href="functions/s.html">s///e</a></code>.</p>
</li>
<li>
<p>The <code class="inline"><span class="i">$|</span></code>
 autoflush variable is created on-the-fly when needed.  If this
happened (e.g., if it was mentioned in a module or eval) when the
currently-selected filehandle was a typeglob with an empty IO slot, it used
to crash.  [perl #115206]</p>
</li>
<li>
<p>Line numbers at the end of a string eval are no longer off by one.
[perl #114658]</p>
</li>
<li>
<p>@INC filters (subroutines returned by subroutines in @INC) that set $_ to a
copy-on-write scalar no longer cause the parser to modify that string
buffer in place.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/length.html">length($object)</a></code> no longer returns the undefined value if the object has
string overloading that returns undef.  [perl #115260]</p>
</li>
<li>
<p>The use of <code class="inline"><span class="w">PL_stashcache</span></code>
, the stash name lookup cache for method calls, has
been restored,</p>
<p>Commit da6b625f78f5f133 in August 2011 inadvertently broke the code that looks
up values in <code class="inline"><span class="w">PL_stashcache</span></code>
. As it's a only cache, quite correctly everything
carried on working without it.</p>
</li>
<li>
<p>The error "Can't localize through a reference" had disappeared in v5.16.0
when <code class="inline"><a class="l_k" href="functions/local.html">local</a> <span class="i">%$ref</span></code>
 appeared on the last line of an lvalue subroutine.
This error disappeared for <code class="inline">\<a class="l_k" href="functions/local.html">local</a> <span class="i">%$ref</span></code>
 in perl v5.8.1.  It has now
been restored.</p>
</li>
<li>
<p>The parsing of here-docs has been improved significantly, fixing several
parsing bugs and crashes and one memory leak, and correcting wrong
subsequent line numbers under certain conditions.</p>
</li>
<li>
<p>Inside an eval, the error message for an unterminated here-doc no longer
has a newline in the middle of it [perl #70836].</p>
</li>
<li>
<p>A substitution inside a substitution pattern (<code class="inline"><a class="l_k" href="functions/s.html">s/${s|||}//</a></code>) no longer
confuses the parser.</p>
</li>
<li>
<p>It may be an odd place to allow comments, but <code class="inline"><span class="q">s//&quot;&quot; # hello/e</span></code>
 has
always worked, <i>unless</i> there happens to be a null character before the
first #.  Now it works even in the presence of nulls.</p>
</li>
<li>
<p>An invalid range in <code class="inline"><a class="l_k" href="functions/tr.html">tr///</a></code> or <code class="inline"><a class="l_k" href="functions/y.html">y///</a></code> no longer results in a memory leak.</p>
</li>
<li>
<p>String eval no longer treats a semicolon-delimited quote-like operator at
the very end (<code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;q;;&#39;</span></code>
) as a syntax error.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/warn.html">warn</a> <span class="s">{</span><span class="i">$_</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">}</span> + <span class="n">1</span></code>
 is no longer a syntax error.  The parser used to
get confused with certain list operators followed by an anonymous hash and
then an infix operator that shares its form with a unary operator.</p>
</li>
<li>
<p><code class="inline"><span class="s">(</span><a class="l_k" href="functions/caller.html">caller</a> <span class="i">$n</span><span class="s">)</span>[<span class="n">6</span>]</code>
 (which gives the text of the eval) used to return the
actual parser buffer.  Modifying it could result in crashes.  Now it always
returns a copy.  The string returned no longer has "\n;" tacked on to the
end.  The returned text also includes here-doc bodies, which used to be
omitted.</p>
</li>
<li>
<p>The UTF-8 position cache is now reset when accessing magical variables, to
avoid the string buffer and the UTF-8 position cache getting out of sync
[perl #114410].</p>
</li>
<li>
<p>Various cases of get magic being called twice for magical UTF-8
strings have been fixed.</p>
</li>
<li>
<p>This code (when not in the presence of <code class="inline"><span class="i">$&amp;</span></code>
 etc)</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> = <span class="q">&#39;x&#39;</span> x <span class="n">1_000_000</span><span class="sc">;</span></li><li>    <span class="n">1</span> <a class="l_k" href="functions/while.html">while</a> <span class="q">/(.)/</span><span class="sc">;</span></li></ol></pre><p>used to skip the buffer copy for performance reasons, but suffered from <code class="inline"><span class="i">$1</span></code>

etc changing if the original string changed.  That's now been fixed.</p>
</li>
<li>
<p>Perl doesn't use PerlIO anymore to report out of memory messages, as PerlIO
might attempt to allocate more memory.</p>
</li>
<li>
<p>In a regular expression, if something is quantified with <code class="inline">{n,m}</code> where
<code class="inline"><span class="w">n</span> &gt; <span class="q">m</span></code>
, it can't possibly match.  Previously this was a fatal
error, but now is merely a warning (and that something won't match).
[perl #82954].</p>
</li>
<li>
<p>It used to be possible for formats defined in subroutines that have
subsequently been undefined and redefined to close over variables in the
wrong pad (the newly-defined enclosing sub), resulting in crashes or
"Bizarre copy" errors.</p>
</li>
<li>
<p>Redefinition of XSUBs at run time could produce warnings with the wrong
line number.</p>
</li>
<li>
<p>The %vd sprintf format does not support version objects for alpha versions.
It used to output the format itself (%vd) when passed an alpha version, and
also emit an "Invalid conversion in printf" warning.  It no longer does,
but produces the empty string in the output.  It also no longer leaks
memory in this case.</p>
</li>
<li>
<p><code class="inline"><span class="i">$obj</span><span class="i">-&gt;SUPER::method</span></code>
 calls in the main package could fail if the
SUPER package had already been accessed by other means.</p>
</li>
<li>
<p>Stash aliasing (<code class="inline"><span class="i">*foo::</span> = <span class="i">*bar::</span></code>
) no longer causes SUPER calls to ignore
changes to methods or @ISA or use the wrong package.</p>
</li>
<li>
<p>Method calls on packages whose names end in ::SUPER are no longer treated
as SUPER method calls, resulting in failure to find the method.
Furthermore, defining subroutines in such packages no longer causes them to
be found by SUPER method calls on the containing package [perl #114924].</p>
</li>
<li>
<p><code class="inline">\<span class="w">w</span></code>
 now matches the code points U+200C (ZERO WIDTH NON-JOINER) and U+200D
(ZERO WIDTH JOINER).  <code class="inline">\<span class="w">W</span></code>
 no longer matches these.  This change is because
Unicode corrected their definition of what <code class="inline">\<span class="w">w</span></code>
 should match.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/dump.html">dump</a> <span class="w">LABEL</span></code>
 no longer leaks its label.</p>
</li>
<li>
<p>Constant folding no longer changes the behaviour of functions like <code class="inline"><a class="l_k" href="functions/stat.html">stat()</a></code>
and <code class="inline"><a class="l_k" href="functions/truncate.html">truncate()</a></code> that can take either filenames or handles.
<code class="inline"><a class="l_k" href="functions/stat.html">stat</a> <span class="n">1</span> ? <span class="w">foo</span> <span class="co">:</span> <span class="w">bar</span></code>
 nows treats its argument as a file name (since it is an
arbitrary expression), rather than the handle "foo".</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/truncate.html">truncate</a> <span class="w">FOO</span><span class="cm">,</span> <span class="i">$len</span></code>
 no longer falls back to treating "FOO" as a file name if
the filehandle has been deleted.  This was broken in Perl v5.16.0.</p>
</li>
<li>
<p>Subroutine redefinitions after sub-to-glob and glob-to-glob assignments no
longer cause double frees or panic messages.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/s.html">s///</a></code> now turns vstrings into plain strings when performing a substitution,
even if the resulting string is the same (<code class="inline"><a class="l_k" href="functions/s.html">s/a/a/</a></code>).</p>
</li>
<li>
<p>Prototype mismatch warnings no longer erroneously treat constant subs as having
no prototype when they actually have "".</p>
</li>
<li>
<p>Constant subroutines and forward declarations no longer prevent prototype
mismatch warnings from omitting the sub name.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> on a subroutine now clears call checkers.</p>
</li>
<li>
<p>The <code class="inline"><a class="l_k" href="functions/ref.html">ref</a></code> operator started leaking memory on blessed objects in Perl v5.16.0.
This has been fixed [perl #114340].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/use.html">use</a></code> no longer tries to parse its arguments as a statement, making
<code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="i">constant</span> <span class="s">{</span> <span class="s">(</span><span class="s">)</span> <span class="s">}</span><span class="sc">;</span></code>
 a syntax error [perl #114222].</p>
</li>
<li>
<p>On debugging builds, "uninitialized" warnings inside formats no longer cause
assertion failures.</p>
</li>
<li>
<p>On debugging builds, subroutines nested inside formats no longer cause
assertion failures [perl #78550].</p>
</li>
<li>
<p>Formats and <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> statements are now permitted inside formats.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/print.html">print</a> <span class="i">$x</span></code>
 and <code class="inline"><a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="i">$x</span> <span class="s">}</span>-&gt;<span class="s">(</span><span class="s">)</span></code>
 now always produce the same output.
It was possible for the latter to refuse to close over $x if the variable was
not active; e.g., if it was defined outside a currently-running named
subroutine.</p>
</li>
<li>
<p>Similarly, <code class="inline"><a class="l_k" href="functions/print.html">print</a> <span class="i">$x</span></code>
 and <code class="inline"><a class="l_k" href="functions/print.html">print</a> <a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;$x&#39;</span></code>
 now produce the same output.
This also allows "my $x if 0" variables to be seen in the debugger [perl
#114018].</p>
</li>
<li>
<p>Formats called recursively no longer stomp on their own lexical variables, but
each recursive call has its own set of lexicals.</p>
</li>
<li>
<p>Attempting to free an active format or the handle associated with it no longer
results in a crash.</p>
</li>
<li>
<p>Format parsing no longer gets confused by braces, semicolons and low-precedence
operators.  It used to be possible to use braces as format delimiters (instead
of <code class="inline">=</code>
 and <code class="inline">.</code>), but only sometimes.  Semicolons and low-precedence operators
in format argument lines no longer confuse the parser into ignoring the line's
return value.  In format argument lines, braces can now be used for anonymous
hashes, instead of being treated always as <code class="inline"><a class="l_k" href="functions/do.html">do</a></code> blocks.</p>
</li>
<li>
<p>Formats can now be nested inside code blocks in regular expressions and other
quoted constructs (<code class="inline"><span class="q">/(?{...})/</span></code>
 and <code class="inline"><a class="l_k" href="functions/qq.html">qq/${...}/</a></code>) [perl #114040].</p>
</li>
<li>
<p>Formats are no longer created after compilation errors.</p>
</li>
<li>
<p>Under debugging builds, the <b>-DA</b> command line option started crashing in Perl
v5.16.0.  It has been fixed [perl #114368].</p>
</li>
<li>
<p>A potential deadlock scenario involving the premature termination of a pseudo-
forked child in a Windows build with ithreads enabled has been fixed.  This
resolves the common problem of the <i>t/op/fork.t</i> test hanging on Windows [perl
#88840].</p>
</li>
<li>
<p>The code which generates errors from <code class="inline"><a class="l_k" href="functions/require.html">require()</a></code> could potentially read one or
two bytes before the start of the filename for filenames less than three bytes
long and ending <code class="inline"><span class="q">/\.p?\z/</span></code>
.  This has now been fixed.  Note that it could
never have happened with module names given to <code class="inline"><a class="l_k" href="functions/use.html">use()</a></code> or <code class="inline"><a class="l_k" href="functions/require.html">require()</a></code> anyway.</p>
</li>
<li>
<p>The handling of pathnames of modules given to <code class="inline"><a class="l_k" href="functions/require.html">require()</a></code> has been made
thread-safe on VMS.</p>
</li>
<li>
<p>Non-blocking sockets have been fixed on VMS.</p>
</li>
<li>
<p>Pod can now be nested in code inside a quoted construct outside of a string
eval.  This used to work only within string evals [perl #114040].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/goto.html">goto</a> <span class="q">&#39;&#39;</span></code>
 now looks for an empty label, producing the "goto must have
label" error message, instead of exiting the program [perl #111794].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/goto.html">goto</a> <span class="q">&quot;\0&quot;</span></code>
 now dies with "Can't find label" instead of "goto must have
label".</p>
</li>
<li>
<p>The C function <code class="inline"><span class="w">hv_store</span></code>
 used to result in crashes when used on <code class="inline"><span class="i">%^H</span></code>

[perl #111000].</p>
</li>
<li>
<p>A call checker attached to a closure prototype via <code class="inline"><span class="w">cv_set_call_checker</span></code>

is now copied to closures cloned from it.  So <code class="inline"><span class="w">cv_set_call_checker</span></code>
 now
works inside an attribute handler for a closure.</p>
</li>
<li>
<p>Writing to <code class="inline"><span class="i">$^N</span></code>
 used to have no effect.  Now it croaks with "Modification
of a read-only value" by default, but that can be overridden by a custom
regular expression engine, as with <code class="inline"><span class="i">$1</span></code>
 [perl #112184].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> on a control character glob (<code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">*^H</span></code>
) no longer emits an
erroneous warning about ambiguity [perl #112456].</p>
</li>
<li>
<p>For efficiency's sake, many operators and built-in functions return the
same scalar each time.  Lvalue subroutines and subroutines in the CORE::
namespace were allowing this implementation detail to leak through.
<code class="inline"><a class="l_k" href="functions/print.html">print</a> <span class="i">&amp;CORE::uc</span><span class="s">(</span><span class="q">&quot;a&quot;</span><span class="s">)</span><span class="cm">,</span> <span class="i">&amp;CORE::uc</span><span class="s">(</span><span class="q">&quot;b&quot;</span><span class="s">)</span></code>
 used to print "BB".  The same thing
would happen with an lvalue subroutine returning the return value of <code class="inline"><a class="l_k" href="functions/uc.html">uc</a></code>.
Now the value is copied in such cases.</p>
</li>
<li>
<p><code class="inline"><span class="w">method</span> <span class="s">{</span><span class="s">}</span></code>
 syntax with an empty block or a block returning an empty list
used to crash or use some random value left on the stack as its invocant.
Now it produces an error.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/vec.html">vec</a></code> now works with extremely large offsets (&gt;2 GB) [perl #111730].</p>
</li>
<li>
<p>Changes to overload settings now take effect immediately, as do changes to
inheritance that affect overloading.  They used to take effect only after
<code class="inline"><a class="l_k" href="functions/bless.html">bless</a></code>.</p>
<p>Objects that were created before a class had any overloading used to remain
non-overloaded even if the class gained overloading through <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">overload</span></code>

or @ISA changes, and even after <code class="inline"><a class="l_k" href="functions/bless.html">bless</a></code>.  This has been fixed
[perl #112708].</p>
</li>
<li>
<p>Classes with overloading can now inherit fallback values.</p>
</li>
<li>
<p>Overloading was not respecting a fallback value of 0 if there were
overloaded objects on both sides of an assignment operator like <code class="inline">+=</code>

[perl #111856].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/pos.html">pos</a></code> now croaks with hash and array arguments, instead of producing
erroneous warnings.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/while.html">while</a><span class="s">(</span><a class="l_k" href="functions/each.html">each</a> <span class="i">%h</span><span class="s">)</span></code>
 now implies <code class="inline"><a class="l_k" href="functions/while.html">while</a><span class="s">(</span><a class="l_k" href="functions/defined.html">defined</a><span class="s">(</span><span class="i">$_</span> = <a class="l_k" href="functions/each.html">each</a> <span class="i">%h</span><span class="s">)</span><span class="s">)</span></code>
, like
<code class="inline"><a class="l_k" href="functions/readline.html">readline</a></code> and <code class="inline"><a class="l_k" href="functions/readdir.html">readdir</a></code>.</p>
</li>
<li>
<p>Subs in the CORE:: namespace no longer crash after <code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">*_</span></code>
 when called
with no argument list (<code class="inline"><span class="i">&amp;CORE::time</span></code>
 with no parentheses).</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/unpack.html">unpack</a></code> no longer produces the "'/' must follow a numeric type in unpack"
error when it is the data that are at fault [perl #60204].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/join.html">join</a></code> and <code class="inline"><span class="q">&quot;@array&quot;</span></code>
 now call FETCH only once on a tied <code class="inline"><span class="i">$&quot;</span></code>

[perl #8931].</p>
</li>
<li>
<p>Some subroutine calls generated by compiling core ops affected by a
<code class="inline"><span class="w">CORE::GLOBAL</span></code>
 override had op checking performed twice.  The checking
is always idempotent for pure Perl code, but the double checking can
matter when custom call checkers are involved.</p>
</li>
<li>
<p>A race condition used to exist around fork that could cause a signal sent to
the parent to be handled by both parent and child. Signals are now blocked
briefly around fork to prevent this from happening [perl #82580].</p>
</li>
<li>
<p>The implementation of code blocks in regular expressions, such as <code class="inline">(?{})</code>
and <code class="inline"><span class="s">(</span><span class="q">??</span><span class="s">{</span><span class="s">}</span><span class="s">)</span></code>
, has been heavily reworked to eliminate a whole slew of bugs.
The main user-visible changes are:</p>
<ul>
<li>
<p>Code blocks within patterns are now parsed in the same pass as the
surrounding code; in particular it is no longer necessary to have balanced
braces: this now works:</p>
<pre class="verbatim"><ol><li>    <span class="q">/(?{  $x=&#39;{&#39;  })/</span></li></ol></pre><p>This means that this error message is no longer generated:</p>
<pre class="verbatim"><ol><li>    <span class="w">Sequence</span> <span class="s">(</span><span class="q">?{...}) not terminated or not {}-balanced in regex</span></li></ol></pre><p>but a new error may be seen:</p>
<pre class="verbatim"><ol><li>    <span class="w">Sequence</span> <span class="s">(</span><span class="q">?{...}) not terminated with &#39;)&#39;</span></li></ol></pre><p>In addition, literal code blocks within run-time patterns are only
compiled once, at perl compile-time:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/for.html">for</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$p</span> <span class="s">(</span>...<span class="s">)</span> <span class="s">{</span></li><li>        <span class="c"># this &#39;FOO&#39; block of code is compiled once,</span></li><li>	<span class="c"># at the same time as the surrounding &#39;for&#39; loop</span></li><li>        <span class="q">/$p{(?{FOO;})/</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre></li>
<li>
<p>Lexical variables are now sane as regards scope, recursion and closure
behavior. In particular, <code class="inline"><span class="q">/A(?{B})C/</span></code>
 behaves (from a closure viewpoint)
exactly like <code class="inline"><span class="q">/A/</span> &amp;&amp; <a class="l_k" href="functions/do.html">do</a> <span class="s">{</span> <span class="w">B</span> <span class="s">}</span> &amp;&amp; <span class="q">/C/</span></code>
, while  <code class="inline"><a class="l_k" href="functions/qr.html">qr/A(?{B})C/</a></code> is like
<code class="inline"><a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span><span class="q">/A/</span> &amp;&amp; <a class="l_k" href="functions/do.html">do</a> <span class="s">{</span> <span class="w">B</span> <span class="s">}</span> &amp;&amp; <span class="q">/C/</span><span class="s">}</span></code>
. So this code now works how you might
expect, creating three regexes that match 0, 1, and 2:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/for.html">for</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$i</span> <span class="s">(</span><span class="n">0</span>..<span class="n">2</span><span class="s">)</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/push.html">push</a> <span class="i">@r</span><span class="cm">,</span> <span class="q">qr/^(??{$i})$/</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li>    <span class="q">&quot;1&quot;</span> =~ <span class="i">$r</span>[<span class="n">1</span>]<span class="sc">;</span> <span class="c"># matches</span></li></ol></pre></li>
<li>
<p>The <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;eval&#39;</span></code>
 pragma is now only required for code blocks defined
at runtime; in particular in the following, the text of the <code class="inline"><span class="i">$r</span></code>
 pattern is
still interpolated into the new pattern and recompiled, but the individual
compiled code-blocks within <code class="inline"><span class="i">$r</span></code>
 are reused rather than being recompiled,
and <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;eval&#39;</span></code>
 isn't needed any more:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$r</span> = <span class="q">qr/abc(?{....})def/</span><span class="sc">;</span></li><li>    <span class="q">/xyz$r/</span><span class="sc">;</span></li></ol></pre></li>
<li>
<p>Flow control operators no longer crash. Each code block runs in a new
dynamic scope, so <code class="inline"><a class="l_k" href="functions/next.html">next</a></code> etc. will not see
any enclosing loops. <code class="inline"><a class="l_k" href="functions/return.html">return</a></code> returns a value
from the code block, not from any enclosing subroutine.</p>
</li>
<li>
<p>Perl normally caches the compilation of run-time patterns, and doesn't
recompile if the pattern hasn't changed, but this is now disabled if
required for the correct behavior of closures. For example:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$code</span> = <span class="q">&#39;(??{$x})&#39;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/for.html">for</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span> <span class="s">(</span><span class="n">1</span>..<span class="n">3</span><span class="s">)</span> <span class="s">{</span></li><li>	<span class="c"># recompile to see fresh value of $x each time</span></li><li>        <span class="i">$x</span> =~ <span class="q">/$code/</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre></li>
<li>
<p>The <code class="inline"><span class="q">/msix</span></code>
 and <code class="inline"><span class="s">(</span><span class="q">?msix)</span></code>
 etc. flags are now propagated into the return
value from <code class="inline"><span class="s">(</span><span class="q">??</span><span class="s">{</span><span class="s">}</span><span class="s">)</span></code>
; this now works:</p>
<pre class="verbatim"><ol><li>    <span class="q">&quot;AB&quot;</span> =~ <span class="q">/a(??{&#39;b&#39;})/i</span><span class="sc">;</span></li></ol></pre></li>
<li>
<p>Warnings and errors will appear to come from the surrounding code (or for
run-time code blocks, from an eval) rather than from an <code class="inline"><span class="w">re_eval</span></code>
:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;eval&#39;</span><span class="sc">;</span> <span class="i">$c</span> = <span class="q">&#39;(?{ warn &quot;foo&quot; })&#39;</span><span class="sc">;</span> <span class="q">/$c/</span><span class="sc">;</span></li><li>    <span class="q">/(?{ warn &quot;foo&quot; })/</span><span class="sc">;</span></li></ol></pre><p>formerly gave:</p>
<pre class="verbatim"><ol><li>    <span class="w">foo</span> <span class="w">at</span> <span class="s">(</span><span class="w">re_eval</span> <span class="n">1</span><span class="s">)</span> <span class="w">line</span> <span class="n">1.</span></li><li>    <span class="w">foo</span> <span class="w">at</span> <span class="s">(</span><span class="w">re_eval</span> <span class="n">2</span><span class="s">)</span> <span class="w">line</span> <span class="n">1.</span></li></ol></pre><p>and now gives:</p>
<pre class="verbatim"><ol><li>    <span class="w">foo</span> <span class="w">at</span> <span class="s">(</span><a class="l_k" href="functions/eval.html">eval</a> <span class="n">1</span><span class="s">)</span> <span class="w">line</span> <span class="n">1.</span></li><li>    <span class="w">foo</span> <span class="w">at</span> /<span class="w">some</span>/<span class="w">prog</span> <span class="w">line</span> <span class="n">2.</span></li></ol></pre></li>
</ul>
</li>
<li>
<p>Perl now can be recompiled to use any Unicode version.  In v5.16, it
worked on Unicodes 6.0 and 6.1, but there were various bugs if earlier
releases were used; the older the release the more problems.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/vec.html">vec</a></code> no longer produces "uninitialized" warnings in lvalue context
[perl #9423].</p>
</li>
<li>
<p>An optimization involving fixed strings in regular expressions could cause
a severe performance penalty in edge cases.  This has been fixed
[perl #76546].</p>
</li>
<li>
<p>In certain cases, including empty subpatterns within a regular expression (such
as <code class="inline">(?:)</code> or <code class="inline"><span class="s">(</span><span class="q">?:|)</span></code>
) could disable some optimizations. This has been fixed.</p>
</li>
<li>
<p>The "Can't find an opnumber" message that <code class="inline"><a class="l_k" href="functions/prototype.html">prototype</a></code> produces when passed
a string like "CORE::nonexistent_keyword" now passes UTF-8 and embedded
NULs through unchanged [perl #97478].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/prototype.html">prototype</a></code> now treats magical variables like <code class="inline"><span class="i">$1</span></code>
 the same way as
non-magical variables when checking for the CORE:: prefix, instead of
treating them as subroutine names.</p>
</li>
<li>
<p>Under threaded perls, a runtime code block in a regular expression could
corrupt the package name stored in the op tree, resulting in bad reads
in <code class="inline"><a class="l_k" href="functions/caller.html">caller</a></code>, and possibly crashes [perl #113060].</p>
</li>
<li>
<p>Referencing a closure prototype (<code class="inline">\<span class="i">&amp;</span>{<span class="i">$_</span>[<span class="n">1</span>]}</code>
 in an attribute handler for a
closure) no longer results in a copy of the subroutine (or assertion
failures on debugging builds).</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;__PACKAGE__&#39;</span></code>
 now returns the right answer on threaded builds if
the current package has been assigned over (as in
<code class="inline"><span class="i">*ThisPackage::</span> = <span class="i">*ThatPackage::</span></code>
) [perl #78742].</p>
</li>
<li>
<p>If a package is deleted by code that it calls, it is possible for <code class="inline"><a class="l_k" href="functions/caller.html">caller</a></code>
to see a stack frame belonging to that deleted package.  <code class="inline"><a class="l_k" href="functions/caller.html">caller</a></code> could
crash if the stash's memory address was reused for a scalar and a
substitution was performed on the same scalar [perl #113486].</p>
</li>
<li>
<p><code class="inline"><span class="w">UNIVERSAL::can</span></code>
 no longer treats its first argument differently
depending on whether it is a string or number internally.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/open.html">open</a></code> with <code class="inline">&lt;<span class="i">&amp;</span></code>
 for the mode checks to see whether the third argument is
a number, in determining whether to treat it as a file descriptor or a handle
name.  Magical variables like <code class="inline"><span class="i">$1</span></code>
 were always failing the numeric check and
being treated as handle names.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/warn.html">warn</a></code>'s handling of magical variables (<code class="inline"><span class="i">$1</span></code>
, ties) has undergone several
fixes.  <code class="inline"><span class="w">FETCH</span></code>
 is only called once now on a tied argument or a tied <code class="inline"><span class="i">$@</span></code>

[perl #97480].  Tied variables returning objects that stringify as "" are
no longer ignored.  A tied <code class="inline"><span class="i">$@</span></code>
 that happened to return a reference the
<i>previous</i> time it was used is no longer ignored.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/warn.html">warn</a> <span class="q">&quot;&quot;</span></code>
 now treats <code class="inline"><span class="i">$@</span></code>
 with a number in it the same way, regardless of
whether it happened via <code class="inline"><span class="i">$@</span>=<span class="n">3</span></code>
 or <code class="inline"><span class="i">$@</span>=<span class="q">&quot;3&quot;</span></code>
.  It used to ignore the
former.  Now it appends "\t...caught", as it has always done with
<code class="inline"><span class="i">$@</span>=<span class="q">&quot;3&quot;</span></code>
.</p>
</li>
<li>
<p>Numeric operators on magical variables (e.g., <code class="inline"><span class="i">$1</span> + <span class="n">1</span></code>
) used to use
floating point operations even where integer operations were more appropriate,
resulting in loss of accuracy on 64-bit platforms [perl #109542].</p>
</li>
<li>
<p>Unary negation no longer treats a string as a number if the string happened
to be used as a number at some point.  So, if <code class="inline"><span class="i">$x</span></code>
 contains the string "dogs",
<code class="inline">-<span class="i">$x</span></code>
 returns "-dogs" even if <code class="inline"><span class="i">$y</span>=<span class="n">0</span>+<span class="i">$x</span></code>
 has happened at some point.</p>
</li>
<li>
<p>In Perl v5.14, <code class="inline">-<span class="q">&#39;-10&#39;</span></code>
 was fixed to return "10", not "+10".  But magical
variables (<code class="inline"><span class="i">$1</span></code>
, ties) were not fixed till now [perl #57706].</p>
</li>
<li>
<p>Unary negation now treats strings consistently, regardless of the internal
<code class="inline"><span class="w">UTF8</span></code>
 flag.</p>
</li>
<li>
<p>A regression introduced in Perl v5.16.0 involving
<code class="inline">tr/<i>SEARCHLIST</i>/<i>REPLACEMENTLIST</i>/</code> has been fixed.  Only the first
instance is supposed to be meaningful if a character appears more than
once in <code class="inline"><i>SEARCHLIST</i></code>.  Under some circumstances, the final instance
was overriding all earlier ones.  [perl #113584]</p>
</li>
<li>
<p>Regular expressions like <code class="inline"><a class="l_k" href="functions/qr.html">qr/\87/</a></code> previously silently inserted a NUL
character, thus matching as if it had been written <code class="inline"><a class="l_k" href="functions/qr.html">qr/\00087/</a></code>.  Now it
matches as if it had been written as <code class="inline"><a class="l_k" href="functions/qr.html">qr/87/</a></code>, with a message that the
sequence <code class="inline"><span class="q">&quot;\8&quot;</span></code>
 is unrecognized.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/__SUB__.html">__SUB__</a></code> now works in special blocks (<code class="inline">BEGIN</code>
, <code class="inline">END</code>
, etc.).</p>
</li>
<li>
<p>Thread creation on Windows could theoretically result in a crash if done
inside a <code class="inline">BEGIN</code>
 block.  It still does not work properly, but it no longer
crashes [perl #111610].</p>
</li>
<li>
<p><code class="inline">\<span class="i">&amp;</span>{<span class="q">&#39;&#39;</span>}</code>
 (with the empty string) now autovivifies a stub like any other
sub name, and no longer produces the "Unable to create sub" error
[perl #94476].</p>
</li>
<li>
<p>A regression introduced in v5.14.0 has been fixed, in which some calls
to the <code class="inline"><span class="w">re</span></code>
 module would clobber <code class="inline"><span class="i">$_</span></code>
 [perl #113750].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/do.html">do</a> <span class="w">FILE</span></code>
 now always either sets or clears <code class="inline"><span class="i">$@</span></code>
, even when the file can't be
read. This ensures that testing <code class="inline"><span class="i">$@</span></code>
 first (as recommended by the
documentation) always returns the correct result.</p>
</li>
<li>
<p>The array iterator used for the <code class="inline"><a class="l_k" href="functions/each.html">each</a> <span class="i">@array</span></code>
 construct is now correctly
reset when <code class="inline"><span class="i">@array</span></code>
 is cleared [perl #75596]. This happens, for example, when
the array is globally assigned to, as in <code class="inline"><span class="i">@array</span> = <span class="s">(</span>...<span class="s">)</span></code>
, but not when its
<b>values</b> are assigned to. In terms of the XS API, it means that <code class="inline"><span class="i">av_clear</span><span class="s">(</span><span class="s">)</span></code>

will now reset the iterator.</p>
<p>This mirrors the behaviour of the hash iterator when the hash is cleared.</p>
</li>
<li>
<p><code class="inline"><span class="i">$class</span><span class="i">-&gt;can</span></code>
, <code class="inline"><span class="i">$class</span><span class="i">-&gt;isa</span></code>
, and <code class="inline"><span class="i">$class</span><span class="i">-&gt;DOES</span></code>
 now return
correct results, regardless of whether that package referred to by <code class="inline"><span class="i">$class</span></code>

exists [perl #47113].</p>
</li>
<li>
<p>Arriving signals no longer clear <code class="inline"><span class="i">$@</span></code>
 [perl #45173].</p>
</li>
<li>
<p>Allow <code class="inline"><a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="s">)</span></code>
 declarations with an empty variable list [perl #113554].</p>
</li>
<li>
<p>During parsing, subs declared after errors no longer leave stubs
[perl #113712].</p>
</li>
<li>
<p>Closures containing no string evals no longer hang on to their containing
subroutines, allowing variables closed over by outer subroutines to be
freed when the outer sub is freed, even if the inner sub still exists
[perl #89544].</p>
</li>
<li>
<p>Duplication of in-memory filehandles by opening with a "&lt;&amp;=" or "&gt;&amp;=" mode
stopped working properly in v5.16.0.  It was causing the new handle to
reference a different scalar variable.  This has been fixed [perl #113764].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/qr.html">qr//</a></code> expressions no longer crash with custom regular expression engines
that do not set <code class="inline"><span class="w">offs</span></code>
 at regular expression compilation time
[perl #112962].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/delete.html">delete</a> <a class="l_k" href="functions/local.html">local</a></code>
 no longer crashes with certain magical arrays and hashes
[perl #112966].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/local.html">local</a></code> on elements of certain magical arrays and hashes used not to
arrange to have the element deleted on scope exit, even if the element did
not exist before <code class="inline"><a class="l_k" href="functions/local.html">local</a></code>.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/scalar.html">scalar(write)</a></code> no longer returns multiple items [perl #73690].</p>
</li>
<li>
<p>String to floating point conversions no longer misparse certain strings under
<code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 [perl #109318].</p>
</li>
<li>
<p><code class="inline"><span class="i">@INC</span></code>
 filters that die no longer leak memory [perl #92252].</p>
</li>
<li>
<p>The implementations of overloaded operations are now called in the correct
context. This allows, among other things, being able to properly override
<code class="inline">&lt;&gt;</code>
 [perl #47119].</p>
</li>
<li>
<p>Specifying only the <code class="inline"><span class="w">fallback</span></code>
 key when calling <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">overload</span></code>
 now behaves
properly [perl #113010].</p>
</li>
<li>
<p><code class="inline"><a name="foo"></a>sub <span class="m">foo</span> <span class="s">{</span> <a class="l_k" href="functions/my.html">my</a> <span class="i">$a</span> = <span class="n">0</span><span class="sc">;</span> <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="i">$a</span><span class="s">)</span> <span class="s">{</span> ... <span class="s">}</span> <span class="s">}</span></code>
 and
<code class="inline"><a name="foo"></a>sub <span class="m">foo</span> <span class="s">{</span> <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="n">0</span><span class="s">)</span> <span class="s">{</span> ... <span class="s">}</span> <span class="s">}</span></code>
 now return the same thing [perl #73618].</p>
</li>
<li>
<p>String negation now behaves the same under <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">integer</span><span class="sc">;</span></code>
 as it does
without [perl #113012].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/chr.html">chr</a></code> now returns the Unicode replacement character (U+FFFD) for -1,
regardless of the internal representation.  -1 used to wrap if the argument
was tied or a string internally.</p>
</li>
<li>
<p>Using a <code class="inline"><a class="l_k" href="functions/format.html">format</a></code> after its enclosing sub was freed could crash as of
perl v5.12.0, if the format referenced lexical variables from the outer sub.</p>
</li>
<li>
<p>Using a <code class="inline"><a class="l_k" href="functions/format.html">format</a></code> after its enclosing sub was undefined could crash as of
perl v5.10.0, if the format referenced lexical variables from the outer sub.</p>
</li>
<li>
<p>Using a <code class="inline"><a class="l_k" href="functions/format.html">format</a></code> defined inside a closure, which format references
lexical variables from outside, never really worked unless the <code class="inline"><a class="l_k" href="functions/write.html">write</a></code>
call was directly inside the closure.  In v5.10.0 it even started crashing.
Now the copy of that closure nearest the top of the call stack is used to
find those variables.</p>
</li>
<li>
<p>Formats that close over variables in special blocks no longer crash if a
stub exists with the same name as the special block before the special
block is compiled.</p>
</li>
<li>
<p>The parser no longer gets confused, treating <code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="w">foo</span> <span class="s">(</span><span class="s">)</span></code>
 as a syntax
error if preceded by <code class="inline"><a class="l_k" href="functions/print.html">print;</a></code> [perl #16249].</p>
</li>
<li>
<p>The return value of <code class="inline"><a class="l_k" href="functions/syscall.html">syscall</a></code> is no longer truncated on 64-bit platforms
[perl #113980].</p>
</li>
<li>
<p>Constant folding no longer causes <code class="inline"><a class="l_k" href="functions/print.html">print</a> <span class="n">1</span> ? <span class="w">FOO</span> <span class="co">:</span> <span class="w">BAR</span></code>
 to print to the
FOO handle [perl #78064].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/do.html">do</a> <span class="w">subname</span></code>
 now calls the named subroutine and uses the file name it
returns, instead of opening a file named "subname".</p>
</li>
<li>
<p>Subroutines looked up by rv2cv check hooks (registered by XS modules) are
now taken into consideration when determining whether <code class="inline"><span class="w">foo</span> <span class="w">bar</span></code>
 should be
the sub call <code class="inline"><span class="i">foo</span><span class="s">(</span><span class="w">bar</span><span class="s">)</span></code>
 or the method call <code class="inline"><span class="q">&quot;bar&quot;</span><span class="i">-&gt;foo</span></code>
.</p>
</li>
<li>
<p><code class="inline"><span class="w">CORE::foo::bar</span></code>
 is no longer treated specially, allowing global overrides
to be called directly via <code class="inline"><span class="i">CORE::GLOBAL::uc</span><span class="s">(</span>...<span class="s">)</span></code>
 [perl #113016].</p>
</li>
<li>
<p>Calling an undefined sub whose typeglob has been undefined now produces the
customary "Undefined subroutine called" error, instead of "Not a CODE
reference".</p>
</li>
<li>
<p>Two bugs involving @ISA have been fixed.  <code class="inline"><span class="i">*ISA</span> = <span class="i">*glob_without_array</span></code>
 and
<code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">*ISA</span><span class="sc">;</span> <span class="i">@</span>{<span class="i">*ISA</span>}</code>
 would prevent future modifications to @ISA from
updating the internal caches used to look up methods.  The
*glob_without_array case was a regression from Perl v5.12.</p>
</li>
<li>
<p>Regular expression optimisations sometimes caused <code class="inline"><span class="i">$</span></code>
 with <code class="inline">/m</code> to
produce failed or incorrect matches [perl #114068].</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/__SUB__.html">__SUB__</a></code> now works in a <code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code> block when the enclosing subroutine is
predeclared with <code class="inline">sub <span class="m">foo</span><span class="sc">;</span></code>
 syntax [perl #113710].</p>
</li>
<li>
<p>Unicode properties only apply to Unicode code points, which leads to
some subtleties when regular expressions are matched against
above-Unicode code points.  There is a warning generated to draw your
attention to this.  However, this warning was being generated
inappropriately in some cases, such as when a program was being parsed.
Non-Unicode matches such as <code class="inline">\<span class="w">w</span></code>
 and <code class="inline">[:word:]</code> should not generate the
warning, as their definitions don't limit them to apply to only Unicode
code points.  Now the message is only generated when matching against
<code class="inline">\<span class="w">p</span><span class="s">{</span><span class="s">}</span></code>
 and <code class="inline">\<span class="w">P</span><span class="s">{</span><span class="s">}</span></code>
.  There remains a bug, [perl #114148], for the very
few properties in Unicode that match just a single code point.  The
warning is not generated if they are matched against an above-Unicode
code point.</p>
</li>
<li>
<p>Uninitialized warnings mentioning hash elements would only mention the
element name if it was not in the first bucket of the hash, due to an
off-by-one error.</p>
</li>
<li>
<p>A regular expression optimizer bug could cause multiline "^" to behave
incorrectly in the presence of line breaks, such that
<code class="inline"><span class="q">&quot;/\n\n&quot;</span> =~ <span class="q">m#\A(?:^/$)#im</span></code>
 would not match [perl #115242].</p>
</li>
<li>
<p>Failed <code class="inline"><a class="l_k" href="functions/fork.html">fork</a></code> in list context no longer corrupts the stack.
<code class="inline"><span class="i">@a</span> = <span class="s">(</span><span class="n">1</span><span class="cm">,</span> <span class="n">2</span><span class="cm">,</span> <a class="l_k" href="functions/fork.html">fork</a><span class="cm">,</span> <span class="n">3</span><span class="s">)</span></code>
 used to gobble up the 2 and assign <code class="inline"><span class="s">(</span><span class="n">1</span><span class="cm">,</span> <a class="l_k" href="functions/undef.html">undef</a><span class="cm">,</span> <span class="n">3</span><span class="s">)</span></code>

if the <code class="inline"><a class="l_k" href="functions/fork.html">fork</a></code> call failed.</p>
</li>
<li>
<p>Numerous memory leaks have been fixed, mostly involving tied variables that
die, regular expression character classes and code blocks, and syntax
errors.</p>
</li>
<li>
<p>Assigning a regular expression (<code class="inline"><span class="i">$</span>{<span class="q">qr//</span>}</code>
) to a variable that happens to
hold a floating point number no longer causes assertion failures on
debugging builds.</p>
</li>
<li>
<p>Assigning a regular expression to a scalar containing a number no longer
causes subsequent numification to produce random numbers.</p>
</li>
<li>
<p>Assigning a regular expression to a magic variable no longer wipes away the
magic.  This was a regression from v5.10.</p>
</li>
<li>
<p>Assigning a regular expression to a blessed scalar no longer results in
crashes.  This was also a regression from v5.10.</p>
</li>
<li>
<p>Regular expression can now be assigned to tied hash and array elements with
flattening into strings.</p>
</li>
<li>
<p>Numifying a regular expression no longer results in an uninitialized
warning.</p>
</li>
<li>
<p>Negative array indices no longer cause EXISTS methods of tied variables to
be ignored.  This was a regression from v5.12.</p>
</li>
<li>
<p>Negative array indices no longer result in crashes on arrays tied to
non-objects.</p>
</li>
<li>
<p><code class="inline"><span class="i">$byte_overload</span> .= <span class="i">$utf8</span></code>
 no longer results in doubly-encoded UTF-8 if the
left-hand scalar happened to have produced a UTF-8 string the last time
overloading was invoked.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/goto.html">goto</a> <span class="i">&amp;sub</span></code>
 now uses the current value of @_, instead of using the array
the subroutine was originally called with.  This means
<code class="inline"><a class="l_k" href="functions/local.html">local</a> <span class="i">@_</span> = <span class="s">(</span>...<span class="s">)</span><span class="sc">;</span> <a class="l_k" href="functions/goto.html">goto</a> <span class="i">&amp;sub</span></code>
 now works [perl #43077].</p>
</li>
<li>
<p>If a debugger is invoked recursively, it no longer stomps on its own
lexical variables.  Formerly under recursion all calls would share the same
set of lexical variables [perl #115742].</p>
</li>
<li>
<p><code class="inline"><span class="i">*_</span>{<span class="w">ARRAY</span>}</code>
 returned from a subroutine no longer spontaneously
becomes empty.</p>
</li>
<li>
<p>When using <code class="inline"><a class="l_k" href="functions/say.html">say</a></code> to print to a tied filehandle, the value of <code class="inline"><span class="i">$\</span></code>
 is
correctly localized, even if it was previously undef.  [perl #119927]</p>
</li>
</ul>
<a name="Known-Problems"></a><h1>Known Problems</h1>
<ul>
<li>
<p>UTF8-flagged strings in <code class="inline"><span class="i">%ENV</span></code>
 on HP-UX 11.00 are buggy</p>
<p>The interaction of UTF8-flagged strings and <code class="inline"><span class="i">%ENV</span></code>
 on HP-UX 11.00 is
currently dodgy in some not-yet-fully-diagnosed way.  Expect test
failures in <i>t/op/magic.t</i>, followed by unknown behavior when storing
wide characters in the environment.</p>
</li>
</ul>
<a name="Obituary"></a><h1>Obituary</h1>
<p>Hojung Yoon (AMORETTE), 24, of Seoul, South Korea, went to his long rest
on May 8, 2013 with llama figurine and autographed TIMTOADY card.  He
was a brilliant young Perl 5 &amp; 6 hacker and a devoted member of
Seoul.pm.  He programmed Perl, talked Perl, ate Perl, and loved Perl.  We
believe that he is still programming in Perl with his broken IBM laptop
somewhere.  He will be missed.</p>
<a name="Acknowledgements"></a><h1>Acknowledgements</h1>
<p>Perl v5.18.0 represents approximately 12 months of development since
Perl v5.16.0 and contains approximately 400,000 lines of changes across
2,100 files from 113 authors.</p>
<p>Perl continues to flourish into its third decade thanks to a vibrant
community of users and developers. The following people are known to
have contributed the improvements that became Perl v5.18.0:</p>
<p>Aaron Crane, Aaron Trevena, Abhijit Menon-Sen, Adrian M. Enache, Alan
Haggai Alavi, Alexandr Ciornii, Andrew Tam, Andy Dougherty, Anton Nikishaev,
Aristotle Pagaltzis, Augustina Blair, Bob Ernst, Brad Gilbert, Breno G. de
Oliveira, Brian Carlson, Brian Fraser, Charlie Gonzalez, Chip Salzenberg, Chris
'BinGOs' Williams, Christian Hansen, Colin Kuskie, Craig A. Berry, Dagfinn
Ilmari Manns&#xe5;ker, Daniel Dragan, Daniel Perrett, Darin McBride, Dave Rolsky,
David Golden, David Leadbeater, David Mitchell, David Nicol, Dominic
Hargreaves, E. Choroba, Eric Brine, Evan Miller, Father Chrysostomos, Florian
Ragwitz, Fran&#xe7;ois Perrad, George Greer, Goro Fuji, H.Merijn Brand, Herbert
Breunung, Hugo van der Sanden, Igor Zaytsev, James E Keenan, Jan Dubois,
Jasmine Ahuja, Jerry D. Hedden, Jess Robinson, Jesse Luehrs, Joaquin Ferrero,
Joel Berger, John Goodyear, John Peacock, Karen Etheridge, Karl Williamson,
Karthik Rajagopalan, Kent Fredric, Leon Timmermans, Lucas Holt, Lukas Mai,
Marcus Holland-Moritz, Markus Jansen, Martin Hasch, Matthew Horsfall, Max
Maischein, Michael G Schwern, Michael Schroeder, Moritz Lenz, Nicholas Clark,
Niko Tyni, Oleg Nesterov, Patrik H&#xe4;gglund, Paul Green, Paul Johnson, Paul
Marquess, Peter Martini, Rafael Garcia-Suarez, Reini Urban, Renee Baecker,
Rhesa Rozendaal, Ricardo Signes, Robin Barker, Ronald J. Kimball, Ruslan
Zakirov, Salvador Fandi&#xf1;o, Sawyer X, Scott Lanning, Sergey Alekseev, Shawn M
Moore, Shirakata Kentaro, Shlomi Fish, Sisyphus, Smylers, Steffen M&#xfc;ller,
Steve Hay, Steve Peters, Steven Schubiger, Sullivan Beck, Sven Strickroth,
S&#xe9;bastien Aperghis-Tramoni, Thomas Sibley, Tobias Leich, Tom Wyant, Tony Cook,
Vadim Konovalov, Vincent Pit, Volker Schatz, Walt Mankowski, Yves Orton,
Zefram.</p>
<p>The list above is almost certainly incomplete as it is automatically generated
from version control history. In particular, it does not include the names of
the (very much appreciated) contributors who reported issues to the Perl bug
tracker.</p>
<p>Many of the changes included in this version originated in the CPAN modules
included in Perl's core. We're grateful to the entire CPAN community for
helping Perl to flourish.</p>
<p>For a more complete list of all of Perl's historical contributors, please see
the <i>AUTHORS</i> file in the Perl source distribution.</p>
<a name="Reporting-Bugs"></a><h1>Reporting Bugs</h1>
<p>If you find what you think is a bug, you might check the articles recently
posted to the comp.lang.perl.misc newsgroup and the perl bug database at
<a href="http://rt.perl.org/perlbug/">http://rt.perl.org/perlbug/</a> .  There may also be information at
<a href="http://www.perl.org/">http://www.perl.org/</a> , the Perl Home Page.</p>
<p>If you believe you have an unreported bug, please run the <a href="perlbug.html">perlbug</a> program
included with your release.  Be sure to trim your bug down to a tiny but
sufficient test case.  Your bug report, along with the output of <code class="inline"><span class="w">perl</span> -<span class="w">V</span></code>
,
will be sent off to perlbug@perl.org to be analysed by the Perl porting team.</p>
<p>If the bug you are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list, then please send it
to perl5-security-report@perl.org.  This points to a closed subscription
unarchived mailing list, which includes all the core committers, who will be
able to help assess the impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the problem across all
platforms on which Perl is supported.  Please only use this address for
security issues in the Perl core, not for modules independently distributed on
CPAN.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p>The <i>Changes</i> file for an explanation of how to view exhaustive details on
what changed.</p>
<p>The <i>INSTALL</i> file for how to build Perl.</p>
<p>The <i>README</i> file for general stuff.</p>
<p>The <i>Artistic</i> and <i>Copying</i> files for copyright information.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#Core-Enhancements">Core Enhancements</a><ul><li><a href="#New-mechanism-for-experimental-features">New mechanism for experimental features</a><li><a href="#Hash-overhaul">Hash overhaul</a><li><a href="#Upgrade-to-Unicode-6.2">Upgrade to Unicode 6.2</a><li><a href="#Character-name-aliases-may-now-include-non-Latin1-range-characters">Character name aliases may now include non-Latin1-range characters</a><li><a href="#New-DTrace-probes">New DTrace probes</a><li><a href="#%24%7b%5eLAST_FH%7d">${^LAST_FH}</a><li><a href="#Regular-Expression-Set-Operations">Regular Expression Set Operations</a><li><a href="#Lexical-subroutines">Lexical subroutines</a><li><a href="#Computed-Labels">Computed Labels</a><li><a href="#More-CORE%3a%3a-subs">More CORE:: subs</a><li><a href="#kill-with-negative-signal-names">kill with negative signal names</a></ul><li><a href="#Security">Security</a><ul><li><a href="#See-also%3a-hash-overhaul">See also: hash overhaul</a><li><a href="#Storable-security-warning-in-documentation">Storable security warning in documentation</a><li><a href="#Locale%3a%3aMaketext-allowed-code-injection-via-a-malicious-template">Locale::Maketext allowed code injection via a malicious template</a><li><a href="#Avoid-calling-memset-with-a-negative-count">Avoid calling memset with a negative count</a></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a><ul><li><a href="#See-also%3a-hash-overhaul">See also: hash overhaul</a><li><a href="#An-unknown-character-name-in-%5cN%7b...%7d-is-now-a-syntax-error">An unknown character name in \N{...} is now a syntax error</a><li><a href="#Formerly-deprecated-characters-in-%5cN%7b%7d-character-name-aliases-are-now-errors.">Formerly deprecated characters in \N{} character name aliases are now errors.</a><li><a href="#%5cN%7bBELL%7d-now-refers-to-U%2b1F514-instead-of-U%2b0007">\N{BELL} now refers to U+1F514 instead of U+0007</a><li><a href="#New-Restrictions-in-Multi-Character-Case-Insensitive-Matching-in-Regular-Expression-Bracketed-Character-Classes">New Restrictions in Multi-Character Case-Insensitive Matching in Regular Expression Bracketed Character Classes</a><li><a href="#Explicit-rules-for-variable-names-and-identifiers">Explicit rules for variable names and identifiers</a><li><a href="#Vertical-tabs-are-now-whitespace">Vertical tabs are now whitespace</a><li><a href="#%2f(%3f%7b%7d)%2f-and-%2f(%3f%3f%7b%7d)%2f-have-been-heavily-reworked">/(?{})/ and /(??{})/ have been heavily reworked</a><li><a href="#Stricter-parsing-of-substitution-replacement">Stricter parsing of substitution replacement</a><li><a href="#given-now-aliases-the-global-%24_">given now aliases the global $_</a><li><a href="#The-smartmatch-family-of-features-are-now-experimental">The smartmatch family of features are now experimental</a><li><a href="#Lexical-%24_-is-now-experimental">Lexical $_ is now experimental</a><li><a href="#readline()-with-%24%2f-%3d-%5cN-now-reads-N-characters%2c-not-N-bytes">readline() with $/ = \N now reads N characters, not N bytes</a><li><a href="#Overridden-glob-is-now-passed-one-argument">Overridden glob is now passed one argument</a><li><a href="#Here-doc-parsing">Here doc parsing</a><li><a href="#Alphanumeric-operators-must-now-be-separated-from-the-closing-delimiter-of-regular-expressions">Alphanumeric operators must now be separated from the closing
delimiter of regular expressions</a><li><a href="#qw(...)-can-no-longer-be-used-as-parentheses">qw(...) can no longer be used as parentheses</a><li><a href="#Interaction-of-lexical-and-default-warnings">Interaction of lexical and default warnings</a><li><a href="#state-sub-and-our-sub">state sub and our sub</a><li><a href="#Defined-values-stored-in-environment-are-forced-to-byte-strings">Defined values stored in environment are forced to byte strings</a><li><a href="#require-dies-for-unreadable-files">require dies for unreadable files</a><li><a href="#gv_fetchmeth_*-and-SUPER">gv_fetchmeth_* and SUPER</a><li><a href="#split's-first-argument-is-more-consistently-interpreted">split's first argument is more consistently interpreted</a></ul><li><a href="#Deprecations">Deprecations</a><ul><li><a href="#Module-removals">Module removals</a><li><a href="#Deprecated-Utilities">Deprecated Utilities</a><li><a href="#PL_sv_objcount">PL_sv_objcount</a><li><a href="#Five-additional-characters-should-be-escaped-in-patterns-with-%2fx">Five additional characters should be escaped in patterns with /x</a><li><a href="#User-defined-charnames-with-surprising-whitespace">User-defined charnames with surprising whitespace</a><li><a href="#Various-XS-callable-functions-are-now-deprecated">Various XS-callable functions are now deprecated</a><li><a href="#Certain-rare-uses-of-backslashes-within-regexes-are-now-deprecated">Certain rare uses of backslashes within regexes are now deprecated</a><li><a href="#Splitting-the-tokens-(%3f-and-(*-in-regular-expressions">Splitting the tokens (? and (* in regular expressions</a><li><a href="#Pre-PerlIO-IO-implementations">Pre-PerlIO IO implementations</a></ul><li><a href="#Future-Deprecations">Future Deprecations</a><li><a href="#Performance-Enhancements">Performance Enhancements</a><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a><ul><li><a href="#New-Modules-and-Pragmata">New Modules and Pragmata</a><li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a><li><a href="#Removed-Modules-and-Pragmata">Removed Modules and Pragmata</a></ul><li><a href="#Documentation">Documentation</a><ul><li><a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a><li><a href="#New-Diagnostics">New Diagnostics</a><li><a href="#Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</a></ul><li><a href="#Utility-Changes">Utility Changes</a><li><a href="#Configuration-and-Compilation">Configuration and Compilation</a><li><a href="#Testing">Testing</a><li><a href="#Platform-Support">Platform Support</a><ul><li><a href="#Discontinued-Platforms">Discontinued Platforms</a><li><a href="#Platform-Specific-Notes">Platform-Specific Notes</a></ul><li><a href="#Internal-Changes">Internal Changes</a><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a><li><a href="#Known-Problems">Known Problems</a><li><a href="#Obituary">Obituary</a><li><a href="#Acknowledgements">Acknowledgements</a><li><a href="#Reporting-Bugs">Reporting Bugs</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="index-modules-A.html">Modules</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="index-licence.html">License</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="static/exploreperl.js"></script>
      <script language="JavaScript" src="static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(0);
  perldoc.pageName    = 'perl5180delta';
  perldoc.pageAddress = 'perl5180delta.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
