<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>autodie</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">History / Changes</a>
                <li><a href="index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Special Variables</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>autodie</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-pragmas.html">Pragmas</a> &gt;
      
    
    autodie
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>autodie</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#EXCEPTIONS">EXCEPTIONS</a><li><a href="#CATEGORIES">CATEGORIES</a><li><a href="#FUNCTION-SPECIFIC-NOTES">FUNCTION SPECIFIC NOTES</a><ul><li><a href="#print">print</a><li><a href="#flock">flock</a><li><a href="#system%2fexec">system/exec</a></ul><li><a href="#GOTCHAS">GOTCHAS</a><li><a href="#DIAGNOSTICS">DIAGNOSTICS</a><li><a href="#BUGS">BUGS</a><ul><li><a href="#autodie-and-string-eval">autodie and string eval</a><li><a href="#REPORTING-BUGS">REPORTING BUGS</a></ul><li><a href="#FEEDBACK">FEEDBACK</a><li><a href="#AUTHOR">AUTHOR</a><li><a href="#LICENSE">LICENSE</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>autodie - Replace functions with ones that succeed or die with lexical scope</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span><span class="sc">;</span>            <span class="c"># Recommended: implies &#39;use autodie qw(:default)&#39;</span></li><li></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span> <span class="q">qw(:all)</span><span class="sc">;</span>   <span class="c"># Recommended more: defaults and system/exec.</span></li><li></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span> <span class="q">qw(open close)</span><span class="sc">;</span>   <span class="c"># open/close succeed or die</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$fh</span><span class="cm">,</span> <span class="q">&quot;&lt;&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span><span class="sc">;</span> <span class="c"># No need to check!</span></li><li></li><li>    <span class="s">{</span></li><li>        <a class="l_k" href="functions/no.html">no</a> <span class="w">autodie</span> <span class="q">qw(open)</span><span class="sc">;</span>          <span class="c"># open failures won&#39;t die</span></li><li>        <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$fh</span><span class="cm">,</span> <span class="q">&quot;&lt;&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span><span class="sc">;</span> <span class="c"># Could fail silently!</span></li><li>        <a class="l_k" href="functions/no.html">no</a> <span class="w">autodie</span><span class="sc">;</span>                   <span class="c"># disable all autodies</span></li><li>    <span class="s">}</span></li><li>    </li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;Hello World&quot;</span> <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="i">$!</span><span class="sc">;</span>    <span class="c"># autodie DOESN&#39;T check print!</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<pre class="verbatim"><ol><li>        bIlujDI' yIchegh()Qo'; yIHegh()!</li><li></li><li>        It is better to die() than to return() in failure.</li><li></li><li>                -- Klingon programming proverb.</li></ol></pre><p>The <code class="inline"><span class="w">autodie</span></code>
 pragma provides a convenient way to replace functions
that normally return false on failure with equivalents that throw
an exception on failure.</p>
<p>The <code class="inline"><span class="w">autodie</span></code>
 pragma has <i>lexical scope</i>, meaning that functions
and subroutines altered with <code class="inline"><span class="w">autodie</span></code>
 will only change their behaviour
until the end of the enclosing block, file, or <code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>.</p>
<p>If <code class="inline"><a class="l_k" href="functions/system.html">system</a></code> is specified as an argument to <code class="inline"><span class="w">autodie</span></code>
, then it
uses <a href="http://search.cpan.org/perldoc/IPC::System::Simple">IPC::System::Simple</a> to do the heavy lifting.  See the
description of that module for more information.</p>
<a name="EXCEPTIONS"></a><h1>EXCEPTIONS</h1>
<p>Exceptions produced by the <code class="inline"><span class="w">autodie</span></code>
 pragma are members of the
<a href="autodie/exception.html">autodie::exception</a> class.  The preferred way to work with
these exceptions under Perl 5.10 is as follows:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">qw(switch)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/eval.html">eval</a> <span class="s">{</span></li><li>        <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span><span class="sc">;</span></li><li></li><li>        <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$fh</span><span class="cm">,</span> <span class="q">&#39;&lt;&#39;</span><span class="cm">,</span> <span class="i">$some_file</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">@records</span> = <span class="q">&lt;$fh&gt;</span><span class="sc">;</span></li><li></li><li>        <span class="c"># Do things with @records...</span></li><li></li><li>        <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="i">$fh</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="s">}</span><span class="sc">;</span></li><li></li><li>    given <span class="s">(</span><span class="i">$@</span><span class="s">)</span> <span class="s">{</span></li><li>        when <span class="s">(</span><a class="l_k" href="functions/undef.html">undef</a><span class="s">)</span>   <span class="s">{</span> <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;No error&quot;</span><span class="sc">;</span>                    <span class="s">}</span></li><li>        when <span class="s">(</span><span class="q">&#39;open&#39;</span><span class="s">)</span>  <span class="s">{</span> <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;Error from open&quot;</span><span class="sc">;</span>             <span class="s">}</span></li><li>        when <span class="s">(</span><span class="q">&#39;:io&#39;</span><span class="s">)</span>   <span class="s">{</span> <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;Non-open, IO error.&quot;</span><span class="sc">;</span>         <span class="s">}</span></li><li>        when <span class="s">(</span><span class="q">&#39;:all&#39;</span><span class="s">)</span>  <span class="s">{</span> <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;All other autodie errors.&quot;</span>    <span class="s">}</span></li><li>        <span class="i">default</span>        <span class="s">{</span> <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;Not an autodie error at all.&quot;</span> <span class="s">}</span></li><li>    <span class="s">}</span></li></ol></pre><p>Under Perl 5.8, the <code class="inline">given/when</code> structure is not available, so the
following structure may be used:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/eval.html">eval</a> <span class="s">{</span></li><li>        <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span><span class="sc">;</span></li><li></li><li>        <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$fh</span><span class="cm">,</span> <span class="q">&#39;&lt;&#39;</span><span class="cm">,</span> <span class="i">$some_file</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">@records</span> = <span class="q">&lt;$fh&gt;</span><span class="sc">;</span></li><li></li><li>        <span class="c"># Do things with @records...</span></li><li></li><li>        <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="i">$fh</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="s">}</span><span class="sc">;</span></li><li></li><li>    if <span class="s">(</span><span class="i">$@</span> and <span class="i">$@</span><span class="i">-&gt;isa</span><span class="s">(</span><span class="q">&#39;autodie::exception&#39;</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span></li><li>        if <span class="s">(</span><span class="i">$@</span><span class="i">-&gt;matches</span><span class="s">(</span><span class="q">&#39;open&#39;</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;Error from open\n&quot;</span><span class="sc">;</span>   <span class="s">}</span></li><li>        if <span class="s">(</span><span class="i">$@</span><span class="i">-&gt;matches</span><span class="s">(</span><span class="q">&#39;:io&#39;</span> <span class="s">)</span><span class="s">)</span> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;Non-open, IO error.&quot;</span><span class="sc">;</span> <span class="s">}</span></li><li>    <span class="s">}</span> elsif <span class="s">(</span><span class="i">$@</span><span class="s">)</span> <span class="s">{</span></li><li>        <span class="c"># A non-autodie exception.</span></li><li>    <span class="s">}</span></li></ol></pre><p>See <a href="autodie/exception.html">autodie::exception</a> for further information on interrogating
exceptions.</p>
<a name="CATEGORIES"></a><h1>CATEGORIES</h1>
<p>Autodie uses a simple set of categories to group together similar
built-ins.  Requesting a category type (starting with a colon) will
enable autodie for all built-ins beneath that category.  For example,
requesting <code class="inline"><span class="j">:</span><span class="w">file</span></code>
 will enable autodie for <code class="inline"><a class="l_k" href="functions/close.html">close</a></code>, <code class="inline"><a class="l_k" href="functions/fcntl.html">fcntl</a></code>,
<code class="inline"><a class="l_k" href="functions/open.html">open</a></code> and <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code>.</p>
<p>The categories are currently:</p>
<pre class="verbatim"><ol><li>    <span class="j">:</span><span class="w">all</span></li><li>        <span class="co">:</span><span class="w">default</span></li><li>            <span class="co">:</span><span class="w">io</span></li><li>                <a class="l_k" href="functions/read.html">read</a></li><li>                <a class="l_k" href="functions/seek.html">seek</a></li><li>                <a class="l_k" href="functions/sysread.html">sysread</a></li><li>                <a class="l_k" href="functions/sysseek.html">sysseek</a></li><li>                <a class="l_k" href="functions/syswrite.html">syswrite</a></li><li>                <span class="co">:</span><span class="w">dbm</span></li><li>                    <a class="l_k" href="functions/dbmclose.html">dbmclose</a></li><li>                    <a class="l_k" href="functions/dbmopen.html">dbmopen</a></li><li>                <span class="co">:</span><span class="w">file</span></li><li>                    <a class="l_k" href="functions/binmode.html">binmode</a></li><li>                    <a class="l_k" href="functions/close.html">close</a></li><li>                    <a class="l_k" href="functions/chmod.html">chmod</a></li><li>                    <a class="l_k" href="functions/chown.html">chown</a></li><li>                    <a class="l_k" href="functions/fcntl.html">fcntl</a></li><li>                    <a class="l_k" href="functions/flock.html">flock</a></li><li>                    <a class="l_k" href="functions/ioctl.html">ioctl</a></li><li>                    <a class="l_k" href="functions/open.html">open</a></li><li>                    <a class="l_k" href="functions/sysopen.html">sysopen</a></li><li>                    <a class="l_k" href="functions/truncate.html">truncate</a></li><li>                <span class="co">:</span><span class="w">filesys</span></li><li>                    <a class="l_k" href="functions/chdir.html">chdir</a></li><li>                    <a class="l_k" href="functions/closedir.html">closedir</a></li><li>                    <a class="l_k" href="functions/opendir.html">opendir</a></li><li>                    <a class="l_k" href="functions/link.html">link</a></li><li>                    <a class="l_k" href="functions/mkdir.html">mkdir</a></li><li>                    <a class="l_k" href="functions/readlink.html">readlink</a></li><li>                    <a class="l_k" href="functions/rename.html">rename</a></li><li>                    <a class="l_k" href="functions/rmdir.html">rmdir</a></li><li>                    <a class="l_k" href="functions/symlink.html">symlink</a></li><li>                    <a class="l_k" href="functions/unlink.html">unlink</a></li><li>                <span class="co">:</span><span class="w">ipc</span></li><li>                    <a class="l_k" href="functions/kill.html">kill</a></li><li>                    <a class="l_k" href="functions/pipe.html">pipe</a></li><li>                    <span class="co">:</span><span class="w">msg</span></li><li>                        <a class="l_k" href="functions/msgctl.html">msgctl</a></li><li>                        <a class="l_k" href="functions/msgget.html">msgget</a></li><li>                        <a class="l_k" href="functions/msgrcv.html">msgrcv</a></li><li>                        <a class="l_k" href="functions/msgsnd.html">msgsnd</a></li><li>                    <span class="co">:</span><span class="w">semaphore</span></li><li>                        <a class="l_k" href="functions/semctl.html">semctl</a></li><li>                        <a class="l_k" href="functions/semget.html">semget</a></li><li>                        <a class="l_k" href="functions/semop.html">semop</a></li><li>                    <span class="co">:</span><span class="w">shm</span></li><li>                        <a class="l_k" href="functions/shmctl.html">shmctl</a></li><li>                        <a class="l_k" href="functions/shmget.html">shmget</a></li><li>                        <a class="l_k" href="functions/shmread.html">shmread</a></li><li>                <span class="co">:</span><a class="l_k" href="functions/socket.html">socket</a></li><li>                    <a class="l_k" href="functions/accept.html">accept</a></li><li>                    <a class="l_k" href="functions/bind.html">bind</a></li><li>                    <a class="l_k" href="functions/connect.html">connect</a></li><li>                    <a class="l_k" href="functions/getsockopt.html">getsockopt</a></li><li>                    <a class="l_k" href="functions/listen.html">listen</a></li><li>                    <a class="l_k" href="functions/recv.html">recv</a></li><li>                    <a class="l_k" href="functions/send.html">send</a></li><li>                    <a class="l_k" href="functions/setsockopt.html">setsockopt</a></li><li>                    <a class="l_k" href="functions/shutdown.html">shutdown</a></li><li>                    <a class="l_k" href="functions/socketpair.html">socketpair</a></li><li>            <span class="co">:</span><span class="w">threads</span></li><li>                <a class="l_k" href="functions/fork.html">fork</a></li><li>        <span class="co">:</span><a class="l_k" href="functions/system.html">system</a></li><li>            <a class="l_k" href="functions/system.html">system</a></li><li>            <a class="l_k" href="functions/exec.html">exec</a></li></ol></pre><p>Note that while the above category system is presently a strict
hierarchy, this should not be assumed.</p>
<p>A plain <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span></code>
 implies <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span> <span class="q">qw(:default)</span></code>
.  Note that
<code class="inline"><a class="l_k" href="functions/system.html">system</a></code> and <code class="inline"><a class="l_k" href="functions/exec.html">exec</a></code> are not enabled by default.  <code class="inline"><a class="l_k" href="functions/system.html">system</a></code> requires
the optional <a href="http://search.cpan.org/perldoc/IPC::System::Simple">IPC::System::Simple</a> module to be installed, and enabling
<code class="inline"><a class="l_k" href="functions/system.html">system</a></code> or <code class="inline"><a class="l_k" href="functions/exec.html">exec</a></code> will invalidate their exotic forms.  See <a href="#BUGS">BUGS</a>
below for more details.</p>
<p>The syntax:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span> <span class="q">qw(:1.994)</span><span class="sc">;</span></li></ol></pre><p>allows the <code class="inline"><span class="j">:</span><span class="w">default</span></code>
 list from a particular version to be used.  This
provides the convenience of using the default methods, but the surety
that no behavioral changes will occur if the <code class="inline"><span class="w">autodie</span></code>
 module is
upgraded.</p>
<p><code class="inline"><span class="w">autodie</span></code>
 can be enabled for all of Perl's built-ins, including
<code class="inline"><a class="l_k" href="functions/system.html">system</a></code> and <code class="inline"><a class="l_k" href="functions/exec.html">exec</a></code> with:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span> <span class="q">qw(:all)</span><span class="sc">;</span></li></ol></pre><a name="FUNCTION-SPECIFIC-NOTES"></a><h1>FUNCTION SPECIFIC NOTES</h1>
<a name="print"></a><h2>print</h2>
<p>The autodie pragma <b>&lt;does not check calls to <code class="inline"><a class="l_k" href="functions/print.html">print</a></code></b>&gt;.</p>
<a name="flock"></a><h2>flock</h2>
<p>It is not considered an error for <code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> to return false if it fails
due to an <code class="inline"><span class="w">EWOULDBLOCK</span></code>
 (or equivalent) condition.  This means one can
still use the common convention of testing the return value of
<code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> when called with the <code class="inline"><span class="w">LOCK_NB</span></code>
 option:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">autodie</span><span class="sc">;</span></li><li></li><li>    if <span class="s">(</span> <a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="i">$fh</span><span class="cm">,</span> <span class="w">LOCK_EX</span> | <span class="w">LOCK_NB</span><span class="s">)</span> <span class="s">)</span> <span class="s">{</span></li><li>        <span class="c"># We have a lock</span></li><li>    <span class="s">}</span></li></ol></pre><p>Autodying <code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> will generate an exception if <code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> returns
false with any other error.</p>
<a name="system%2fexec"></a><h2>system/exec</h2>
<p>The <code class="inline"><a class="l_k" href="functions/system.html">system</a></code> built-in is considered to have failed in the following
circumstances:</p>
<ul>
<li>
<p>The command does not start.</p>
</li>
<li>
<p>The command is killed by a signal.</p>
</li>
<li>
<p>The command returns a non-zero exit value (but see below).</p>
</li>
</ul>
<p>On success, the autodying form of <code class="inline"><a class="l_k" href="functions/system.html">system</a></code> returns the <i>exit value</i>
rather than the contents of <code class="inline"><span class="i">$?</span></code>
.</p>
<p>Additional allowable exit values can be supplied as an optional first
argument to autodying <code class="inline"><a class="l_k" href="functions/system.html">system</a></code>:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/system.html">system</a><span class="s">(</span> <span class="s">[</span> <span class="n">0</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">2</span> <span class="s">]</span><span class="cm">,</span> <span class="i">$cmd</span><span class="cm">,</span> <span class="i">@args</span><span class="s">)</span><span class="sc">;</span>  <span class="c"># 0,1,2 are good exit values</span></li></ol></pre><p><code class="inline"><span class="w">autodie</span></code>
 uses the <a href="http://search.cpan.org/perldoc/IPC::System::Simple">IPC::System::Simple</a> module to change <code class="inline"><a class="l_k" href="functions/system.html">system</a></code>.
See its documentation for further information.</p>
<p>Applying <code class="inline"><span class="w">autodie</span></code>
 to <code class="inline"><a class="l_k" href="functions/system.html">system</a></code> or <code class="inline"><a class="l_k" href="functions/exec.html">exec</a></code> causes the exotic
forms <code class="inline"><a class="l_k" href="functions/system.html">system</a> <span class="s">{</span> <span class="i">$cmd</span> <span class="s">}</span> <span class="i">@args</span> </code>
 or <code class="inline"><a class="l_k" href="functions/exec.html">exec</a> <span class="s">{</span> <span class="i">$cmd</span> <span class="s">}</span> <span class="i">@args</span></code>

to be considered a syntax error until the end of the lexical scope.
If you really need to use the exotic form, you can call <code class="inline"><span class="w">CORE::system</span></code>

or <code class="inline"><span class="w">CORE::exec</span></code>
 instead, or use <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">autodie</span> <span class="q">qw(system exec)</span></code>
 before
calling the exotic form.</p>
<a name="GOTCHAS"></a><h1>GOTCHAS</h1>
<p>Functions called in list context are assumed to have failed if they
return an empty list, or a list consisting only of a single undef
element.</p>
<p>Some builtins (e.g. <code class="inline"><a class="l_k" href="functions/chdir.html">chdir</a></code> or <code class="inline"><a class="l_k" href="functions/truncate.html">truncate</a></code>) has a call signature that
cannot completely be representated with a Perl prototype.  This means
that some valid Perl code will be invalid under autodie.  As an example:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/chdir.html">chdir</a><span class="s">(</span><span class="w">BAREWORD</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Without autodie (and assuming BAREWORD is an open
filehandle/dirhandle) this is a valid call to chdir.  But under
autodie, <code class="inline"><a class="l_k" href="functions/chdir.html">chdir</a></code> will behave like it had the prototype ";$" and thus
BAREWORD will be a syntax error (under "use strict".  Without strict, it
will interpreted as a filename).</p>
<a name="DIAGNOSTICS"></a><h1>DIAGNOSTICS</h1>
<ul>
<li><a name="%3avoid-cannot-be-used-with-lexical-scope"></a><b>:void cannot be used with lexical scope</b>
<p>The <code class="inline"><span class="j">:</span><span class="w">void</span></code>
 option is supported in <a href="Fatal.html">Fatal</a>, but not
<code class="inline"><span class="w">autodie</span></code>
.  To workaround this, <code class="inline"><span class="w">autodie</span></code>
 may be explicitly disabled until
the end of the current block with <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">autodie</span></code>
.
To disable autodie for only a single function (eg, open)
use <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">autodie</span> <span class="q">qw(open)</span></code>
.</p>
<p><code class="inline"><span class="w">autodie</span></code>
 performs no checking of called context to determine whether to throw
an exception; the explicitness of error handling with <code class="inline"><span class="w">autodie</span></code>
 is a deliberate
feature.</p>
</li>
<li><a name="No-user-hints-defined-for-%25s"></a><b>No user hints defined for %s</b>
<p>You've insisted on hints for user-subroutines, either by pre-pending
a <code class="inline">!</code>
 to the subroutine name itself, or earlier in the list of arguments
to <code class="inline"><span class="w">autodie</span></code>
.  However the subroutine in question does not have
any hints available.</p>
</li>
</ul>
<p>See also <a href="Fatal.html#DIAGNOSTICS">DIAGNOSTICS in Fatal</a>.</p>
<a name="BUGS"></a><h1>BUGS</h1>
<p>"Used only once" warnings can be generated when <code class="inline"><span class="w">autodie</span></code>
 or <code class="inline"><span class="w">Fatal</span></code>

is used with package filehandles (eg, <code class="inline"><span class="w">FILE</span></code>
).  Scalar filehandles are
strongly recommended instead.</p>
<p>When using <code class="inline"><span class="w">autodie</span></code>
 or <code class="inline"><span class="w">Fatal</span></code>
 with user subroutines, the
declaration of those subroutines must appear before the first use of
<code class="inline"><span class="w">Fatal</span></code>
 or <code class="inline"><span class="w">autodie</span></code>
, or have been exported from a module.
Attempting to use <code class="inline"><span class="w">Fatal</span></code>
 or <code class="inline"><span class="w">autodie</span></code>
 on other user subroutines will
result in a compile-time error.</p>
<p>Due to a bug in Perl, <code class="inline"><span class="w">autodie</span></code>
 may "lose" any format which has the
same name as an autodying built-in or function.</p>
<p><code class="inline"><span class="w">autodie</span></code>
 may not work correctly if used inside a file with a
name that looks like a string eval, such as <i>eval (3)</i>.</p>
<a name="autodie-and-string-eval"></a><h2>autodie and string eval</h2>
<p>Due to the current implementation of <code class="inline"><span class="w">autodie</span></code>
, unexpected results
may be seen when used near or with the string version of eval.
<i>None of these bugs exist when using block eval</i>.</p>
<p>Under Perl 5.8 only, <code class="inline"><span class="w">autodie</span></code>
 <i>does not</i> propagate into string <code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>
statements, although it can be explicitly enabled inside a string
<code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>.</p>
<p>Under Perl 5.10 only, using a string eval when <code class="inline"><span class="w">autodie</span></code>
 is in
effect can cause the autodie behaviour to leak into the surrounding
scope.  This can be worked around by using a <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">autodie</span></code>
 at the
end of the scope to explicitly remove autodie's effects, or by
avoiding the use of string eval.</p>
<p><i>None of these bugs exist when using block eval</i>.  The use of
<code class="inline"><span class="w">autodie</span></code>
 with block eval is considered good practice.</p>
<a name="REPORTING-BUGS"></a><h2>REPORTING BUGS</h2>
<p>Please report bugs via the GitHub Issue Tracker at
<a href="https://github.com/pjf/autodie/issues">https://github.com/pjf/autodie/issues</a> or via the CPAN Request
Tracker at <a href="https://rt.cpan.org/NoAuth/Bugs.html?Dist=autodie">https://rt.cpan.org/NoAuth/Bugs.html?Dist=autodie</a>.</p>
<a name="FEEDBACK"></a><h1>FEEDBACK</h1>
<p>If you find this module useful, please consider rating it on the
CPAN Ratings service at
<a href="http://cpanratings.perl.org/rate?distribution=autodie">http://cpanratings.perl.org/rate?distribution=autodie</a> .</p>
<p>The module author loves to hear how <code class="inline"><span class="w">autodie</span></code>
 has made your life
better (or worse).  Feedback can be sent to
&lt;pjf@perltraining.com.au&gt;.</p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<p>Copyright 2008-2009, Paul Fenwick &lt;pjf@perltraining.com.au&gt;</p>
<a name="LICENSE"></a><h1>LICENSE</h1>
<p>This module is free software.  You may distribute it under the
same terms as Perl itself.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="Fatal.html">Fatal</a>, <a href="autodie/exception.html">autodie::exception</a>, <a href="autodie/hints.html">autodie::hints</a>, <a href="http://search.cpan.org/perldoc/IPC::System::Simple">IPC::System::Simple</a></p>
<p><i>Perl tips, autodie</i> at
<a href="http://perltraining.com.au/tips/2008-08-20.html">http://perltraining.com.au/tips/2008-08-20.html</a></p>
<a name="ACKNOWLEDGEMENTS"></a><h1>ACKNOWLEDGEMENTS</h1>
<p>Mark Reed and Roland Giersig -- Klingon translators.</p>
<p>See the <i>AUTHORS</i> file for full credits.  The latest version of this
file can be found at
<a href="https://github.com/pjf/autodie/tree/master/AUTHORS">https://github.com/pjf/autodie/tree/master/AUTHORS</a> .</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#EXCEPTIONS">EXCEPTIONS</a><li><a href="#CATEGORIES">CATEGORIES</a><li><a href="#FUNCTION-SPECIFIC-NOTES">FUNCTION SPECIFIC NOTES</a><ul><li><a href="#print">print</a><li><a href="#flock">flock</a><li><a href="#system%2fexec">system/exec</a></ul><li><a href="#GOTCHAS">GOTCHAS</a><li><a href="#DIAGNOSTICS">DIAGNOSTICS</a><li><a href="#BUGS">BUGS</a><ul><li><a href="#autodie-and-string-eval">autodie and string eval</a><li><a href="#REPORTING-BUGS">REPORTING BUGS</a></ul><li><a href="#FEEDBACK">FEEDBACK</a><li><a href="#AUTHOR">AUTHOR</a><li><a href="#LICENSE">LICENSE</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="index-modules-A.html">Modules</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="index-licence.html">License</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="static/exploreperl.js"></script>
      <script language="JavaScript" src="static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(0);
  perldoc.pageName    = 'autodie';
  perldoc.pageAddress = 'autodie.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
