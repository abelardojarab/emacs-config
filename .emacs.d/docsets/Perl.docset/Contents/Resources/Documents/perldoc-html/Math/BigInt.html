<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Math::BigInt</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">History / Changes</a>
                <li><a href="../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Special Variables</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>Math::BigInt</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-modules-M.html">Core modules (M)</a> &gt;
      
    
    Math::BigInt
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>Math::BigInt</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Input">Input</a><li><a href="#Output">Output</a></ul><li><a href="#METHODS">METHODS</a><li><a href="#ACCURACY-and-PRECISION">ACCURACY and PRECISION</a><ul><li><a href="#Precision-P">Precision P</a><li><a href="#Accuracy-A">Accuracy A</a><li><a href="#Fallback-F">Fallback F</a><li><a href="#Rounding-mode-R">Rounding mode R</a></ul><li><a href="#Infinity-and-Not-a-Number">Infinity and Not a Number</a><li><a href="#INTERNALS">INTERNALS</a><ul><li><a href="#MATH-LIBRARY">MATH LIBRARY</a><li><a href="#SIGN">SIGN</a><li><a href="#mantissa()%2c-exponent()-and-parts()">mantissa(), exponent() and parts()</a></ul><li><a href="#EXAMPLES">EXAMPLES</a><li><a href="#Autocreating-constants">Autocreating constants</a><li><a href="#PERFORMANCE">PERFORMANCE</a><ul><li><a href="#Alternative-math-libraries">Alternative math libraries</a></ul><li><a href="#SUBCLASSING">SUBCLASSING</a><ul><li><a href="#Subclassing-Math%3a%3aBigInt">Subclassing Math::BigInt</a></ul><li><a href="#UPGRADING">UPGRADING</a><ul><li><a href="#Auto-upgrade">Auto-upgrade</a></ul><li><a href="#EXPORTS">EXPORTS</a><li><a href="#CAVEATS">CAVEATS</a><li><a href="#BUGS">BUGS</a><li><a href="#SUPPORT">SUPPORT</a><li><a href="#LICENSE">LICENSE</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHORS">AUTHORS</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>Math::BigInt - Arbitrary size integer/float math package</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li></li><li>  <span class="c"># or make it faster with huge numbers: install (optional)</span></li><li>  <span class="c"># Math::BigInt::GMP and always use (it will fall back to</span></li><li>  <span class="c"># pure Perl if the GMP library is not installed):</span></li><li>  <span class="c"># (See also the L&lt;MATH LIBRARY&gt; section!)</span></li><li></li><li>  <span class="c"># will warn if Math::BigInt::GMP cannot be found</span></li><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">lib</span> <span class="cm">=&gt;</span> <span class="q">&#39;GMP&#39;</span><span class="sc">;</span></li><li></li><li>  <span class="c"># to suppress the warning use this:</span></li><li>  <span class="c"># use Math::BigInt try =&gt; &#39;GMP&#39;;</span></li><li></li><li>  <span class="c"># dies if GMP cannot be loaded:</span></li><li>  <span class="c"># use Math::BigInt only =&gt; &#39;GMP&#39;;</span></li><li></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$str</span> = <span class="q">&#39;1234567890&#39;</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">@values</span> = <span class="s">(</span><span class="n">64</span><span class="cm">,</span><span class="n">74</span><span class="cm">,</span><span class="n">18</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$n</span> = <span class="n">1</span><span class="sc">;</span> <a class="l_k" href="../functions/my.html">my</a> <span class="i">$sign</span> = <span class="q">&#39;-&#39;</span><span class="sc">;</span></li><li></li><li>  <span class="c"># Number creation	</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$str</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># defaults to 0</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># make a true copy</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$nan</span>  = <span class="w">Math::BigInt</span><span class="w">-&gt;bnan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span> 	<span class="c"># create a NotANumber</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$zero</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bzero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># create a +0</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$inf</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;binf</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># create a +inf</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$inf</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;binf</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># create a -inf</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$one</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bone</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># create a +1</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$mone</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bone</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># create a -1</span></li><li></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$pi</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bpi</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># returns &#39;3&#39;</span></li><li>					<span class="c"># see Math::BigFloat::bpi()</span></li><li></li><li>  <span class="i">$h</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;0x123&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># from hexadecimal</span></li><li>  <span class="i">$b</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;0b101&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># from binary</span></li><li>  <span class="i">$o</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;from_oct</span><span class="s">(</span><span class="q">&#39;0101&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># from octal</span></li><li></li><li>  <span class="c"># Testing (don&#39;t modify their arguments)</span></li><li>  <span class="c"># (return true if the condition is met, otherwise false)</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;is_zero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># if $x is +0</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_nan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># if $x is NaN</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_one</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># if $x is +1</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_one</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># if $x is -1</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_odd</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># if $x is odd</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_even</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># if $x is even</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_pos</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># if $x &gt; 0</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_neg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># if $x &lt; 0</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_inf</span><span class="s">(</span><span class="i">$sign</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># if $x is +inf, or -inf (sign is default &#39;+&#39;)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;is_int</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># if $x is an integer (not a float)</span></li><li></li><li>  <span class="c"># comparing and digit/sign extraction</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bcmp</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># compare numbers (undef,&lt;0,=0,&gt;0)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bacmp</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># compare absolutely (undef,&lt;0,=0,&gt;0)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;sign</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># return the sign, either +,- or NaN</span></li><li>  <span class="i">$x</span><span class="i">-&gt;digit</span><span class="s">(</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># return the nth digit, counting from right</span></li><li>  <span class="i">$x</span><span class="i">-&gt;digit</span><span class="s">(</span>-<span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># return the nth digit, counting from left</span></li><li></li><li>  <span class="c"># The following all modify their first argument. If you want to pre-</span></li><li>  <span class="c"># serve $x, use $z = $x-&gt;copy()-&gt;bXXX($y); See under L&lt;CAVEATS&gt; for</span></li><li>  <span class="c"># why this is necessary when mixing $a = $b assignments with non-over-</span></li><li>  <span class="c"># loaded math.</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bzero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># set $x to 0</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bnan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># set $x to NaN</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bone</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># set $x to +1</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bone</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># set $x to -1</span></li><li>  <span class="i">$x</span><span class="i">-&gt;binf</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># set $x to inf</span></li><li>  <span class="i">$x</span><span class="i">-&gt;binf</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># set $x to -inf</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bneg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># negation</span></li><li>  <span class="i">$x</span><span class="i">-&gt;babs</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># absolute value</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bsgn</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># sign function (-1, 0, 1, or NaN)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bnorm</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># normalize (no-op in BigInt)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bnot</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># two&#39;s complement (bit wise not)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;binc</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># increment $x by 1</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bdec</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># decrement $x by 1</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;badd</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># addition (add $y to $x)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bsub</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># subtraction (subtract $y from $x)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bmul</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># multiplication (multiply $x by $y)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bdiv</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># divide, set $x to quotient</span></li><li>			<span class="c"># return (quo,rem) or quo if scalar</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bmuladd</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$z</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># $x = $x * $y + $z</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bmod</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># modulus (x % y)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bmodpow</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$mod</span><span class="s">)</span><span class="sc">;</span> <span class="c"># modular exponentiation (($x ** $y) % $mod)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bmodinv</span><span class="s">(</span><span class="i">$mod</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># modular multiplicative inverse</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bpow</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># power of arguments (x ** y)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;blsft</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># left shift in base 2</span></li><li>  <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># right shift in base 2</span></li><li>			<span class="c"># returns (quo,rem) or quo if in sca-</span></li><li>			<span class="c"># lar context</span></li><li>  <span class="i">$x</span><span class="i">-&gt;blsft</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># left shift by $y places in base $n</span></li><li>  <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># right shift by $y places in base $n</span></li><li>			<span class="c"># returns (quo,rem) or quo if in sca-</span></li><li>			<span class="c"># lar context</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;band</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise and</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bior</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise inclusive or</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bxor</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise exclusive or</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bnot</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise not (two&#39;s complement)</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bsqrt</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># calculate square-root</span></li><li>  <span class="i">$x</span><span class="i">-&gt;broot</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># $y&#39;th root of $x (e.g. $y == 3 =&gt; cubic root)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bfac</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># factorial of $x (1*2*3*4*..$x)</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bnok</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># x over y (binomial coefficient n over k)</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;blog</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># logarithm of $x to base e (Euler&#39;s number)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;blog</span><span class="s">(</span><span class="i">$base</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># logarithm of $x to base $base (f.i. 2)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bexp</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># calculate e ** $x where e is Euler&#39;s number</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;round</span><span class="s">(</span><span class="i">$A</span><span class="cm">,</span><span class="i">$P</span><span class="cm">,</span><span class="i">$mode</span><span class="s">)</span><span class="sc">;</span>  <span class="c"># round to accuracy or precision using</span></li><li>			   <span class="c"># mode $mode</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bround</span><span class="s">(</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	   <span class="c"># accuracy: preserve $n digits</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bfround</span><span class="s">(</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	   <span class="c"># $n &gt; 0: round $nth digits,</span></li><li>			   <span class="c"># $n &lt; 0: round to the $nth digit after the</span></li><li>			   <span class="c"># dot, no-op for BigInts</span></li><li></li><li>  <span class="c"># The following do not modify their arguments in BigInt (are no-ops),</span></li><li>  <span class="c"># but do so in BigFloat:</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;bfloor</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>            <span class="c"># round towards minus infinity</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bceil</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>             <span class="c"># round towards plus infinity</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bint</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>              <span class="c"># round towards zero</span></li><li></li><li>  <span class="c"># The following do not modify their arguments:</span></li><li></li><li>  <span class="c"># greatest common divisor (no OO style)</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$gcd</span> = <span class="i">Math::BigInt::bgcd</span><span class="s">(</span><span class="i">@values</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="c"># lowest common multiple (no OO style)</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$lcm</span> = <span class="i">Math::BigInt::blcm</span><span class="s">(</span><span class="i">@values</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;length</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		   <span class="c"># return number of digits in number</span></li><li>  <span class="s">(</span><span class="i">$xl</span><span class="cm">,</span><span class="i">$f</span><span class="s">)</span> = <span class="i">$x</span><span class="i">-&gt;length</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span> <span class="c"># length of number and length of fraction</span></li><li>			   <span class="c"># part, latter is always 0 digits long</span></li><li>			   <span class="c"># for BigInts</span></li><li></li><li>  <span class="i">$x</span><span class="i">-&gt;exponent</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	  <span class="c"># return exponent as BigInt</span></li><li>  <span class="i">$x</span><span class="i">-&gt;mantissa</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	  <span class="c"># return (signed) mantissa as BigInt</span></li><li>  <span class="i">$x</span><span class="i">-&gt;parts</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		  <span class="c"># return (mantissa,exponent) as BigInt</span></li><li>  <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		  <span class="c"># make a true copy of $x (unlike $y = $x;)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;as_int</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		  <span class="c"># return as BigInt (in BigInt: same as copy())</span></li><li>  <span class="i">$x</span><span class="i">-&gt;numify</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		  <span class="c"># return as scalar (might overflow!)</span></li><li></li><li>  <span class="c"># conversion to string (do not modify their argument)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bstr</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	      <span class="c"># normalized string (e.g. &#39;3&#39;)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;bsstr</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	      <span class="c"># norm. string in scientific notation (e.g. &#39;3E0&#39;)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;as_hex</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	      <span class="c"># as signed hexadecimal string with prefixed 0x</span></li><li>  <span class="i">$x</span><span class="i">-&gt;as_bin</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	      <span class="c"># as signed binary string with prefixed 0b</span></li><li>  <span class="i">$x</span><span class="i">-&gt;as_oct</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	      <span class="c"># as signed octal string with prefixed 0</span></li><li></li><li></li><li>  <span class="c"># precision and accuracy (see section about rounding for more)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	 <span class="c"># return P of $x (or global, if P of $x undef)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	 <span class="c"># set P of $x to $n</span></li><li>  <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	 <span class="c"># return A of $x (or global, if A of $x undef)</span></li><li>  <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	 <span class="c"># set A $x to $n</span></li><li></li><li>  <span class="c"># Global methods</span></li><li>  <span class="w">Math::BigInt</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>   <span class="c"># get/set global P for all BigInt objects</span></li><li>  <span class="w">Math::BigInt</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># get/set global A for all BigInt objects</span></li><li>  <span class="w">Math::BigInt</span><span class="w">-&gt;round_mode</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>  <span class="c"># get/set global round mode, one of</span></li><li>			       <span class="c"># &#39;even&#39;, &#39;odd&#39;, &#39;+inf&#39;, &#39;-inf&#39;, &#39;zero&#39;,</span></li><li>			       <span class="c"># &#39;trunc&#39; or &#39;common&#39;</span></li><li>  <span class="w">Math::BigInt</span><span class="w">-&gt;config</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>      <span class="c"># return hash containing configuration</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>All operators (including basic math operations) are overloaded if you
declare your big integers as</p>
<pre class="verbatim"><ol><li>  <span class="i">$i</span> = <span class="w">new</span> <span class="w">Math::BigInt</span> <span class="q">&#39;123_456_789_123_456_789&#39;</span><span class="sc">;</span></li></ol></pre><p>Operations with overloaded operators preserve the arguments which is
exactly what you expect.</p>
<a name="Input"></a><h2>Input</h2>
<p>Input values to these routines may be any string, that looks like a number
and results in an integer, including hexadecimal and binary numbers.</p>
<p>Scalars holding numbers may also be passed, but note that non-integer numbers
may already have lost precision due to the conversion to float. Quote
your input if you want BigInt to see all the digits:</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">12345678890123456789</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># bad</span></li><li>	<span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;12345678901234567890&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># good</span></li></ol></pre><p>You can include one underscore between any two digits.</p>
<p>This means integer values like 1.01E2 or even 1000E-2 are also accepted.
Non-integer values result in NaN.</p>
<p>Hexadecimal (prefixed with "0x") and binary numbers (prefixed with "0b")
are accepted, too. Please note that octal numbers are not recognized
by new(), so the following will print "123":</p>
<pre class="verbatim"><ol><li>	<span class="w">perl</span> -<span class="w">MMath::BigInt</span> -le <span class="q">'print Math::BigInt-&gt;new(&quot;0123&quot;)'</span></li></ol></pre><p>To convert an octal number, use from_oct();</p>
<pre class="verbatim"><ol><li>	<span class="w">perl</span> -<span class="w">MMath::BigInt</span> -le <span class="q">'print Math::BigInt-&gt;from_oct(&quot;0123&quot;)'</span></li></ol></pre><p>Currently, Math::BigInt::new() defaults to 0, while Math::BigInt::new('')
results in 'NaN'. This might change in the future, so use always the following
explicit forms to get a zero or NaN:</p>
<pre class="verbatim"><ol><li>	<span class="i">$zero</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bzero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$nan</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bnan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p><code class="inline"><span class="i">bnorm</span><span class="s">(</span><span class="s">)</span></code>
 on a BigInt object is now effectively a no-op, since the numbers 
are always stored in normalized form. If passed a string, creates a BigInt 
object from the input.</p>
<a name="Output"></a><h2>Output</h2>
<p>Output values are BigInt objects (normalized), except for the methods which
return a string (see <a href="#SYNOPSIS">SYNOPSIS</a>).</p>
<p>Some routines (<code class="inline"><span class="i">is_odd</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">is_even</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">is_zero</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">is_one</span><span class="s">(</span><span class="s">)</span></code>
,
<code class="inline"><span class="i">is_nan</span><span class="s">(</span><span class="s">)</span></code>
, etc.) return true or false, while others (<code class="inline"><span class="i">bcmp</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">bacmp</span><span class="s">(</span><span class="s">)</span></code>
)
return either undef (if NaN is involved), &lt;0, 0 or &gt;0 and are suited for sort.</p>
<a name="METHODS"></a><h1>METHODS</h1>
<p>Each of the methods below (except config(), accuracy() and precision())
accepts three additional parameters. These arguments <code class="inline"><span class="i">$A</span></code>
, <code class="inline"><span class="i">$P</span></code>
 and <code class="inline"><span class="i">$R</span></code>

are <code class="inline"><span class="w">accuracy</span></code>
, <code class="inline"><span class="w">precision</span></code>
 and <code class="inline"><span class="w">round_mode</span></code>
. Please see the section about
<a href="#ACCURACY-and-PRECISION">ACCURACY and PRECISION</a> for more information.</p>
<ul>
<li><a name="config()"></a><b>config()</b>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Data::Dumper</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Dumper</span> <span class="s">(</span> <span class="w">Math::BigInt</span><span class="w">-&gt;config</span><span class="s">(</span><span class="s">)</span> <span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;config</span><span class="s">(</span><span class="s">)</span>-&gt;{<span class="w">lib</span>}<span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>Returns a hash containing the configuration, e.g. the version number, lib
loaded etc. The following hash keys are currently filled in with the
appropriate information.</p>
<pre class="verbatim"><ol><li>    <span class="w">key</span>		  <span class="w">Description</span></li><li>		  <span class="w">Example</span></li><li>    ============================================================</li><li>    <span class="w">lib</span>		  <span class="w">Name</span> <span class="w">of</span> <span class="w">the</span> <span class="w">low</span>-<span class="w">level</span> <span class="w">math</span> <span class="w">library</span></li><li>		  <span class="w">Math::BigInt::Calc</span></li><li>    <span class="w">lib_version</span>   <span class="w">Version</span> <span class="w">of</span> <span class="w">low</span>-<span class="w">level</span> <span class="w">math</span> <span class="w">library</span> <span class="s">(</span><span class="w">see</span> <span class="q">&#39;lib&#39;</span><span class="s">)</span></li><li>		  <span class="n">0.30</span></li><li>    <span class="w">class</span>	  <span class="w">The</span> <span class="w">class</span> <span class="w">name</span> <span class="w">of</span> <span class="i">config</span><span class="s">(</span><span class="s">)</span> <span class="w">you</span> <span class="w">just</span> <span class="w">called</span></li><li>		  <span class="w">Math::BigInt</span></li><li>    <span class="w">upgrade</span>	  <span class="w">To</span> <span class="w">which</span> <span class="w">class</span> <span class="w">math</span> <span class="w">operations</span> <span class="w">might</span> <span class="w">be</span></li><li>		  <span class="w">upgraded</span> <span class="w">Math::BigFloat</span></li><li>    <span class="w">downgrade</span>     <span class="w">To</span> <span class="w">which</span> <span class="w">class</span> <span class="w">math</span> <span class="w">operations</span> <span class="w">might</span> <span class="w">be</span></li><li>		  <span class="w">downgraded</span> <a class="l_k" href="../functions/undef.html">undef</a></li><li>    <span class="w">precision</span>     <span class="w">Global</span> <span class="w">precision</span></li><li>		  <a class="l_k" href="../functions/undef.html">undef</a></li><li>    <span class="w">accuracy</span>      <span class="w">Global</span> <span class="w">accuracy</span></li><li>		  <a class="l_k" href="../functions/undef.html">undef</a></li><li>    <span class="w">round_mode</span>    <span class="w">Global</span> <span class="w">round</span> <span class="w">mode</span></li><li>		  <span class="w">even</span></li><li>    <span class="w">version</span>	  <span class="w">version</span> <span class="w">number</span> <span class="w">of</span> <span class="w">the</span> <span class="w">class</span> <span class="w">you</span> <span class="w">used</span></li><li>		  <span class="n">1.61</span></li><li>    <span class="w">div_scale</span>     <span class="w">Fallback</span> <span class="w">accuracy</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">div</span></li><li>		  <span class="n">40</span></li><li>    <span class="w">trap_nan</span>      <span class="w">If</span> <span class="w">true</span><span class="cm">,</span> <span class="w">traps</span> <span class="w">creation</span> <span class="w">of</span> <span class="w">NaN</span> <span class="w">via</span> <span class="i">croak</span><span class="s">(</span><span class="s">)</span></li><li>		  <span class="n">1</span></li><li>    <span class="w">trap_inf</span>      <span class="w">If</span> <span class="w">true</span><span class="cm">,</span> <span class="w">traps</span> <span class="w">creation</span> <span class="w">of</span> +<span class="w">inf</span><span class="q">/-inf via croak()</span></li><li>		  <span class="q">		  1</span></li></ol></pre><p>The following values can be set by passing <code class="inline"><span class="i">config</span><span class="s">(</span><span class="s">)</span></code>
 a reference to a hash:</p>
<pre class="verbatim"><ol><li>	<span class="w">trap_inf</span> <span class="w">trap_nan</span></li><li>        <span class="w">upgrade</span> <span class="w">downgrade</span> <span class="w">precision</span> <span class="w">accuracy</span> <span class="w">round_mode</span> <span class="w">div_scale</span></li></ol></pre><p>Example:</p>
<pre class="verbatim"><ol><li>	<span class="i">$new_cfg</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;config</span><span class="s">(</span></li><li>	    <span class="s">{</span> <span class="w">trap_inf</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span> <span class="w">precision</span> <span class="cm">=&gt;</span> <span class="n">5</span> <span class="s">}</span></li><li>	<span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a name="accuracy()"></a><b>accuracy()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span>	     <span class="c"># local for $x</span></li><li>    <span class="w">CLASS</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span>	     <span class="c"># global for all members of CLASS</span></li><li>    			     <span class="c"># Note: This also applies to new()!</span></li><li></li><li>    <span class="i">$A</span> = <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>     <span class="c"># read out accuracy that affects $x</span></li><li>    <span class="i">$A</span> = <span class="w">CLASS</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>  <span class="c"># read out global accuracy</span></li></ol></pre><p>Set or get the global or local accuracy, aka how many significant digits the
results have. If you set a global accuracy, then this also applies to new()!</p>
<p>Warning! The accuracy <i>sticks</i>, e.g. once you created a number under the
influence of <code class="inline"><span class="w">CLASS</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="i">$A</span><span class="s">)</span></code>
, all results from math operations with
that number will also be rounded.</p>
<p>In most cases, you should probably round the results explicitly using one of
<a href="#round()">round()</a>, <a href="#bround()">bround()</a> or <a href="#bfround()">bfround()</a> or by passing the desired accuracy
to the math operation as additional parameter:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">30000</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$y</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">7</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/scalar.html">scalar</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;bdiv</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span> <span class="n">2</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># print 4300</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/scalar.html">scalar</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;bdiv</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="i">-&gt;bround</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># print 4300</span></li></ol></pre><p>Please see the section about <a href="#ACCURACY-and-PRECISION">ACCURACY and PRECISION</a> for further details.</p>
<p>Value must be greater than zero. Pass an undef value to disable it:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span></li><li>    <span class="w">Math::BigInt</span><span class="w">-&gt;accuracy</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns the current accuracy. For <code class="inline"><span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span></code>
 it will return either
the local accuracy, or if not defined, the global. This means the return value
represents the accuracy that will be in effect for $x:</p>
<pre class="verbatim"><ol><li>    <span class="i">$y</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1234567</span><span class="s">)</span><span class="sc">;</span>	   <span class="c"># unrounded</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="n">4</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>  <span class="c"># set 4, print 4</span></li><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123456</span><span class="s">)</span><span class="sc">;</span>	   <span class="c"># $x will be automatic-</span></li><li>					   <span class="c"># ally rounded!</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x $y\n&quot;</span><span class="sc">;</span>			   <span class="c"># &#39;123500 1234567&#39;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		   <span class="c"># will be 4</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$y</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		   <span class="c"># also 4, since</span></li><li>					   <span class="c"># global is 4</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>  <span class="c"># set to 5, print 5</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		   <span class="c"># still 4</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$y</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		   <span class="c"># 5, since global is 5</span></li></ol></pre><p>Note: Works also for subclasses like Math::BigFloat. Each class has it's own
globals separated from Math::BigInt, but it is possible to subclass
Math::BigInt and make the globals of the subclass aliases to the ones from
Math::BigInt.</p>
</li>
<li><a name="precision()"></a><b>precision()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="n">-2</span><span class="s">)</span><span class="sc">;</span>          <span class="c"># local for $x, round at the second</span></li><li>                                <span class="c"># digit right of the dot</span></li><li>    <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span>           <span class="c"># ditto, round at the second digit</span></li><li>                                <span class="c"># left of the dot</span></li><li></li><li>    <span class="w">CLASS</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span>        <span class="c"># Global for all members of CLASS</span></li><li>                                <span class="c"># This also applies to new()!</span></li><li>    <span class="w">CLASS</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="n">-5</span><span class="s">)</span><span class="sc">;</span>       <span class="c"># ditto</span></li><li></li><li>    <span class="i">$P</span> = <span class="w">CLASS</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># read out global precision</span></li><li>    <span class="i">$P</span> = <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>       <span class="c"># read out precision that affects $x</span></li></ol></pre><p>Note: You probably want to use <a href="#accuracy()">accuracy()</a> instead. With <a href="#accuracy()">accuracy()</a> you
set the number of digits each result should have, with <a href="#precision()">precision()</a> you
set the place where to round!</p>
<p><code class="inline"><span class="i">precision</span><span class="s">(</span><span class="s">)</span></code>
 sets or gets the global or local precision, aka at which digit
before or after the dot to round all results. A set global precision also
applies to all newly created numbers!</p>
<p>In Math::BigInt, passing a negative number precision has no effect since no
numbers have digits after the dot. In <a href="../Math/BigFloat.html">Math::BigFloat</a>, it will round all
results to P digits after the dot.</p>
<p>Please see the section about <a href="#ACCURACY-and-PRECISION">ACCURACY and PRECISION</a> for further details.</p>
<p>Pass an undef value to disable it:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span></li><li>    <span class="w">Math::BigInt</span><span class="w">-&gt;precision</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns the current precision. For <code class="inline"><span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span></code>
 it will return either
the local precision of $x, or if not defined, the global. This means the return
value represents the prevision that will be in effect for $x:</p>
<pre class="verbatim"><ol><li>    <span class="i">$y</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1234567</span><span class="s">)</span><span class="sc">;</span>	    <span class="c"># unrounded</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="n">4</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>  <span class="c"># set 4, print 4</span></li><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123456</span><span class="s">)</span><span class="sc">;</span>  <span class="c"># will be automatically rounded</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="sc">;</span>				    <span class="c"># print &quot;120000&quot;!</span></li></ol></pre><p>Note: Works also for subclasses like <a href="../Math/BigFloat.html">Math::BigFloat</a>. Each class has its
own globals separated from Math::BigInt, but it is possible to subclass
Math::BigInt and make the globals of the subclass aliases to the ones from
Math::BigInt.</p>
</li>
<li><a name="brsft()"></a><b>brsft()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Shifts $x right by $y in base $n. Default is base 2, used are usually 10 and
2, but others work, too.</p>
<p>Right shifting usually amounts to dividing $x by $n ** $y and truncating the
result:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">10</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># same as $x &gt;&gt; 1: 5</span></li><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1234</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="n">2</span><span class="cm">,</span><span class="n">10</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># result 12</span></li></ol></pre><p>There is one exception, and that is base 2 with negative $x:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">-5</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>This will print -3, not -2 (as it would if you divide -5 by 2 and truncate the
result).</p>
</li>
<li><a name="new()"></a><b>new()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$str</span><span class="cm">,</span><span class="i">$A</span><span class="cm">,</span><span class="i">$P</span><span class="cm">,</span><span class="i">$R</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Creates a new BigInt object from a scalar or another BigInt object. The
input is accepted as decimal, hex (with leading '0x') or binary (with leading
'0b').</p>
<p>See <a href="#Input">Input</a> for more info on accepted input formats.</p>
</li>
<li><a name="from_oct()"></a><b>from_oct()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;from_oct</span><span class="s">(</span><span class="q">&quot;0775&quot;</span><span class="s">)</span><span class="sc">;</span>      <span class="c"># input is octal</span></li></ol></pre><p>Interpret the input as an octal string and return the corresponding value. A
"0" (zero) prefix is optional. A single underscore character may be placed
right after the prefix, if present, or between any two digits. If the input is
invalid, a NaN is returned.</p>
</li>
<li><a name="from_hex()"></a><b>from_hex()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;from_hex</span><span class="s">(</span><span class="q">&quot;0xcafe&quot;</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># input is hexadecimal</span></li></ol></pre><p>Interpret input as a hexadecimal string. A "0x" or "x" prefix is optional. A
single underscore character may be placed right after the prefix, if present,
or between any two digits. If the input is invalid, a NaN is returned.</p>
</li>
<li><a name="from_bin()"></a><b>from_bin()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;from_bin</span><span class="s">(</span><span class="q">&quot;0b10011&quot;</span><span class="s">)</span><span class="sc">;</span>   <span class="c"># input is binary</span></li></ol></pre><p>Interpret the input as a binary string. A "0b" or "b" prefix is optional. A
single underscore character may be placed right after the prefix, if present,
or between any two digits. If the input is invalid, a NaN is returned.</p>
</li>
<li><a name="bnan()"></a><b>bnan()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bnan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Creates a new BigInt object representing NaN (Not A Number).
If used on an object, it will set it to NaN:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bnan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a name="bzero()"></a><b>bzero()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bzero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Creates a new BigInt object representing zero.
If used on an object, it will set it to zero:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bzero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a name="binf()"></a><b>binf()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;binf</span><span class="s">(</span><span class="i">$sign</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Creates a new BigInt object representing infinity. The optional argument is
either '-' or '+', indicating whether you want infinity or minus infinity.
If used on an object, it will set it to infinity:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;binf</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;binf</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a name="bone()"></a><b>bone()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;binf</span><span class="s">(</span><span class="i">$sign</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Creates a new BigInt object representing one. The optional argument is
either '-' or '+', indicating whether you want one or minus one.
If used on an object, it will set it to one:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bone</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># +1</span></li><li>    <span class="i">$x</span><span class="i">-&gt;bone</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># -1</span></li></ol></pre></li>
<li><a name="is_one()%2fis_zero()%2fis_nan()%2fis_inf()"></a><b>is_one()/is_zero()/is_nan()/is_inf()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;is_zero</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if arg is +0</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_nan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if arg is NaN</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_one</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if arg is +1</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_one</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if arg is -1</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_inf</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if +inf</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_inf</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if -inf (sign is default &#39;+&#39;)</span></li></ol></pre><p>These methods all test the BigInt for being one specific value and return
true or false depending on the input. These are faster than doing something
like:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/if.html">if</a> <span class="s">(</span><span class="i">$x</span> == <span class="n">0</span><span class="s">)</span></li></ol></pre></li>
<li><a name="is_pos()%2fis_neg()%2fis_positive()%2fis_negative()"></a><b>is_pos()/is_neg()/is_positive()/is_negative()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;is_pos</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># true if &gt; 0</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_neg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># true if &lt; 0</span></li></ol></pre><p>The methods return true if the argument is positive or negative, respectively.
<code class="inline"><span class="w">NaN</span></code>
 is neither positive nor negative, while <code class="inline">+<span class="w">inf</span></code>
 counts as positive, and
<code class="inline">-<span class="w">inf</span></code>
 is negative. A <code class="inline"><span class="w">zero</span></code>
 is neither positive nor negative.</p>
<p>These methods are only testing the sign, and not the value.</p>
<p><code class="inline"><span class="i">is_positive</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">is_negative</span><span class="s">(</span><span class="s">)</span></code>
 are aliases to <code class="inline"><span class="i">is_pos</span><span class="s">(</span><span class="s">)</span></code>
 and
<code class="inline"><span class="i">is_neg</span><span class="s">(</span><span class="s">)</span></code>
, respectively. <code class="inline"><span class="i">is_positive</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">is_negative</span><span class="s">(</span><span class="s">)</span></code>
 were
introduced in v1.36, while <code class="inline"><span class="i">is_pos</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">is_neg</span><span class="s">(</span><span class="s">)</span></code>
 were only introduced
in v1.68.</p>
</li>
<li><a name="is_odd()%2fis_even()%2fis_int()"></a><b>is_odd()/is_even()/is_int()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;is_odd</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if odd, false for even</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_even</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if even, false for odd</span></li><li>    <span class="i">$x</span><span class="i">-&gt;is_int</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># true if $x is an integer</span></li></ol></pre><p>The return true when the argument satisfies the condition. <code class="inline"><span class="w">NaN</span></code>
, <code class="inline">+<span class="w">inf</span></code>
,
<code class="inline">-<span class="w">inf</span></code>
 are not integers and are neither odd nor even.</p>
<p>In BigInt, all numbers except <code class="inline"><span class="w">NaN</span></code>
, <code class="inline">+<span class="w">inf</span></code>
 and <code class="inline">-<span class="w">inf</span></code>
 are integers.</p>
</li>
<li><a name="bcmp()"></a><b>bcmp()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bcmp</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Compares $x with $y and takes the sign into account.
Returns -1, 0, 1 or undef.</p>
</li>
<li><a name="bacmp()"></a><b>bacmp()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bacmp</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Compares $x with $y while ignoring their sign. Returns -1, 0, 1 or undef.</p>
</li>
<li><a name="sign()"></a><b>sign()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;sign</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Return the sign, of $x, meaning either <code class="inline">+</code>
, <code class="inline">-</code>
, <code class="inline">-<span class="w">inf</span></code>
, <code class="inline">+<span class="w">inf</span></code>
 or NaN.</p>
<p>If you want $x to have a certain sign, use one of the following methods:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;babs</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># &#39;+&#39;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;babs</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;bneg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># &#39;-&#39;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;bnan</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># &#39;NaN&#39;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;binf</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># &#39;+inf&#39;</span></li><li>    <span class="i">$x</span><span class="i">-&gt;binf</span><span class="s">(</span><span class="q">&#39;-&#39;</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># &#39;-inf&#39;</span></li></ol></pre></li>
<li><a name="digit()"></a><b>digit()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;digit</span><span class="s">(</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>	 <span class="c"># return the nth digit, counting from right</span></li></ol></pre><p>If <code class="inline"><span class="i">$n</span></code>
 is negative, returns the digit counting from left.</p>
</li>
<li><a name="bneg()"></a><b>bneg()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bneg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Negate the number, e.g. change the sign between '+' and '-', or between '+inf'
and '-inf', respectively. Does nothing for NaN or zero.</p>
</li>
<li><a name="babs()"></a><b>babs()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;babs</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Set the number to its absolute value, e.g. change the sign from '-' to '+'
and from '-inf' to '+inf', respectively. Does nothing for NaN or positive
numbers.</p>
</li>
<li><a name="bsgn()"></a><b>bsgn()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bsgn</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Signum function. Set the number to -1, 0, or 1, depending on whether the
number is negative, zero, or positive, respectively. Does not modify NaNs.</p>
</li>
<li><a name="bnorm()"></a><b>bnorm()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bnorm</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># normalize (no-op)</span></li></ol></pre></li>
<li><a name="bnot()"></a><b>bnot()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bnot</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Two's complement (bitwise not). This is equivalent to</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;binc</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;bneg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>but faster.</p>
</li>
<li><a name="binc()"></a><b>binc()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;binc</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># increment x by 1</span></li></ol></pre></li>
<li><a name="bdec()"></a><b>bdec()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bdec</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># decrement x by 1</span></li></ol></pre></li>
<li><a name="badd()"></a><b>badd()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;badd</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># addition (add $y to $x)</span></li></ol></pre></li>
<li><a name="bsub()"></a><b>bsub()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bsub</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># subtraction (subtract $y from $x)</span></li></ol></pre></li>
<li><a name="bmul()"></a><b>bmul()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bmul</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># multiplication (multiply $x by $y)</span></li></ol></pre></li>
<li><a name="bmuladd()"></a><b>bmuladd()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bmuladd</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$z</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Multiply $x by $y, and then add $z to the result,</p>
<p>This method was added in v1.87 of Math::BigInt (June 2007).</p>
</li>
<li><a name="bdiv()"></a><b>bdiv()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bdiv</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># divide, set $x to quotient</span></li><li>				<span class="c"># return (quo,rem) or quo if scalar</span></li></ol></pre></li>
<li><a name="bmod()"></a><b>bmod()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bmod</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># modulus (x % y)</span></li></ol></pre></li>
<li><a name="bmodinv()"></a><b>bmodinv()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bmodinv</span><span class="s">(</span><span class="i">$mod</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># modular multiplicative inverse</span></li></ol></pre><p>Returns the multiplicative inverse of <code class="inline"><span class="i">$x</span></code>
 modulo <code class="inline"><span class="i">$mod</span></code>
. If</p>
<pre class="verbatim"><ol><li>    <span class="i">$y</span> = <span class="i">$x</span> <span class="i">-&gt; copy</span><span class="s">(</span><span class="s">)</span> <span class="i">-&gt; bmodinv</span><span class="s">(</span><span class="i">$mod</span><span class="s">)</span></li></ol></pre><p>then <code class="inline"><span class="i">$y</span></code>
 is the number closest to zero, and with the same sign as <code class="inline"><span class="i">$mod</span></code>
,
satisfying</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span><span class="i">$x</span> * <span class="i">$y</span><span class="s">)</span> % <span class="i">$mod</span> = <span class="n">1</span> % <span class="i">$mod</span></li></ol></pre><p>If <code class="inline"><span class="i">$x</span></code>
 and <code class="inline"><span class="i">$y</span></code>
 are non-zero, they must be relative primes, i.e.,
<code class="inline"><span class="i">bgcd</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span> <span class="i">$mod</span><span class="s">)</span>==<span class="n">1</span></code>
. '<code class="inline"><span class="w">NaN</span></code>
' is returned when no modular multiplicative
inverse exists.</p>
</li>
<li><a name="bmodpow()"></a><b>bmodpow()</b>
<pre class="verbatim"><ol><li>    <span class="i">$num</span><span class="i">-&gt;bmodpow</span><span class="s">(</span><span class="i">$exp</span><span class="cm">,</span><span class="i">$mod</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># modular exponentiation</span></li><li>					<span class="c"># ($num**$exp % $mod)</span></li></ol></pre><p>Returns the value of <code class="inline"><span class="i">$num</span></code>
 taken to the power <code class="inline"><span class="i">$exp</span></code>
 in the modulus
<code class="inline"><span class="i">$mod</span></code>
 using binary exponentiation.  <code class="inline"><span class="w">bmodpow</span></code>
 is far superior to
writing</p>
<pre class="verbatim"><ol><li>    <span class="i">$num</span> ** <span class="i">$exp</span> % <span class="i">$mod</span></li></ol></pre><p>because it is much faster - it reduces internal variables into
the modulus whenever possible, so it operates on smaller numbers.</p>
<p><code class="inline"><span class="w">bmodpow</span></code>
 also supports negative exponents.</p>
<pre class="verbatim"><ol><li>    <span class="i">bmodpow</span><span class="s">(</span><span class="i">$num</span><span class="cm">,</span> <span class="n">-1</span><span class="cm">,</span> <span class="i">$mod</span><span class="s">)</span></li></ol></pre><p>is exactly equivalent to</p>
<pre class="verbatim"><ol><li>    <span class="i">bmodinv</span><span class="s">(</span><span class="i">$num</span><span class="cm">,</span> <span class="i">$mod</span><span class="s">)</span></li></ol></pre></li>
<li><a name="bpow()"></a><b>bpow()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bpow</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		      <span class="c"># power of arguments (x ** y)</span></li></ol></pre></li>
<li><a name="blog()"></a><b>blog()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;blog</span><span class="s">(</span><span class="i">$base</span><span class="cm">,</span> <span class="i">$accuracy</span><span class="s">)</span><span class="sc">;</span>   <span class="c"># logarithm of x to the base $base</span></li></ol></pre><p>If <code class="inline"><span class="i">$base</span></code>
 is not defined, Euler's number (e) is used:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;blog</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="cm">,</span> <span class="n">100</span><span class="s">)</span><span class="sc">;</span>       <span class="c"># log(x) to 100 digits</span></li></ol></pre></li>
<li><a name="bexp()"></a><b>bexp()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bexp</span><span class="s">(</span><span class="i">$accuracy</span><span class="s">)</span><span class="sc">;</span>	      <span class="c"># calculate e ** X</span></li></ol></pre><p>Calculates the expression <code class="inline"><span class="w">e</span> ** <span class="i">$x</span></code>
 where <code class="inline"><span class="w">e</span></code>
 is Euler's number.</p>
<p>This method was added in v1.82 of Math::BigInt (April 2007).</p>
<p>See also <a href="#blog()">blog()</a>.</p>
</li>
<li><a name="bnok()"></a><b>bnok()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bnok</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>	  <span class="c"># x over y (binomial coefficient n over k)</span></li></ol></pre><p>Calculates the binomial coefficient n over k, also called the "choose"
function. The result is equivalent to:</p>
<pre class="verbatim"><ol><li>	( n )      n!</li><li>	| - |  = -------</li><li>	( k )    k!(n-k)!</li></ol></pre><p>This method was added in v1.84 of Math::BigInt (April 2007).</p>
</li>
<li><a name="bpi()"></a><b>bpi()</b>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;bpi</span><span class="s">(</span><span class="n">100</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># 3</span></li></ol></pre><p>Returns PI truncated to an integer, with the argument being ignored. This means
under BigInt this always returns <code class="inline"><span class="n">3</span></code>
.</p>
<p>If upgrading is in effect, returns PI, rounded to N digits with the
current rounding mode:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigFloat</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">upgrade</span> <span class="cm">=&gt;</span> <span class="w">Math::BigFloat</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;bpi</span><span class="s">(</span><span class="n">3</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># 3.14</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">Math::BigInt</span><span class="i">-&gt;bpi</span><span class="s">(</span><span class="n">100</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># 3.1415....</span></li></ol></pre><p>This method was added in v1.87 of Math::BigInt (June 2007).</p>
</li>
<li><a name="bcos()"></a><b>bcos()</b>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;bcos</span><span class="s">(</span><span class="n">100</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>Calculate the cosinus of $x, modifying $x in place.</p>
<p>In BigInt, unless upgrading is in effect, the result is truncated to an
integer.</p>
<p>This method was added in v1.87 of Math::BigInt (June 2007).</p>
</li>
<li><a name="bsin()"></a><b>bsin()</b>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;bsin</span><span class="s">(</span><span class="n">100</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>Calculate the sinus of $x, modifying $x in place.</p>
<p>In BigInt, unless upgrading is in effect, the result is truncated to an
integer.</p>
<p>This method was added in v1.87 of Math::BigInt (June 2007).</p>
</li>
<li><a name="batan2()"></a><b>batan2()</b>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$y</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$y</span><span class="i">-&gt;batan2</span><span class="s">(</span><span class="i">$x</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>Calculate the arcus tangens of <code class="inline"><span class="i">$y</span></code>
 divided by <code class="inline"><span class="i">$x</span></code>
, modifying $y in place.</p>
<p>In BigInt, unless upgrading is in effect, the result is truncated to an
integer.</p>
<p>This method was added in v1.87 of Math::BigInt (June 2007).</p>
</li>
<li><a name="batan()"></a><b>batan()</b>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">0.5</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;batan</span><span class="s">(</span><span class="n">100</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>Calculate the arcus tangens of $x, modifying $x in place.</p>
<p>In BigInt, unless upgrading is in effect, the result is truncated to an
integer.</p>
<p>This method was added in v1.87 of Math::BigInt (June 2007).</p>
</li>
<li><a name="blsft()"></a><b>blsft()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;blsft</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># left shift in base 2</span></li><li>    <span class="i">$x</span><span class="i">-&gt;blsft</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># left shift, in base $n (like 10)</span></li></ol></pre></li>
<li><a name="brsft()"></a><b>brsft()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># right shift in base 2</span></li><li>    <span class="i">$x</span><span class="i">-&gt;brsft</span><span class="s">(</span><span class="i">$y</span><span class="cm">,</span><span class="i">$n</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># right shift, in base $n (like 10)</span></li></ol></pre></li>
<li><a name="band()"></a><b>band()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;band</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise and</span></li></ol></pre></li>
<li><a name="bior()"></a><b>bior()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bior</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise inclusive or</span></li></ol></pre></li>
<li><a name="bxor()"></a><b>bxor()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bxor</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># bitwise exclusive or</span></li></ol></pre></li>
<li><a name="bnot()"></a><b>bnot()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bnot</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># bitwise not (two&#39;s complement)</span></li></ol></pre></li>
<li><a name="bsqrt()"></a><b>bsqrt()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bsqrt</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># calculate square-root</span></li></ol></pre></li>
<li><a name="broot()"></a><b>broot()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;broot</span><span class="s">(</span><span class="i">$N</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Calculates the N'th root of <code class="inline"><span class="i">$x</span></code>
.</p>
</li>
<li><a name="bfac()"></a><b>bfac()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bfac</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		        <span class="c"># factorial of $x (1*2*3*4*..$x)</span></li></ol></pre></li>
<li><a name="round()"></a><b>round()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;round</span><span class="s">(</span><span class="i">$A</span><span class="cm">,</span><span class="i">$P</span><span class="cm">,</span><span class="i">$round_mode</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Round $x to accuracy <code class="inline"><span class="i">$A</span></code>
 or precision <code class="inline"><span class="i">$P</span></code>
 using the round mode
<code class="inline"><span class="i">$round_mode</span></code>
.</p>
</li>
<li><a name="bround()"></a><b>bround()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bround</span><span class="s">(</span><span class="i">$N</span><span class="s">)</span><span class="sc">;</span>               <span class="c"># accuracy: preserve $N digits</span></li></ol></pre></li>
<li><a name="bfround()"></a><b>bfround()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bfround</span><span class="s">(</span><span class="i">$N</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If N is &gt; 0, rounds to the Nth digit from the left. If N &lt; 0, rounds to
the Nth digit after the dot. Since BigInts are integers, the case N &lt; 0
is a no-op for them.</p>
<p>Examples:</p>
<pre class="verbatim"><ol><li>	Input		N		Result</li><li>	===================================================</li><li>	123456.123456	3		123500</li><li>	123456.123456	2		123450</li><li>	123456.123456	-2		123456.12</li><li>	123456.123456	-3		123456.123</li></ol></pre></li>
<li><a name="bfloor()"></a><b>bfloor()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bfloor</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Round $x towards minus infinity (i.e., set $x to the largest integer less than
or equal to $x). This is a no-op in BigInt, but changes $x in BigFloat, if $x
is not an integer.</p>
</li>
<li><a name="bceil()"></a><b>bceil()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bceil</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Round $x towards plus infinity (i.e., set $x to the smallest integer greater
than or equal to $x). This is a no-op in BigInt, but changes $x in BigFloat, if
$x is not an integer.</p>
</li>
<li><a name="bint()"></a><b>bint()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bint</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Round $x towards zero. This is a no-op in BigInt, but changes $x in BigFloat,
if $x is not an integer.</p>
</li>
<li><a name="bgcd()"></a><b>bgcd()</b>
<pre class="verbatim"><ol><li>    <span class="i">bgcd</span><span class="s">(</span><span class="i">@values</span><span class="s">)</span><span class="sc">;</span>	     <span class="c"># greatest common divisor (no OO style)</span></li></ol></pre></li>
<li><a name="blcm()"></a><b>blcm()</b>
<pre class="verbatim"><ol><li>    <span class="i">blcm</span><span class="s">(</span><span class="i">@values</span><span class="s">)</span><span class="sc">;</span>	     <span class="c"># lowest common multiple (no OO style)</span></li></ol></pre></li>
<li><a name="length()"></a><b>length()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;length</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="s">(</span><span class="i">$xl</span><span class="cm">,</span><span class="i">$fl</span><span class="s">)</span> = <span class="i">$x</span><span class="i">-&gt;length</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns the number of digits in the decimal representation of the number.
In list context, returns the length of the integer and fraction part. For
BigInt's, the length of the fraction part will always be 0.</p>
</li>
<li><a name="exponent()"></a><b>exponent()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;exponent</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Return the exponent of $x as BigInt.</p>
</li>
<li><a name="mantissa()"></a><b>mantissa()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;mantissa</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Return the signed mantissa of $x as BigInt.</p>
</li>
<li><a name="parts()"></a><b>parts()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;parts</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># return (mantissa,exponent) as BigInt</span></li></ol></pre></li>
<li><a name="copy()"></a><b>copy()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># make a true copy of $x (unlike $y = $x;)</span></li></ol></pre></li>
<li><a name="as_int()%2fas_number()"></a><b>as_int()/as_number()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;as_int</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns $x as a BigInt (truncated towards zero). In BigInt this is the same as
<code class="inline"><span class="i">copy</span><span class="s">(</span><span class="s">)</span></code>
.</p>
<p><code class="inline"><span class="i">as_number</span><span class="s">(</span><span class="s">)</span></code>
 is an alias to this method. <code class="inline"><span class="w">as_number</span></code>
 was introduced in
v1.22, while <code class="inline"><span class="i">as_int</span><span class="s">(</span><span class="s">)</span></code>
 was only introduced in v1.68.</p>
</li>
<li><a name="bstr()"></a><b>bstr()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bstr</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Returns a normalized string representation of <code class="inline"><span class="i">$x</span></code>
.</p>
</li>
<li><a name="bsstr()"></a><b>bsstr()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;bsstr</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>     <span class="c"># normalized string in scientific notation</span></li></ol></pre></li>
<li><a name="as_hex()"></a><b>as_hex()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;as_hex</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># as signed hexadecimal string with prefixed 0x</span></li></ol></pre></li>
<li><a name="as_bin()"></a><b>as_bin()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;as_bin</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># as signed binary string with prefixed 0b</span></li></ol></pre></li>
<li><a name="as_oct()"></a><b>as_oct()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;as_oct</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>    <span class="c"># as signed octal string with prefixed 0</span></li></ol></pre></li>
<li><a name="numify()"></a><b>numify()</b>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;numify</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>This returns a normal Perl scalar from $x. It is used automatically
whenever a scalar is needed, for instance in array index operations.</p>
<p>This loses precision, to avoid this use <a href="#as_int()%2fas_number()">as_int()</a> instead.</p>
</li>
<li><a name="modify()"></a><b>modify()</b>
<pre class="verbatim"><ol><li>    <span class="i">$x</span><span class="i">-&gt;modify</span><span class="s">(</span><span class="q">&#39;bpowd&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>This method returns 0 if the object can be modified with the given
operation, or 1 if not.</p>
<p>This is used for instance by <a href="http://search.cpan.org/perldoc/Math::BigInt::Constant">Math::BigInt::Constant</a>.</p>
</li>
<li><a name="upgrade()%2fdowngrade()"></a><b>upgrade()/downgrade()</b>
<p>Set/get the class for downgrade/upgrade operations. Thuis is used
for instance by <a href="../bignum.html">bignum</a>. The defaults are '', thus the following
operation will create a BigInt, not a BigFloat:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/my.html">my</a> <span class="i">$i</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123</span><span class="s">)</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/my.html">my</a> <span class="i">$f</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;123.1&#39;</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$i</span> + <span class="i">$f</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>			<span class="c"># print 246</span></li></ol></pre></li>
<li><a name="div_scale()"></a><b>div_scale()</b>
<p>Set/get the number of digits for the default precision in divide
operations.</p>
</li>
<li><a name="round_mode()"></a><b>round_mode()</b>
<p>Set/get the current round mode.</p>
</li>
</ul>
<a name="ACCURACY-and-PRECISION"></a><h1>ACCURACY and PRECISION</h1>
<p>Since version v1.33, Math::BigInt and Math::BigFloat have full support for
accuracy and precision based rounding, both automatically after every
operation, as well as manually.</p>
<p>This section describes the accuracy/precision handling in Math::Big* as it
used to be and as it is now, complete with an explanation of all terms and
abbreviations.</p>
<p>Not yet implemented things (but with correct description) are marked with '!',
things that need to be answered are marked with '?'.</p>
<p>In the next paragraph follows a short description of terms used here (because
these may differ from terms used by others people or documentation).</p>
<p>During the rest of this document, the shortcuts A (for accuracy), P (for
precision), F (fallback) and R (rounding mode) will be used.</p>
<a name="Precision-P"></a><h2>Precision P</h2>
<p>A fixed number of digits before (positive) or after (negative)
the decimal point. For example, 123.45 has a precision of -2. 0 means an
integer like 123 (or 120). A precision of 2 means two digits to the left
of the decimal point are zero, so 123 with P = 1 becomes 120. Note that
numbers with zeros before the decimal point may have different precisions,
because 1200 can have p = 0, 1 or 2 (depending on what the initial value
was). It could also have p &lt; 0, when the digits after the decimal point
are zero.</p>
<p>The string output (of floating point numbers) will be padded with zeros:</p>
<pre class="verbatim"><ol><li>	Initial value   P       A	Result          String</li><li>	------------------------------------------------------------</li><li>	1234.01         -3      	1000            1000</li><li>	1234            -2      	1200            1200</li><li>	1234.5          -1      	1230            1230</li><li>	1234.001        1       	1234            1234.0</li><li>	1234.01         0       	1234            1234</li><li>	1234.01         2       	1234.01		1234.01</li><li>	1234.01         5       	1234.01		1234.01000</li></ol></pre><p>For BigInts, no padding occurs.</p>
<a name="Accuracy-A"></a><h2>Accuracy A</h2>
<p>Number of significant digits. Leading zeros are not counted. A
number may have an accuracy greater than the non-zero digits
when there are zeros in it or trailing zeros. For example, 123.456 has
A of 6, 10203 has 5, 123.0506 has 7, 123.450000 has 8 and 0.000123 has 3.</p>
<p>The string output (of floating point numbers) will be padded with zeros:</p>
<pre class="verbatim"><ol><li>	Initial value   P       A	Result          String</li><li>	------------------------------------------------------------</li><li>	1234.01			3	1230		1230</li><li>	1234.01			6	1234.01		1234.01</li><li>	1234.1			8	1234.1		1234.1000</li></ol></pre><p>For BigInts, no padding occurs.</p>
<a name="Fallback-F"></a><h2>Fallback F</h2>
<p>When both A and P are undefined, this is used as a fallback accuracy when
dividing numbers.</p>
<a name="Rounding-mode-R"></a><h2>Rounding mode R</h2>
<p>When rounding a number, different 'styles' or 'kinds'
of rounding are possible. (Note that random rounding, as in
Math::Round, is not implemented.)</p>
<ul>
<li><a name="'trunc'"></a><b>'trunc'</b>
<p>truncation invariably removes all digits following the
rounding place, replacing them with zeros. Thus, 987.65 rounded
to tens (P=1) becomes 980, and rounded to the fourth sigdig
becomes 987.6 (A=4). 123.456 rounded to the second place after the
decimal point (P=-2) becomes 123.46.</p>
<p>All other implemented styles of rounding attempt to round to the
"nearest digit." If the digit D immediately to the right of the
rounding place (skipping the decimal point) is greater than 5, the
number is incremented at the rounding place (possibly causing a
cascade of incrementation): e.g. when rounding to units, 0.9 rounds
to 1, and -19.9 rounds to -20. If D &lt; 5, the number is similarly
truncated at the rounding place: e.g. when rounding to units, 0.4
rounds to 0, and -19.4 rounds to -19.</p>
<p>However the results of other styles of rounding differ if the
digit immediately to the right of the rounding place (skipping the
decimal point) is 5 and if there are no digits, or no digits other
than 0, after that 5. In such cases:</p>
</li>
<li><a name="'even'"></a><b>'even'</b>
<p>rounds the digit at the rounding place to 0, 2, 4, 6, or 8
if it is not already. E.g., when rounding to the first sigdig, 0.45
becomes 0.4, -0.55 becomes -0.6, but 0.4501 becomes 0.5.</p>
</li>
<li><a name="'odd'"></a><b>'odd'</b>
<p>rounds the digit at the rounding place to 1, 3, 5, 7, or 9 if
it is not already. E.g., when rounding to the first sigdig, 0.45
becomes 0.5, -0.55 becomes -0.5, but 0.5501 becomes 0.6.</p>
</li>
<li><a name="'%2binf'"></a><b>'+inf'</b>
<p>round to plus infinity, i.e. always round up. E.g., when
rounding to the first sigdig, 0.45 becomes 0.5, -0.55 becomes -0.5,
and 0.4501 also becomes 0.5.</p>
</li>
<li><a name="'-inf'"></a><b>'-inf'</b>
<p>round to minus infinity, i.e. always round down. E.g., when
rounding to the first sigdig, 0.45 becomes 0.4, -0.55 becomes -0.6,
but 0.4501 becomes 0.5.</p>
</li>
<li><a name="'zero'"></a><b>'zero'</b>
<p>round to zero, i.e. positive numbers down, negative ones up.
E.g., when rounding to the first sigdig, 0.45 becomes 0.4, -0.55
becomes -0.5, but 0.4501 becomes 0.5.</p>
</li>
<li><a name="'common'"></a><b>'common'</b>
<p>round up if the digit immediately to the right of the rounding place
is 5 or greater, otherwise round down. E.g., 0.15 becomes 0.2 and
0.149 becomes 0.1.</p>
</li>
</ul>
<p>The handling of A &amp; P in MBI/MBF (the old core code shipped with Perl
versions &lt;= 5.7.2) is like this:</p>
<ul>
<li><a name="Precision"></a><b>Precision</b>
<pre class="verbatim"><ol><li>  * ffround($p) is able to round to $p number of digits after the decimal</li><li>    point</li><li>  * otherwise P is unused</li></ol></pre></li>
<li><a name="Accuracy-(significant-digits)"></a><b>Accuracy (significant digits)</b>
<pre class="verbatim"><ol><li>  <span class="i">* fround</span><span class="s">(</span><span class="i">$a</span><span class="s">)</span> <span class="w">rounds</span> <span class="w">to</span> <span class="i">$a</span> <span class="w">significant</span> <span class="w">digits</span></li><li>  * <span class="w">only</span> <span class="i">fdiv</span><span class="s">(</span><span class="s">)</span> <a class="l_k" href="../functions/and.html">and</a> <span class="i">fsqrt</span><span class="s">(</span><span class="s">)</span> <span class="w">take</span> <span class="w">A</span> <span class="w">as</span> <span class="s">(</span><span class="w">optional</span><span class="s">)</span> <span class="w">parameter</span></li><li>    + <span class="w">other</span> <span class="w">operations</span> <span class="w">simply</span> <span class="w">create</span> <span class="w">the</span> <span class="w">same</span> <span class="w">number</span> <span class="s">(</span><span class="w">fneg</span> <span class="w">etc</span><span class="s">)</span><span class="cm">,</span> <a class="l_k" href="../functions/or.html">or</a></li><li>      <span class="w">more</span> <span class="s">(</span><span class="w">fmul</span><span class="s">)</span> <span class="w">of</span> <span class="w">digits</span></li><li>    + <span class="w">rounding</span>/<span class="w">truncating</span> <span class="w">is</span> <span class="w">only</span> <span class="w">done</span> <a class="l_k" href="../functions/when.html">when</a> <span class="w">explicitly</span> <span class="w">calling</span> <span class="w">one</span></li><li>      <span class="w">of</span> <span class="w">fround</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">ffround</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">never</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">BigInt</span> <span class="s">(</span><a class="l_k" href="../functions/not.html">not</a> <span class="w">implemented</span><span class="s">)</span></li><li>  * <span class="i">fsqrt</span><span class="s">(</span><span class="s">)</span> <span class="w">simply</span> <span class="w">hands</span> <span class="w">its</span> <span class="w">accuracy</span> <span class="w">argument</span> <span class="w">over</span> <span class="w">to</span> <span class="w">fdiv</span>.</li><li>  <span class="i">* the</span> <span class="w">documentation</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">the</span> <span class="w">comment</span> <span class="w">in</span> <span class="w">the</span> <span class="w">code</span> <span class="w">indicate</span> <span class="w">two</span></li><li>    <span class="w">different</span> <span class="w">ways</span> <span class="w">on</span> <span class="w">how</span> <span class="i">fdiv</span><span class="s">(</span><span class="s">)</span> <span class="w">determines</span> <span class="w">the</span> <span class="w">maximum</span> <span class="w">number</span></li><li>    <span class="w">of</span> <span class="w">digits</span> <span class="w">it</span> <span class="w">should</span> <span class="w">calculate</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">the</span> <span class="w">actual</span> <span class="w">code</span> <span class="w">does</span> <span class="w">yet</span></li><li>    <span class="w">another</span> <span class="w">thing</span></li><li>    <span class="w">POD</span><span class="co">:</span></li><li>      <span class="i">max</span><span class="s">(</span><span class="i">$Math::BigFloat::div_scale</span><span class="cm">,</span><a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">dividend</span><span class="s">)</span>+<a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">divisor</span><span class="s">)</span><span class="s">)</span></li><li>    <span class="w">Comment</span><span class="co">:</span></li><li>      <span class="w">result</span> <span class="w">has</span> <span class="w">at</span> <span class="w">most</span> <span class="i">max</span><span class="s">(</span><span class="w">scale</span><span class="cm">,</span> <a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">dividend</span><span class="s">)</span><span class="cm">,</span> <a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">divisor</span><span class="s">)</span><span class="s">)</span> <span class="w">digits</span></li><li>    <span class="w">Actual</span> <span class="w">code</span><span class="co">:</span></li><li>      <span class="w">scale</span> = <span class="i">max</span><span class="s">(</span><span class="w">scale</span><span class="cm">,</span> <a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">dividend</span><span class="s">)</span>-<span class="n">1</span><span class="cm">,</span><a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">divisor</span><span class="s">)</span>-<span class="n">1</span><span class="s">)</span><span class="sc">;</span></li><li>      <span class="w">scale</span> += <a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">divisor</span><span class="s">)</span> - <a class="l_k" href="../functions/length.html">length</a><span class="s">(</span><span class="w">dividend</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="w">So</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">lx</span> = <span class="n">3</span><span class="cm">,</span> <span class="w">ly</span> = <span class="n">9</span><span class="cm">,</span> <span class="w">scale</span> = <span class="n">10</span><span class="cm">,</span> <span class="w">scale</span> <span class="w">will</span> <span class="w">actually</span> <span class="w">be</span> <span class="n">16</span> <span class="s">(</span><span class="n">10</span></li><li>    <span class="w">So</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">lx</span> = <span class="n">3</span><span class="cm">,</span> <span class="w">ly</span> = <span class="n">9</span><span class="cm">,</span> <span class="w">scale</span> = <span class="n">10</span><span class="cm">,</span> <span class="w">scale</span> <span class="w">will</span> <span class="w">actually</span> <span class="w">be</span> <span class="n">16</span></li><li>    <span class="s">(</span><span class="n">10</span>+<span class="n">9</span>-<span class="n">3</span><span class="s">)</span>. <span class="w">Actually</span><span class="cm">,</span> <span class="w">the</span> <span class="q">&#39;difference&#39;</span> <span class="w">added</span> <span class="w">to</span> <span class="w">the</span> <span class="w">scale</span> <span class="w">is</span> <span class="w">cal</span>-</li><li>    <span class="w">culated</span> <span class="w">from</span> <span class="w">the</span> <span class="w">number</span> <span class="w">of</span> <span class="q">&quot;significant digits&quot;</span> <span class="w">in</span> <span class="w">dividend</span> <a class="l_k" href="../functions/and.html">and</a></li><li>    <span class="w">divisor</span><span class="cm">,</span> <span class="w">which</span> <span class="w">is</span> <span class="w">derived</span> <span class="w">by</span> <span class="w">looking</span> <span class="w">at</span> <span class="w">the</span> <a class="l_k" href="../functions/length.html">length</a> <span class="w">of</span> <span class="w">the</span> <span class="w">man</span>-</li><li>    <span class="w">tissa</span>. <span class="w">Which</span> <span class="w">is</span> <span class="w">wrong</span><span class="cm">,</span> <span class="w">since</span> <span class="w">it</span> <span class="w">includes</span> <span class="w">the</span> + <span class="w">sign</span> <span class="s">(</span><span class="w">oops</span><span class="s">)</span> <a class="l_k" href="../functions/and.html">and</a></li><li>    <span class="w">actually</span> <span class="w">gets</span> <span class="n">2</span> <a class="l_k" href="../functions/for.html">for</a> <span class="q">&#39;+100&#39;</span> <a class="l_k" href="../functions/and.html">and</a> <span class="n">4</span> <a class="l_k" href="../functions/for.html">for</a> <span class="q">&#39;+101&#39;</span>. <span class="w">Oops</span> <span class="w">again</span>. <span class="w">Thus</span></li><li>    <span class="n">124</span>/<span class="n">3</span> <span class="w">with</span> <span class="w">div_scale</span>=<span class="n">1</span> <span class="w">will</span> <span class="w">get</span> <span class="w">you</span> <span class="q">&#39;41.3&#39;</span> <span class="w">based</span> <span class="w">on</span> <span class="w">the</span> <span class="w">strange</span></li><li>    <span class="w">assumption</span> <span class="w">that</span> <span class="n">124</span> <span class="w">has</span> <span class="n">3</span> <span class="w">significant</span> <span class="w">digits</span><span class="cm">,</span> <a class="l_k" href="../functions/while.html">while</a> <span class="n">120</span>/<span class="n">7</span> <span class="w">will</span></li><li>    <span class="w">get</span> <span class="w">you</span> <span class="q">&#39;17&#39;</span><span class="cm">,</span> <a class="l_k" href="../functions/not.html">not</a> <span class="q">&#39;17.1&#39;</span> <span class="w">since</span> <span class="n">120</span> <span class="w">is</span> <span class="w">thought</span> <span class="w">to</span> <span class="w">have</span> <span class="n">2</span> <span class="w">signif</span>-</li><li>    <span class="w">icant</span> <span class="w">digits</span>. <span class="w">The</span> <span class="w">rounding</span> <span class="w">after</span> <span class="w">the</span> <span class="w">division</span> <span class="w">then</span> <span class="w">uses</span> <span class="w">the</span></li><li>    <span class="w">remainder</span> <a class="l_k" href="../functions/and.html">and</a> <span class="i">$y</span> <span class="w">to</span> <span class="w">determine</span> <span class="w">whether</span> <span class="w">it</span> <span class="w">must</span> <span class="w">round</span> <span class="w">up</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">down</span>.</li><li> <span class="q">?  I have no idea which is the right way. That&#39;s why I used a slightly more</span></li><li> <span class="q"> ?</span>  <span class="w">simple</span> <span class="w">scheme</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">tweaked</span> <span class="w">the</span> <span class="w">few</span> <span class="w">failing</span> <span class="w">testcases</span> <span class="w">to</span> <span class="w">match</span> <span class="w">it</span>.</li></ol></pre></li>
</ul>
<p>This is how it works now:</p>
<ul>
<li><a name="Setting%2fAccessing"></a><b>Setting/Accessing</b>
<pre class="verbatim"><ol><li>  <span class="i">* You</span> <span class="w">can</span> <span class="w">set</span> <span class="w">the</span> <span class="w">A</span> <span class="w">global</span> <span class="w">via</span> <span class="w">Math::BigInt</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <a class="l_k" href="../functions/or.html">or</a></li><li>    <span class="w">Math::BigFloat</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">whatever</span> <span class="w">class</span> <span class="w">you</span> <span class="w">are</span> <span class="w">using</span>.</li><li>  <span class="i">* You</span> <span class="w">can</span> <span class="w">also</span> <span class="w">set</span> <span class="w">P</span> <span class="w">globally</span> <span class="w">by</span> <span class="w">using</span> <span class="w">Math::SomeClass</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="s">)</span></li><li>    <span class="w">likewise</span>.</li><li>  <span class="i">* Globals</span> <span class="w">are</span> <span class="w">classwide</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <a class="l_k" href="../functions/not.html">not</a> <span class="w">inherited</span> <span class="w">by</span> <span class="w">subclasses</span>.</li><li>  <span class="i">* to</span> <span class="w">undefine</span> <span class="w">A</span><span class="cm">,</span> <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::SomeCLass</span><span class="w">-&gt;accuracy</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">* to</span> <span class="w">undefine</span> <span class="w">P</span><span class="cm">,</span> <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::SomeClass</span><span class="w">-&gt;precision</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">* Setting</span> <span class="w">Math::SomeClass</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <span class="w">clears</span> <span class="w">automatically</span></li><li>    <span class="w">Math::SomeClass</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">vice</span> <span class="w">versa</span>.</li><li>  <span class="i">* To</span> <span class="w">be</span> <span class="w">valid</span><span class="cm">,</span> <span class="w">A</span> <span class="w">must</span> <span class="w">be</span> &gt; <span class="n">0</span><span class="cm">,</span> <span class="w">P</span> <span class="w">can</span> <span class="w">have</span> <span class="w">any</span> <span class="w">value</span>.</li><li>  <span class="i">* If</span> <span class="w">P</span> <span class="w">is</span> <span class="w">negative</span><span class="cm">,</span> <span class="w">this</span> <span class="w">means</span> <span class="w">round</span> <span class="w">to</span> <span class="w">the</span> <span class="w">P&#39;th</span> <span class="w">place</span> <span class="w">to</span> <span class="w">the</span> <span class="w">right</span> <span class="w">of</span> <span class="w">the</span></li><li>    <span class="w">decimal</span> <span class="w">point</span><span class="sc">;</span> <span class="w">positive</span> <a class="l_k" href="../functions/values.html">values</a> <span class="w">mean</span> <span class="w">to</span> <span class="w">the</span> <span class="w">left</span> <span class="w">of</span> <span class="w">the</span> <span class="w">decimal</span> <span class="w">point</span>.</li><li>    <span class="w">P</span> <span class="w">of</span> <span class="n">0</span> <span class="w">means</span> <span class="w">round</span> <span class="w">to</span> <span class="w">integer</span>.</li><li>  <span class="i">* to</span> <span class="w">find</span> <span class="w">out</span> <span class="w">the</span> <span class="w">current</span> <span class="w">global</span> <span class="w">A</span><span class="cm">,</span> <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::SomeClass</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span></li><li>  * <span class="w">to</span> <span class="w">find</span> <span class="w">out</span> <span class="w">the</span> <span class="w">current</span> <span class="w">global</span> <span class="w">P</span><span class="cm">,</span> <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::SomeClass</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="s">)</span></li><li>  * <a class="l_k" href="../functions/use.html">use</a> <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <span class="w">respective</span> <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">the</span> <a class="l_k" href="../functions/local.html">local</a></li><li>    <span class="w">setting</span> <span class="w">of</span> <span class="i">$x</span>.</li><li>  <span class="i">* Please</span> <span class="w">note</span> <span class="w">that</span> <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <span class="w">respective</span> <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span></li><li>    <a class="l_k" href="../functions/return.html">return</a> <span class="w">eventually</span> <a class="l_k" href="../functions/defined.html">defined</a> <span class="w">global</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span><span class="cm">,</span> <a class="l_k" href="../functions/when.html">when</a> <span class="i">$x&#39;s</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">is</span> <a class="l_k" href="../functions/not.html">not</a></li><li>    <span class="w">set</span>.</li></ol></pre></li>
<li><a name="Creating-numbers"></a><b>Creating numbers</b>
<pre class="verbatim"><ol><li>  <span class="i">* When</span> <span class="w">you</span> <span class="w">create</span> <span class="w">a</span> <span class="w">number</span><span class="cm">,</span> <span class="w">you</span> <span class="w">can</span> <span class="w">give</span> <span class="w">the</span> <span class="w">desired</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">via</span><span class="co">:</span></li><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$number</span><span class="cm">,</span><span class="i">$A</span><span class="cm">,</span><span class="i">$P</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">* Only</span> <span class="w">one</span> <span class="w">of</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">can</span> <span class="w">be</span> <a class="l_k" href="../functions/defined.html">defined</a><span class="cm">,</span> <span class="w">otherwise</span> <span class="w">the</span> <span class="w">result</span> <span class="w">is</span> <span class="w">NaN</span></li><li>  * <span class="w">If</span> <a class="l_k" href="../functions/no.html">no</a> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">is</span> <span class="w">give</span> <span class="s">(</span><span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$number</span><span class="s">)</span> <span class="w">form</span><span class="s">)</span><span class="cm">,</span> <span class="w">then</span> <span class="w">the</span></li><li>    <span class="w">globals</span> <span class="s">(</span><a class="l_k" href="../functions/if.html">if</a> <span class="w">set</span><span class="s">)</span> <span class="w">will</span> <span class="w">be</span> <span class="w">used</span>. <span class="w">Thus</span> <span class="w">changing</span> <span class="w">the</span> <span class="w">global</span> <span class="w">defaults</span> <span class="w">later</span> <span class="w">on</span></li><li>    <span class="w">will</span> <a class="l_k" href="../functions/not.html">not</a> <span class="w">change</span> <span class="w">the</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">of</span> <span class="w">previously</span> <span class="w">created</span> <span class="w">numbers</span> <span class="s">(</span><span class="w">i</span>.<span class="w">e</span>.<span class="cm">,</span> <span class="w">A</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">P</span> <span class="w">of</span></li><li>    <span class="i">$x</span> <span class="w">will</span> <span class="w">be</span> <span class="w">what</span> <span class="w">was</span> <span class="w">in</span> <span class="w">effect</span> <a class="l_k" href="../functions/when.html">when</a> <span class="i">$x</span> <span class="w">was</span> <span class="w">created</span><span class="s">)</span></li><li>  * <span class="w">If</span> <a class="l_k" href="../functions/given.html">given</a> <a class="l_k" href="../functions/undef.html">undef</a> <a class="l_k" href="../functions/for.html">for</a> <span class="w">A</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">P</span><span class="cm">,</span> <span class="w">NO</span> <span class="w">rounding</span> <span class="w">will</span> <span class="w">occur</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">the</span> <span class="w">globals</span> <span class="w">will</span></li><li>    <span class="w">NOT</span> <span class="w">be</span> <span class="w">used</span>. <span class="w">This</span> <span class="w">is</span> <span class="w">used</span> <span class="w">by</span> <span class="w">subclasses</span> <span class="w">to</span> <span class="w">create</span> <span class="w">numbers</span> <span class="w">without</span></li><li>    <span class="w">suffering</span> <span class="w">rounding</span> <span class="w">in</span> <span class="w">the</span> <span class="w">parent</span>. <span class="w">Thus</span> <span class="w">a</span> <span class="w">subclass</span> <span class="w">is</span> <span class="w">able</span> <span class="w">to</span> <span class="w">have</span> <span class="w">its</span> <span class="w">own</span></li><li>    <span class="w">globals</span> <span class="w">enforced</span> <span class="w">upon</span> <span class="w">creation</span> <span class="w">of</span> <span class="w">a</span> <span class="w">number</span> <span class="w">by</span> <span class="w">using</span></li><li>    <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$number</span><span class="cm">,</span><a class="l_k" href="../functions/undef.html">undef</a><span class="cm">,</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="co">:</span></li><li></li><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt::SomeSubclass</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li></li><li>	<span class="w">Math::BigInt</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="w">Math::BigInt::SomeSubClass</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="n">3</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$x</span> = <span class="w">Math::BigInt::SomeSubClass</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">1234</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="i">$x</span> <span class="w">is</span> <span class="w">now</span> <span class="n">1230</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <a class="l_k" href="../functions/not.html">not</a> <span class="n">1200.</span> <span class="w">A</span> <span class="w">subclass</span> <span class="w">might</span> <span class="w">choose</span> <span class="w">to</span> <span class="w">implement</span></li><li>    <span class="w">this</span> <span class="w">otherwise</span><span class="cm">,</span> <span class="w">e</span>.<span class="w">g</span>. <span class="w">falling</span> <span class="w">back</span> <span class="w">to</span> <span class="w">the</span> <span class="w">parent&#39;s</span> <span class="w">A</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">P</span>.</li></ol></pre></li>
<li><a name="Usage"></a><b>Usage</b>
<pre class="verbatim"><ol><li>  * If A or P are enabled/defined, they are used to round the result of each</li><li>    operation according to the rules below</li><li>  * Negative P is ignored in Math::BigInt, since BigInts never have digits</li><li>    after the decimal point</li><li>  * Math::BigFloat uses Math::BigInt internally, but setting A or P inside</li><li>    Math::BigInt as globals does not tamper with the parts of a BigFloat.</li><li>    A flag is used to mark all Math::BigFloat numbers as 'never round'.</li></ol></pre></li>
<li><a name="Precedence"></a><b>Precedence</b>
<pre class="verbatim"><ol><li>  * It only makes sense that a number has only one of A or P at a time.</li><li>    If you set either A or P on one object, or globally, the other one will</li><li>    be automatically cleared.</li><li>  * If two objects are involved in an operation, and one of them has A in</li><li>    effect, and the other P, this results in an error (NaN).</li><li>  * A takes precedence over P (Hint: A comes before P).</li><li>    If neither of them is defined, nothing is used, i.e. the result will have</li><li>    as many digits as it can (with an exception for fdiv/fsqrt) and will not</li><li>    be rounded.</li><li>  * There is another setting for fdiv() (and thus for fsqrt()). If neither of</li><li>    A or P is defined, fdiv() will use a fallback (F) of $div_scale digits.</li><li>    If either the dividend's or the divisor's mantissa has more digits than</li><li>    the value of F, the higher value will be used instead of F.</li><li>    This is to limit the digits (A) of the result (just consider what would</li><li>    happen with unlimited A and P in the case of 1/3 :-)</li><li>  * fdiv will calculate (at least) 4 more digits than required (determined by</li><li>    A, P or F), and, if F is not used, round the result</li><li>    (this will still fail in the case of a result like 0.12345000000001 with A</li><li>    or P of 5, but this can not be helped - or can it?)</li><li>  * Thus you can have the math done by on Math::Big* class in two modi:</li><li>    + never round (this is the default):</li><li>      This is done by setting A and P to undef. No math operation</li><li>      will round the result, with fdiv() and fsqrt() as exceptions to guard</li><li>      against overflows. You must explicitly call bround(), bfround() or</li><li>      round() (the latter with parameters).</li><li>      Note: Once you have rounded a number, the settings will 'stick' on it</li><li>      and 'infect' all other numbers engaged in math operations with it, since</li><li>      local settings have the highest precedence. So, to get SaferRound[tm],</li><li>      use a copy() before rounding like this:</li><li></li><li>        $x = Math::BigFloat-&gt;new(12.34);</li><li>        $y = Math::BigFloat-&gt;new(98.76);</li><li>        $z = $x * $y;                           # 1218.6984</li><li>        print $x-&gt;copy()-&gt;fround(3);            # 12.3 (but A is now 3!)</li><li>        $z = $x * $y;                           # still 1218.6984, without</li><li>                                                # copy would have been 1210!</li><li></li><li>    + round after each op:</li><li>      After each single operation (except for testing like is_zero()), the</li><li>      method round() is called and the result is rounded appropriately. By</li><li>      setting proper values for A and P, you can have all-the-same-A or</li><li>      all-the-same-P modes. For example, Math::Currency might set A to undef,</li><li>      and P to -2, globally.</li><li></li><li> ?Maybe an extra option that forbids local A &amp; P settings would be in order,</li><li> ?so that intermediate rounding does not 'poison' further math?</li></ol></pre></li>
<li><a name="Overriding-globals"></a><b>Overriding globals</b>
<pre class="verbatim"><ol><li>  * you will be able to give A, P and R as an argument to all the calculation</li><li>    routines; the second parameter is A, the third one is P, and the fourth is</li><li>    R (shift right by one for binary operations like badd). P is used only if</li><li>    the first parameter (A) is undefined. These three parameters override the</li><li>    globals in the order detailed as follows, i.e. the first defined value</li><li>    wins:</li><li>    (local: per object, global: global default, parameter: argument to sub)</li><li>      + parameter A</li><li>      + parameter P</li><li>      + local A (if defined on both of the operands: smaller one is taken)</li><li>      + local P (if defined on both of the operands: bigger one is taken)</li><li>      + global A</li><li>      + global P</li><li>      + global F</li><li>  * fsqrt() will hand its arguments to fdiv(), as it used to, only now for two</li><li>    arguments (A and P) instead of one</li></ol></pre></li>
<li><a name="Local-settings"></a><b>Local settings</b>
<pre class="verbatim"><ol><li>  <span class="i">* You</span> <span class="w">can</span> <span class="w">set</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">locally</span> <span class="w">by</span> <span class="w">using</span> <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <a class="l_k" href="../functions/or.html">or</a></li><li>    <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span></li><li>    <a class="l_k" href="../functions/and.html">and</a> <span class="w">thus</span> <span class="w">force</span> <span class="w">different</span> <span class="w">A</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">P</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">different</span> <span class="w">objects</span>/<span class="w">numbers</span>.</li><li>  <span class="i">* Setting</span> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">this</span> <span class="w">way</span> <span class="w">immediately</span> <span class="w">rounds</span> <span class="i">$x</span> <span class="w">to</span> <span class="w">the</span> <span class="w">new</span> <span class="w">value</span>.</li><li>  <span class="i">* $x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span> <span class="w">clears</span> <span class="i">$x</span><span class="i">-&gt;precision</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">vice</span> <span class="w">versa</span>.</li></ol></pre></li>
<li><a name="Rounding"></a><b>Rounding</b>
<pre class="verbatim"><ol><li>  <span class="i">* the</span> <span class="w">rounding</span> <span class="w">routines</span> <span class="w">will</span> <a class="l_k" href="../functions/use.html">use</a> <span class="w">the</span> <span class="w">respective</span> <span class="w">global</span> <a class="l_k" href="../functions/or.html">or</a> <a class="l_k" href="../functions/local.html">local</a> <span class="w">settings</span>.</li><li>    <span class="i">fround</span><span class="s">(</span><span class="s">)</span>/<span class="i">bround</span><span class="s">(</span><span class="s">)</span> <span class="w">is</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">accuracy</span> <span class="w">rounding</span><span class="cm">,</span> <a class="l_k" href="../functions/while.html">while</a> <span class="i">ffround</span><span class="s">(</span><span class="s">)</span>/<span class="i">bfround</span><span class="s">(</span><span class="s">)</span></li><li>    <span class="w">is</span> <a class="l_k" href="../functions/for.html">for</a> <span class="w">precision</span></li><li>  * <span class="w">the</span> <span class="w">two</span> <span class="w">rounding</span> <span class="w">functions</span> <span class="w">take</span> <span class="w">as</span> <span class="w">the</span> <span class="w">second</span> <span class="w">parameter</span> <span class="w">one</span> <span class="w">of</span> <span class="w">the</span></li><li>    <span class="w">following</span> <span class="w">rounding</span> <span class="w">modes</span> <span class="s">(</span><span class="w">R</span><span class="s">)</span><span class="co">:</span></li><li>    <span class="q">&#39;even&#39;</span><span class="cm">,</span> <span class="q">&#39;odd&#39;</span><span class="cm">,</span> <span class="q">&#39;+inf&#39;</span><span class="cm">,</span> <span class="q">&#39;-inf&#39;</span><span class="cm">,</span> <span class="q">&#39;zero&#39;</span><span class="cm">,</span> <span class="q">&#39;trunc&#39;</span><span class="cm">,</span> <span class="q">&#39;common&#39;</span></li><li>  * <span class="w">you</span> <span class="w">can</span> <span class="w">set</span>/<span class="w">get</span> <span class="w">the</span> <span class="w">global</span> <span class="w">R</span> <span class="w">by</span> <span class="w">using</span> <span class="w">Math::SomeClass</span><span class="w">-&gt;round_mode</span><span class="s">(</span><span class="s">)</span></li><li>    <a class="l_k" href="../functions/or.html">or</a> <span class="w">by</span> <span class="w">setting</span> <span class="i">$Math::SomeClass::round_mode</span></li><li>  * <span class="w">after</span> <a class="l_k" href="../functions/each.html">each</a> <span class="w">operation</span><span class="cm">,</span> <span class="i">$result</span><span class="i">-&gt;round</span><span class="s">(</span><span class="s">)</span> <span class="w">is</span> <span class="w">called</span><span class="cm">,</span> <a class="l_k" href="../functions/and.html">and</a> <span class="w">the</span> <span class="w">result</span> <span class="w">may</span></li><li>    <span class="w">eventually</span> <span class="w">be</span> <span class="w">rounded</span> <span class="s">(</span><span class="w">that</span> <span class="w">is</span><span class="cm">,</span> <a class="l_k" href="../functions/if.html">if</a> <span class="w">A</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">P</span> <span class="w">were</span> <span class="w">set</span> <span class="w">either</span> <span class="w">locally</span><span class="cm">,</span></li><li>    <span class="w">globally</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">as</span> <span class="w">parameter</span> <span class="w">to</span> <span class="w">the</span> <span class="w">operation</span><span class="s">)</span></li><li>  * <span class="w">to</span> <span class="w">manually</span> <span class="w">round</span> <span class="w">a</span> <span class="w">number</span><span class="cm">,</span> <span class="w">call</span> <span class="i">$x</span><span class="i">-&gt;round</span><span class="s">(</span><span class="i">$A</span><span class="cm">,</span><span class="i">$P</span><span class="cm">,</span><span class="i">$round_mode</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="w">this</span> <span class="w">will</span> <span class="w">round</span> <span class="w">the</span> <span class="w">number</span> <span class="w">by</span> <span class="w">using</span> <span class="w">the</span> <span class="w">appropriate</span> <span class="w">rounding</span> <span class="w">function</span></li><li>    <a class="l_k" href="../functions/and.html">and</a> <span class="w">then</span> <span class="w">normalize</span> <span class="w">it</span>.</li><li>  <span class="i">* rounding</span> <span class="w">modifies</span> <span class="w">the</span> <a class="l_k" href="../functions/local.html">local</a> <span class="w">settings</span> <span class="w">of</span> <span class="w">the</span> <span class="w">number</span><span class="co">:</span></li><li></li><li>        <span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123.456</span><span class="s">)</span><span class="sc">;</span></li><li>        <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span></li><li>        <span class="i">$x</span><span class="i">-&gt;bround</span><span class="s">(</span><span class="n">4</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="w">Here</span> <span class="n">4</span> <span class="w">takes</span> <span class="w">precedence</span> <span class="w">over</span> <span class="n">5</span><span class="cm">,</span> <span class="w">so</span> <span class="n">123.5</span> <span class="w">is</span> <span class="w">the</span> <span class="w">result</span> <a class="l_k" href="../functions/and.html">and</a> <span class="i">$x</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span></li><li>    <span class="w">will</span> <span class="w">be</span> <span class="n">4</span> <span class="w">from</span> <span class="w">now</span> <span class="w">on</span>.</li></ol></pre></li>
<li><a name="Default-values"></a><b>Default values</b>
<pre class="verbatim"><ol><li>  * R: 'even'</li><li>  * F: 40</li><li>  * A: undef</li><li>  * P: undef</li></ol></pre></li>
<li><a name="Remarks"></a><b>Remarks</b>
<pre class="verbatim"><ol><li>  * The defaults are set up so that the new code gives the same results as</li><li>    the old code (except in a few cases on fdiv):</li><li>    + Both A and P are undefined and thus will not be used for rounding</li><li>      after each operation.</li><li>    + round() is thus a no-op, unless given extra parameters A and P</li></ol></pre></li>
</ul>
<a name="Infinity-and-Not-a-Number"></a><h1>Infinity and Not a Number</h1>
<p>While BigInt has extensive handling of inf and NaN, certain quirks remain.</p>
<ul>
<li><a name="oct()%2fhex()"></a><b>oct()/hex()</b>
<p>These perl routines currently (as of Perl v.5.8.6) cannot handle passed
inf.</p>
<pre class="verbatim"><ol><li>	te@linux:~&gt; perl -wle 'print 2 ** 3333'</li><li>	inf</li><li>	te@linux:~&gt; perl -wle 'print 2 ** 3333 == 2 ** 3333'</li><li>	1</li><li>	te@linux:~&gt; perl -wle 'print oct(2 ** 3333)'</li><li>	0</li><li>	te@linux:~&gt; perl -wle 'print hex(2 ** 3333)'</li><li>	Illegal hexadecimal digit 'i' ignored at -e line 1.</li><li>	0</li></ol></pre><p>The same problems occur if you pass them Math::BigInt-&gt;binf() objects. Since
overloading these routines is not possible, this cannot be fixed from BigInt.</p>
</li>
<li><a name="%3d%3d%2c-!%3d%2c-%3c%2c-%3e%2c-%3c%3d%2c-%3e%3d-with-NaNs"></a><b>==, !=, &lt;, &gt;, &lt;=, &gt;= with NaNs</b>
<p>BigInt's bcmp() routine currently returns undef to signal that a NaN was
involved in a comparison. However, the overload code turns that into
either 1 or '' and thus operations like <code class="inline"><span class="w">NaN</span> != <span class="w">NaN</span></code>
 might return
wrong values.</p>
</li>
<li><a name="log(-inf)"></a><b>log(-inf)</b>
<p><code class="inline"><a class="l_k" href="../functions/log.html">log(-inf)</a></code> is highly weird. Since log(-x)=pi*i+log(x), then
log(-inf)=pi*i+inf. However, since the imaginary part is finite, the real
infinity "overshadows" it, so the number might as well just be infinity.
However, the result is a complex number, and since BigInt/BigFloat can only
have real numbers as results, the result is NaN.</p>
</li>
<li><a name="exp()%2c-cos()%2c-sin()%2c-atan2()"></a><b>exp(), cos(), sin(), atan2()</b>
<p>These all might have problems handling infinity right.</p>
</li>
</ul>
<a name="INTERNALS"></a><h1>INTERNALS</h1>
<p>The actual numbers are stored as unsigned big integers (with separate sign).</p>
<p>You should neither care about nor depend on the internal representation; it
might change without notice. Use <b>ONLY</b> method calls like <code class="inline"><span class="i">$x</span><span class="i">-&gt;sign</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></code>

instead relying on the internal representation.</p>
<a name="MATH-LIBRARY"></a><h2>MATH LIBRARY</h2>
<p>Math with the numbers is done (by default) by a module called
<code class="inline"><span class="w">Math::BigInt::Calc</span></code>
. This is equivalent to saying:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">try</span> <span class="cm">=&gt;</span> <span class="q">'Calc'</span><span class="sc">;</span></li></ol></pre><p>You can change this backend library by using:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">try</span> <span class="cm">=&gt;</span> <span class="q">'GMP'</span><span class="sc">;</span></li></ol></pre><p><b>Note</b>: General purpose packages should not be explicit about the library
to use; let the script author decide which is best.</p>
<p>If your script works with huge numbers and Calc is too slow for them,
you can also for the loading of one of these libraries and if none
of them can be used, the code will die:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">only</span> <span class="cm">=&gt;</span> <span class="q">'GMP,Pari'</span><span class="sc">;</span></li></ol></pre><p>The following would first try to find Math::BigInt::Foo, then
Math::BigInt::Bar, and when this also fails, revert to Math::BigInt::Calc:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">try</span> <span class="cm">=&gt;</span> <span class="q">'Foo,Math::BigInt::Bar'</span><span class="sc">;</span></li></ol></pre><p>The library that is loaded last will be used. Note that this can be
overwritten at any time by loading a different library, and numbers
constructed with different libraries cannot be used in math operations
together.</p>
<a name="What-library-to-use%3f"></a><h3>What library to use?</h3>
<p><b>Note</b>: General purpose packages should not be explicit about the library
to use; let the script author decide which is best.</p>
<p><a href="http://search.cpan.org/perldoc/Math::BigInt::GMP">Math::BigInt::GMP</a> and <a href="http://search.cpan.org/perldoc/Math::BigInt::Pari">Math::BigInt::Pari</a> are in cases involving big
numbers much faster than Calc, however it is slower when dealing with very
small numbers (less than about 20 digits) and when converting very large
numbers to decimal (for instance for printing, rounding, calculating their
length in decimal etc).</p>
<p>So please select carefully what library you want to use.</p>
<p>Different low-level libraries use different formats to store the numbers.
However, you should <b>NOT</b> depend on the number having a specific format
internally.</p>
<p>See the respective math library module documentation for further details.</p>
<a name="SIGN"></a><h2>SIGN</h2>
<p>The sign is either '+', '-', 'NaN', '+inf' or '-inf'.</p>
<p>A sign of 'NaN' is used to represent the result when input arguments are not
numbers or as a result of 0/0. '+inf' and '-inf' represent plus respectively
minus infinity. You will get '+inf' when dividing a positive number by 0, and
'-inf' when dividing any negative number by 0.</p>
<a name="mantissa()%2c-exponent()-and-parts()"></a><h2>mantissa(), exponent() and parts()</h2>
<p><code class="inline"><span class="i">mantissa</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">exponent</span><span class="s">(</span><span class="s">)</span></code>
 return the said parts of the BigInt such
that:</p>
<pre class="verbatim"><ol><li>        <span class="i">$m</span> = <span class="i">$x</span><span class="i">-&gt;mantissa</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>        <span class="i">$e</span> = <span class="i">$x</span><span class="i">-&gt;exponent</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>        <span class="i">$y</span> = <span class="i">$m</span> * <span class="s">(</span> <span class="n">10</span> ** <span class="i">$e</span> <span class="s">)</span><span class="sc">;</span></li><li>        <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;ok\n&quot;</span> if <span class="i">$x</span> == <span class="i">$y</span><span class="sc">;</span></li></ol></pre><p><code class="inline"><span class="s">(</span><span class="i">$m</span><span class="cm">,</span><span class="i">$e</span><span class="s">)</span> = <span class="i">$x</span><span class="i">-&gt;parts</span><span class="s">(</span><span class="s">)</span></code>
 is just a shortcut that gives you both of them
in one go. Both the returned mantissa and exponent have a sign.</p>
<p>Currently, for BigInts <code class="inline"><span class="i">$e</span></code>
 is always 0, except +inf and -inf, where it is
<code class="inline">+<span class="w">inf</span></code>
; and for NaN, where it is <code class="inline"><span class="w">NaN</span></code>
; and for <code class="inline"><span class="i">$x</span> == <span class="n">0</span></code>
, where it is <code class="inline"><span class="n">1</span></code>

(to be compatible with Math::BigFloat's internal representation of a zero as
<code class="inline"><span class="n">0E1</span></code>
).</p>
<p><code class="inline"><span class="i">$m</span></code>
 is currently just a copy of the original number. The relation between
<code class="inline"><span class="i">$e</span></code>
 and <code class="inline"><span class="i">$m</span></code>
 will stay always the same, though their real values might
change.</p>
<a name="EXAMPLES"></a><h1>EXAMPLES</h1>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li></li><li><a name="bigint"></a>  sub <span class="m">bigint</span> <span class="s">{</span> <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><a class="l_k" href="../functions/shift.html">shift</a><span class="s">)</span><span class="sc">;</span> <span class="s">}</span></li><li></li><li>  <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bstr</span><span class="s">(</span><span class="q">&quot;1234&quot;</span><span class="s">)</span>      	<span class="c"># string &quot;1234&quot;</span></li><li>  <span class="i">$x</span> = <span class="q">&quot;$x&quot;</span><span class="sc">;</span>                         	<span class="c"># same as bstr()</span></li><li>  <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bneg</span><span class="s">(</span><span class="q">&quot;1234&quot;</span><span class="s">)</span><span class="sc">;</span>   	<span class="c"># BigInt &quot;-1234&quot;</span></li><li>  <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;babs</span><span class="s">(</span><span class="q">&quot;-12345&quot;</span><span class="s">)</span><span class="sc">;</span> 	<span class="c"># BigInt &quot;12345&quot;</span></li><li>  <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;bnorm</span><span class="s">(</span><span class="q">&quot;-0.00&quot;</span><span class="s">)</span><span class="sc">;</span> 	<span class="c"># BigInt &quot;0&quot;</span></li><li>  <span class="i">$x</span> = <span class="i">bigint</span><span class="s">(</span><span class="n">1</span><span class="s">)</span> + <span class="i">bigint</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span>           <span class="c"># BigInt &quot;3&quot;</span></li><li>  <span class="i">$x</span> = <span class="i">bigint</span><span class="s">(</span><span class="n">1</span><span class="s">)</span> + <span class="q">&quot;2&quot;</span><span class="sc">;</span>                 <span class="c"># ditto (auto-BigIntify of &quot;2&quot;)</span></li><li>  <span class="i">$x</span> = <span class="i">bigint</span><span class="s">(</span><span class="n">1</span><span class="s">)</span><span class="sc">;</span>                       <span class="c"># BigInt &quot;1&quot;</span></li><li>  <span class="i">$x</span> = <span class="i">$x</span> + <span class="n">5</span> / <span class="n">2</span><span class="sc">;</span>                   	<span class="c"># BigInt &quot;3&quot;</span></li><li>  <span class="i">$x</span> = <span class="i">$x</span> ** <span class="n">3</span><span class="sc">;</span>                      	<span class="c"># BigInt &quot;27&quot;</span></li><li>  <span class="i">$x</span> *= <span class="n">2</span><span class="sc">;</span>                           	<span class="c"># BigInt &quot;54&quot;</span></li><li>  <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">0</span><span class="s">)</span><span class="sc">;</span>       	<span class="c"># BigInt &quot;0&quot;</span></li><li>  <span class="i">$x</span>--<span class="sc">;</span>                              	<span class="c"># BigInt &quot;-1&quot;</span></li><li>  <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;badd</span><span class="s">(</span><span class="n">4</span><span class="cm">,</span><span class="n">5</span><span class="s">)</span>		<span class="c"># BigInt &quot;9&quot;</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;bsstr</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># 9e+0</span></li></ol></pre><p>Examples for rounding:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigFloat</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Test::More</span><span class="sc">;</span></li><li></li><li>  <span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123.4567</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">$y</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123.456789</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="w">Math::BigFloat</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="n">4</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># no more A than 4</span></li><li></li><li>  <span class="w">is</span> <span class="s">(</span><span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;fround</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="n">123.4</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># even rounding</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;fround</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># 123.4</span></li><li>  <span class="w">Math::BigFloat</span><span class="w">-&gt;round_mode</span><span class="s">(</span><span class="q">&#39;odd&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># round to odd</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;fround</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># 123.5</span></li><li>  <span class="w">Math::BigFloat</span><span class="w">-&gt;accuracy</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># no more A than 5</span></li><li>  <span class="w">Math::BigFloat</span><span class="w">-&gt;round_mode</span><span class="s">(</span><span class="q">&#39;odd&#39;</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># round to odd</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;fround</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># 123.46</span></li><li>  <span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;fround</span><span class="s">(</span><span class="n">4</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># A = 4: 123.4</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$y, &quot;</span><span class="cm">,</span><span class="i">$y</span><span class="i">-&gt;accuracy</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># 123.4, 4</span></li><li></li><li>  <span class="w">Math::BigFloat</span><span class="w">-&gt;accuracy</span><span class="s">(</span><a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span><span class="sc">;</span>	<span class="c"># A not important now</span></li><li>  <span class="w">Math::BigFloat</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span> 	<span class="c"># P important</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;bnorm</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># 123.46</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;fround</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>	<span class="c"># 123.46</span></li></ol></pre><p>Examples for converting:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;0b1&#39;</span>.<span class="q">&#39;01&#39;</span> x <span class="n">123</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;bin: &quot;</span><span class="cm">,</span><span class="i">$x</span><span class="i">-&gt;as_bin</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot; hex:&quot;</span><span class="cm">,</span><span class="i">$x</span><span class="i">-&gt;as_hex</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot; dec: &quot;</span><span class="cm">,</span><span class="i">$x</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><a name="Autocreating-constants"></a><h1>Autocreating constants</h1>
<p>After <code class="inline"><a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="q">&#39;:constant&#39;</span></code>
 all the <b>integer</b> decimal, hexadecimal
and binary constants in the given scope are converted to <code class="inline"><span class="w">Math::BigInt</span></code>
.
This conversion happens at compile time.</p>
<p>In particular,</p>
<pre class="verbatim"><ol><li>  perl -MMath::BigInt=:constant -e 'print 2**100,"\n"'</li></ol></pre><p>prints the integer value of <code class="inline"><span class="n">2</span>**<span class="n">100</span></code>
. Note that without conversion of 
constants the expression 2**100 will be calculated as perl scalar.</p>
<p>Please note that strings and floating point constants are not affected,
so that</p>
<pre class="verbatim"><ol><li>  	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="q">qw/:constant/</span><span class="sc">;</span></li><li></li><li>	<span class="i">$x</span> = <span class="n">1234567890123456789012345678901234567890</span></li><li>		+ <span class="n">123456789123456789</span><span class="sc">;</span></li><li>	<span class="i">$y</span> = <span class="q">&#39;1234567890123456789012345678901234567890&#39;</span></li><li>		+ <span class="q">&#39;123456789123456789&#39;</span><span class="sc">;</span></li></ol></pre><p>do not work. You need an explicit Math::BigInt-&gt;new() around one of the
operands. You should also quote large constants to protect loss of precision:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li></li><li>	<span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;1234567889123456789123456789123456789&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Without the quotes Perl would convert the large number to a floating point
constant at compile time and then hand the result to BigInt, which results in
an truncated result or a NaN.</p>
<p>This also applies to integers that look like floating point constants:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="q">&#39;:constant&#39;</span><span class="sc">;</span></li><li></li><li>	<a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/ref.html">ref</a><span class="s">(</span><span class="n">123e2</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/ref.html">ref</a><span class="s">(</span><span class="n">123.2e2</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>will print nothing but newlines. Use either <a href="../bignum.html">bignum</a> or <a href="../Math/BigFloat.html">Math::BigFloat</a>
to get this to work.</p>
<a name="PERFORMANCE"></a><h1>PERFORMANCE</h1>
<p>Using the form $x += $y; etc over $x = $x + $y is faster, since a copy of $x
must be made in the second case. For long numbers, the copy can eat up to 20%
of the work (in the case of addition/subtraction, less for
multiplication/division). If $y is very small compared to $x, the form
$x += $y is MUCH faster than $x = $x + $y since making the copy of $x takes
more time then the actual addition.</p>
<p>With a technique called copy-on-write, the cost of copying with overload could
be minimized or even completely avoided. A test implementation of COW did show
performance gains for overloaded math, but introduced a performance loss due
to a constant overhead for all other operations. So Math::BigInt does currently
not COW.</p>
<p>The rewritten version of this module (vs. v0.01) is slower on certain
operations, like <code class="inline"><span class="i">new</span><span class="s">(</span><span class="s">)</span></code>
, <code class="inline"><span class="i">bstr</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">numify</span><span class="s">(</span><span class="s">)</span></code>
. The reason are that it
does now more work and handles much more cases. The time spent in these
operations is usually gained in the other math operations so that code on
the average should get (much) faster. If they don't, please contact the author.</p>
<p>Some operations may be slower for small numbers, but are significantly faster
for big numbers. Other operations are now constant (O(1), like <code class="inline"><span class="i">bneg</span><span class="s">(</span><span class="s">)</span></code>
,
<code class="inline"><span class="i">babs</span><span class="s">(</span><span class="s">)</span></code>
 etc), instead of O(N) and thus nearly always take much less time.
These optimizations were done on purpose.</p>
<p>If you find the Calc module to slow, try to install any of the replacement
modules and see if they help you.</p>
<a name="Alternative-math-libraries"></a><h2>Alternative math libraries</h2>
<p>You can use an alternative library to drive Math::BigInt. See the section
<a href="#MATH-LIBRARY">MATH LIBRARY</a> for more information.</p>
<p>For more benchmark results see <a href="http://bloodgate.com/perl/benchmarks.html">http://bloodgate.com/perl/benchmarks.html</a>.</p>
<a name="SUBCLASSING"></a><h1>SUBCLASSING</h1>
<a name="Subclassing-Math%3a%3aBigInt"></a><h2>Subclassing Math::BigInt</h2>
<p>The basic design of Math::BigInt allows simple subclasses with very little
work, as long as a few simple rules are followed:</p>
<ul>
<li>
<p>The public API must remain consistent, i.e. if a sub-class is overloading
addition, the sub-class must use the same name, in this case badd(). The
reason for this is that Math::BigInt is optimized to call the object methods
directly.</p>
</li>
<li>
<p>The private object hash keys like <code class="inline"><span class="i">$x</span>-&gt;{<span class="w">sign</span>}</code>
 may not be changed, but
additional keys can be added, like <code class="inline"><span class="i">$x</span>-&gt;{<span class="w">_custom</span>}</code>
.</p>
</li>
<li>
<p>Accessor functions are available for all existing object hash keys and should
be used instead of directly accessing the internal hash keys. The reason for
this is that Math::BigInt itself has a pluggable interface which permits it
to support different storage methods.</p>
</li>
</ul>
<p>More complex sub-classes may have to replicate more of the logic internal of
Math::BigInt if they need to change more basic behaviors. A subclass that
needs to merely change the output only needs to overload <code class="inline"><span class="i">bstr</span><span class="s">(</span><span class="s">)</span></code>
.</p>
<p>All other object methods and overloaded functions can be directly inherited
from the parent class.</p>
<p>At the very minimum, any subclass will need to provide its own <code class="inline"><span class="i">new</span><span class="s">(</span><span class="s">)</span></code>
 and can
store additional hash keys in the object. There are also some package globals
that must be defined, e.g.:</p>
<pre class="verbatim"><ol><li>  <span class="c"># Globals</span></li><li>  <span class="i">$accuracy</span> = <a class="l_k" href="../functions/undef.html">undef</a><span class="sc">;</span></li><li>  <span class="i">$precision</span> = <span class="n">-2</span><span class="sc">;</span>       <span class="c"># round to 2 decimal places</span></li><li>  <span class="i">$round_mode</span> = <span class="q">&#39;even&#39;</span><span class="sc">;</span></li><li>  <span class="i">$div_scale</span> = <span class="n">40</span><span class="sc">;</span></li></ol></pre><p>Additionally, you might want to provide the following two globals to allow
auto-upgrading and auto-downgrading to work correctly:</p>
<pre class="verbatim"><ol><li>  <span class="i">$upgrade</span> = <a class="l_k" href="../functions/undef.html">undef</a><span class="sc">;</span></li><li>  <span class="i">$downgrade</span> = <a class="l_k" href="../functions/undef.html">undef</a><span class="sc">;</span></li></ol></pre><p>This allows Math::BigInt to correctly retrieve package globals from the 
subclass, like <code class="inline"><span class="i">$SubClass::precision</span></code>
.  See t/Math/BigInt/Subclass.pm or
t/Math/BigFloat/SubClass.pm completely functional subclass examples.</p>
<p>Don't forget to</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">overload</span><span class="sc">;</span></li></ol></pre><p>in your subclass to automatically inherit the overloading from the parent. If
you like, you can change part of the overloading, look at Math::String for an
example.</p>
<a name="UPGRADING"></a><h1>UPGRADING</h1>
<p>When used like this:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">upgrade</span> <span class="cm">=&gt;</span> <span class="q">&#39;Foo::Bar&#39;</span><span class="sc">;</span></li></ol></pre><p>certain operations will 'upgrade' their calculation and thus the result to
the class Foo::Bar. Usually this is used in conjunction with Math::BigFloat:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span> <span class="w">upgrade</span> <span class="cm">=&gt;</span> <span class="q">&#39;Math::BigFloat&#39;</span><span class="sc">;</span></li></ol></pre><p>As a shortcut, you can use the module <a href="../bignum.html">bignum</a>:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">bignum</span><span class="sc">;</span></li></ol></pre><p>Also good for one-liners:</p>
<pre class="verbatim"><ol><li>	<span class="w">perl</span> -<span class="w">Mbignum</span> -le <span class="q">&#39;print 2 ** 255&#39;</span></li></ol></pre><p>This makes it possible to mix arguments of different classes (as in 2.5 + 2)
as well es preserve accuracy (as in sqrt(3)).</p>
<p>Beware: This feature is not fully implemented yet.</p>
<a name="Auto-upgrade"></a><h2>Auto-upgrade</h2>
<p>The following methods upgrade themselves unconditionally; that is if upgrade
is in effect, they will always hand up their work:</p>
<ul>
<li><a name="bsqrt()"></a><b>bsqrt()</b>
</li>
<li><a name="div()"></a><b>div()</b>
</li>
<li><a name="blog()"></a><b>blog()</b>
</li>
<li><a name="bexp()"></a><b>bexp()</b>
</li>
</ul>
<p>Beware: This list is not complete.</p>
<p>All other methods upgrade themselves only when one (or all) of their
arguments are of the class mentioned in $upgrade (This might change in later
versions to a more sophisticated scheme):</p>
<a name="EXPORTS"></a><h1>EXPORTS</h1>
<p><code class="inline"><span class="w">Math::BigInt</span></code>
 exports nothing by default, but can export the following methods:</p>
<pre class="verbatim"><ol><li>	<span class="w">bgcd</span></li><li>	<span class="w">blcm</span></li></ol></pre><a name="CAVEATS"></a><h1>CAVEATS</h1>
<p>Some things might not work as you expect them. Below is documented what is
known to be troublesome:</p>
<ul>
<li><a name="bstr()%2c-bsstr()-and-'cmp'"></a><b>bstr(), bsstr() and 'cmp'</b>
<p>Both <code class="inline"><span class="i">bstr</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">bsstr</span><span class="s">(</span><span class="s">)</span></code>
 as well as automated stringify via overload now
drop the leading '+'. The old code would return '+3', the new returns '3'.
This is to be consistent with Perl and to make <code class="inline">cmp</code>
 (especially with
overloading) to work as you expect. It also solves problems with <code class="inline"><span class="w">Test</span>.<span class="w">pm</span></code>

and <a href="../Test/More.html">Test::More</a>, which stringify arguments before comparing them.</p>
<p>Mark Biggar said, when asked about to drop the '+' altogether, or make only
<code class="inline">cmp</code>
 work:</p>
<pre class="verbatim"><ol><li>	I agree (with the first alternative), don't add the '+' on positive</li><li>	numbers.  It's not as important anymore with the new internal </li><li>	form for numbers.  It made doing things like abs and neg easier,</li><li>	but those have to be done differently now anyway.</li></ol></pre><p>So, the following examples will now work all as expected:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Test::More</span> <span class="w">tests</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li></li><li>	<a class="l_k" href="../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">new</span> <span class="w">Math::BigInt</span> <span class="n">3</span>*<span class="n">3</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/my.html">my</a> <span class="i">$y</span> = <span class="w">new</span> <span class="w">Math::BigInt</span> <span class="n">3</span>*<span class="n">3</span><span class="sc">;</span></li><li></li><li>	<span class="w">is</span> <span class="s">(</span><span class="i">$x</span><span class="cm">,</span><span class="n">3</span>*<span class="n">3</span><span class="cm">,</span> <span class="q">&#39;multiplication&#39;</span><span class="s">)</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x eq 9&quot;</span> <a class="l_k" href="../functions/if.html">if</a> <span class="i">$x</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="i">$y</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x eq 9&quot;</span> <a class="l_k" href="../functions/if.html">if</a> <span class="i">$x</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="q">&#39;9&#39;</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x eq 9&quot;</span> <a class="l_k" href="../functions/if.html">if</a> <span class="i">$x</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="n">3</span>*<span class="n">3</span><span class="sc">;</span></li></ol></pre><p>Additionally, the following still works:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x == 9&quot;</span> if <span class="i">$x</span> == <span class="i">$y</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x == 9&quot;</span> if <span class="i">$x</span> == <span class="n">9</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x == 9&quot;</span> if <span class="i">$x</span> == <span class="n">3</span>*<span class="n">3</span><span class="sc">;</span></li></ol></pre><p>There is now a <code class="inline"><span class="i">bsstr</span><span class="s">(</span><span class="s">)</span></code>
 method to get the string in scientific notation aka
<code class="inline"><span class="n">1e+2</span></code>
 instead of <code class="inline"><span class="n">100</span></code>
. Be advised that overloaded 'eq' always uses bstr()
for comparison, but Perl will represent some numbers as 100 and others
as 1e+308. If in doubt, convert both arguments to Math::BigInt before 
comparing them as strings:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Test::More</span> <span class="w">tests</span> <span class="cm">=&gt;</span> <span class="n">3</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li></li><li>	<span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&#39;1e56&#39;</span><span class="s">)</span><span class="sc">;</span> <span class="i">$y</span> = <span class="n">1e56</span><span class="sc">;</span></li><li>	<span class="w">is</span> <span class="s">(</span><span class="i">$x</span><span class="cm">,</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># will fail</span></li><li>	<span class="w">is</span> <span class="s">(</span><span class="i">$x</span><span class="i">-&gt;bsstr</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>		<span class="c"># okay</span></li><li>	<span class="i">$y</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="w">is</span> <span class="s">(</span><span class="i">$x</span><span class="cm">,</span><span class="i">$y</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># okay</span></li></ol></pre><p>Alternatively, simply use <code class="inline">&lt;=&gt;</code>
 for comparisons, this will get it
always right. There is not yet a way to get a number automatically represented
as a string that matches exactly the way Perl represents it.</p>
<p>See also the section about <a href="#Infinity-and-Not-a-Number">Infinity and Not a Number</a> for problems in
comparing NaNs.</p>
</li>
<li><a name="int()"></a><b>int()</b>
<p><code class="inline"><a class="l_k" href="../functions/int.html">int()</a></code> will return (at least for Perl v5.7.1 and up) another BigInt, not a 
Perl scalar:</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$y</span> = <a class="l_k" href="../functions/int.html">int</a><span class="s">(</span><span class="i">$x</span><span class="s">)</span><span class="sc">;</span>				<span class="c"># BigInt 123</span></li><li>	<span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123.45</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$y</span> = <a class="l_k" href="../functions/int.html">int</a><span class="s">(</span><span class="i">$x</span><span class="s">)</span><span class="sc">;</span>				<span class="c"># BigInt 123</span></li></ol></pre><p>In all Perl versions you can use <code class="inline"><span class="i">as_number</span><span class="s">(</span><span class="s">)</span></code>
 or <code class="inline"><span class="w">as_int</span></code>
 for the same
effect:</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123.45</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;as_number</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># BigInt 123</span></li><li>	<span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;as_int</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># ditto</span></li></ol></pre><p>This also works for other subclasses, like Math::String.</p>
<p>If you want a real Perl scalar, use <code class="inline"><span class="i">numify</span><span class="s">(</span><span class="s">)</span></code>
:</p>
<pre class="verbatim"><ol><li>	<span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;numify</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># 123 as scalar</span></li></ol></pre><p>This is seldom necessary, though, because this is done automatically, like
when you access an array:</p>
<pre class="verbatim"><ol><li>	<span class="i">$z</span> = <span class="i">$array</span>[<span class="i">$x</span>]<span class="sc">;</span>			<span class="c"># does work automatically</span></li></ol></pre></li>
<li><a name="length()"></a><b>length()</b>
<p>The following will probably not do what you expect:</p>
<pre class="verbatim"><ol><li>	<span class="i">$c</span> = <span class="w">Math::BigInt</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">123</span><span class="s">)</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$c</span><span class="i">-&gt;length</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># prints 30</span></li></ol></pre><p>It prints both the number of digits in the number and in the fraction part
since print calls <code class="inline"><a class="l_k" href="../functions/length.html">length()</a></code> in list context. Use something like:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/scalar.html">scalar</a> <span class="i">$c</span><span class="i">-&gt;length</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># prints 3</span></li></ol></pre></li>
<li><a name="bdiv()"></a><b>bdiv()</b>
<p>The following will probably not do what you expect:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$c</span><span class="i">-&gt;bdiv</span><span class="s">(</span><span class="n">10000</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>It prints both quotient and remainder since print calls <code class="inline"><span class="i">bdiv</span><span class="s">(</span><span class="s">)</span></code>
 in list
context. Also, <code class="inline"><span class="i">bdiv</span><span class="s">(</span><span class="s">)</span></code>
 will modify $c, so be careful. You probably want
to use</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$c</span> / <span class="n">10000</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>or, if you want to  modify $c instead,</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/scalar.html">scalar</a> <span class="i">$c</span><span class="i">-&gt;bdiv</span><span class="s">(</span><span class="n">10000</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>The quotient is always the greatest integer less than or equal to the
real-valued quotient of the two operands, and the remainder (when it is
non-zero) always has the same sign as the second operand; so, for
example,</p>
<pre class="verbatim"><ol><li>	  1 / 4  =&gt; ( 0, 1)</li><li>	  1 / -4 =&gt; (-1,-3)</li><li>	 -3 / 4  =&gt; (-1, 1)</li><li>	 -3 / -4 =&gt; ( 0,-3)</li><li>	-11 / 2  =&gt; (-5,1)</li><li>	 11 /-2  =&gt; (-5,-1)</li></ol></pre><p>As a consequence, the behavior of the operator % agrees with the
behavior of Perl's built-in % operator (as documented in the perlop
manpage), and the equation</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span> == <span class="s">(</span><span class="i">$x</span> / <span class="i">$y</span><span class="s">)</span> * <span class="i">$y</span> + <span class="s">(</span><span class="i">$x</span> % <span class="i">$y</span><span class="s">)</span></li></ol></pre><p>holds true for any $x and $y, which justifies calling the two return
values of bdiv() the quotient and remainder. The only exception to this rule
are when $y == 0 and $x is negative, then the remainder will also be
negative. See below under "infinity handling" for the reasoning behind this.</p>
<p>Perl's 'use integer;' changes the behaviour of % and / for scalars, but will
not change BigInt's way to do things. This is because under 'use integer' Perl
will do what the underlying C thinks is right and this is different for each
system. If you need BigInt's behaving exactly like Perl's 'use integer', bug
the author to implement it ;)</p>
</li>
<li><a name="infinity-handling"></a><b>infinity handling</b>
<p>Here are some examples that explain the reasons why certain results occur while
handling infinity:</p>
<p>The following table shows the result of the division and the remainder, so that
the equation above holds true. Some "ordinary" cases are strewn in to show more
clearly the reasoning:</p>
<pre class="verbatim"><ol><li>	<span class="w">A</span> /  <span class="w">B</span>  =   <span class="w">C</span><span class="cm">,</span>     <span class="w">R</span> <span class="w">so</span> <span class="w">that</span> <span class="w">C</span> *    <span class="w">B</span> +    <span class="w">R</span> =    <span class="w">A</span></li><li>     =========================================================</li><li>	<span class="n">5</span> /   <span class="n">8</span> =   <span class="n">0</span><span class="cm">,</span>     <span class="n">5</span> 	     <span class="n">0</span> *    <span class="n">8</span> +    <span class="n">5</span> =    <span class="n">5</span></li><li>	<span class="n">0</span> /   <span class="n">8</span> =   <span class="n">0</span><span class="cm">,</span>     <span class="n">0</span>	     <span class="n">0</span> *    <span class="n">8</span> +    <span class="n">0</span> =    <span class="n">0</span></li><li>	<span class="n">0</span> / <span class="w">inf</span> =   <span class="n">0</span><span class="cm">,</span>     <span class="n">0</span>	     <span class="n">0</span> *  <span class="w">inf</span> +    <span class="n">0</span> =    <span class="n">0</span></li><li>	<span class="n">0</span> /-<span class="w">inf</span> =   <span class="n">0</span><span class="cm">,</span>     <span class="n">0</span>	     <span class="n">0</span> * -<span class="w">inf</span> +    <span class="n">0</span> =    <span class="n">0</span></li><li>	<span class="n">5</span> / <span class="w">inf</span> =   <span class="n">0</span><span class="cm">,</span>     <span class="n">5</span>	     <span class="n">0</span> *  <span class="w">inf</span> +    <span class="n">5</span> =    <span class="n">5</span></li><li>	<span class="n">5</span> /-<span class="w">inf</span> =   <span class="n">0</span><span class="cm">,</span>     <span class="n">5</span>	     <span class="n">0</span> * -<span class="w">inf</span> +    <span class="n">5</span> =    <span class="n">5</span></li><li>	-<span class="n">5</span>/ <span class="w">inf</span> =   <span class="n">0</span><span class="cm">,</span>    <span class="n">-5</span>	     <span class="n">0</span> *  <span class="w">inf</span> +   <span class="n">-5</span> =   <span class="n">-5</span></li><li>	-<span class="n">5</span>/-<span class="w">inf</span> =   <span class="n">0</span><span class="cm">,</span>    <span class="n">-5</span>	     <span class="n">0</span> * -<span class="w">inf</span> +   <span class="n">-5</span> =   <span class="n">-5</span></li><li>       <span class="w">inf</span>/   <span class="n">5</span> =  <span class="w">inf</span><span class="cm">,</span>    <span class="n">0</span>	   <span class="w">inf</span> *    <span class="n">5</span> +    <span class="n">0</span> =  <span class="w">inf</span></li><li>      -<span class="w">inf</span>/   <span class="n">5</span> = -<span class="w">inf</span><span class="cm">,</span>    <span class="n">0</span>      -<span class="w">inf</span> *    <span class="n">5</span> +    <span class="n">0</span> = -<span class="w">inf</span></li><li>       <span class="w">inf</span><span class="q">/  -5 = -inf,    0	  -inf *   -5 +    0 =  inf</span></li><li>      <span class="q">      -inf/</span>  -<span class="n">5</span> =  <span class="w">inf</span><span class="cm">,</span>    <span class="n">0</span>       <span class="w">inf</span> *   <span class="n">-5</span> +    <span class="n">0</span> = -<span class="w">inf</span></li><li>	 <span class="n">5</span>/   <span class="n">5</span> =    <span class="n">1</span><span class="cm">,</span>    <span class="n">0</span>         <span class="n">1</span> *    <span class="n">5</span> +    <span class="n">0</span> =    <span class="n">5</span></li><li>	-<span class="n">5</span>/  <span class="n">-5</span> =    <span class="n">1</span><span class="cm">,</span>    <span class="n">0</span>         <span class="n">1</span> *   <span class="n">-5</span> +    <span class="n">0</span> =   <span class="n">-5</span></li><li>       <span class="w">inf</span>/ <span class="w">inf</span> =    <span class="n">1</span><span class="cm">,</span>    <span class="n">0</span>         <span class="n">1</span> *  <span class="w">inf</span> +    <span class="n">0</span> =  <span class="w">inf</span></li><li>      -<span class="w">inf</span><span class="q">/-inf =    1,    0         1 * -inf +    0 = -inf</span></li><li>       <span class="q">       inf/</span>-<span class="w">inf</span> =   <span class="n">-1</span><span class="cm">,</span>    <span class="n">0</span>        -<span class="n">1</span> * -<span class="w">inf</span> +    <span class="n">0</span> =  <span class="w">inf</span></li><li>      -<span class="w">inf</span>/ <span class="w">inf</span> =   <span class="n">-1</span><span class="cm">,</span>    <span class="n">0</span>         <span class="n">1</span> * -<span class="w">inf</span> +    <span class="n">0</span> = -<span class="w">inf</span></li><li>	 <span class="n">8</span>/   <span class="n">0</span> =  <span class="w">inf</span><span class="cm">,</span>    <span class="n">8</span>       <span class="w">inf</span> *    <span class="n">0</span> +    <span class="n">8</span> =    <span class="n">8</span></li><li>       <span class="w">inf</span>/   <span class="n">0</span> =  <span class="w">inf</span><span class="cm">,</span>  <span class="w">inf</span>       <span class="w">inf</span> *    <span class="n">0</span> +  <span class="w">inf</span> =  <span class="w">inf</span></li><li>         <span class="n">0</span>/   <span class="n">0</span> =  <span class="w">NaN</span></li></ol></pre><p>These cases below violate the "remainder has the sign of the second of the two
arguments", since they wouldn't match up otherwise.</p>
<pre class="verbatim"><ol><li>	<span class="w">A</span> /  <span class="w">B</span>  =   <span class="w">C</span><span class="cm">,</span>     <span class="w">R</span> <span class="w">so</span> <span class="w">that</span> <span class="w">C</span> *    <span class="w">B</span> +    <span class="w">R</span> =    <span class="w">A</span></li><li>     ========================================================</li><li>      -<span class="w">inf</span>/   <span class="n">0</span> = -<span class="w">inf</span><span class="cm">,</span> -<span class="w">inf</span>      -<span class="w">inf</span> *    <span class="n">0</span> +  <span class="w">inf</span> = -<span class="w">inf</span></li><li>	-<span class="n">8</span>/   <span class="n">0</span> = -<span class="w">inf</span><span class="cm">,</span>   <span class="n">-8</span>      -<span class="w">inf</span> *    <span class="n">0</span> +    <span class="n">8</span> = <span class="n">-8</span></li></ol></pre></li>
<li><a name="Modifying-and-%3d"></a><b>Modifying and =</b>
<p>Beware of:</p>
<pre class="verbatim"><ol><li>        <span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span></li><li>        <span class="i">$y</span> = <span class="i">$x</span><span class="sc">;</span></li></ol></pre><p>It will not do what you think, e.g. making a copy of $x. Instead it just makes
a second reference to the <b>same</b> object and stores it in $y. Thus anything
that modifies $x (except overloaded operators) will modify $y, and vice versa.
Or in other words, <code class="inline">=</code>
 is only safe if you modify your BigInts only via
overloaded math. As soon as you use a method call it breaks:</p>
<pre class="verbatim"><ol><li>        <span class="i">$x</span><span class="i">-&gt;bmul</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span></li><li>        <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;$x, $y\n&quot;</span><span class="sc">;</span>       <span class="c"># prints &#39;10, 10&#39;</span></li></ol></pre><p>If you want a true copy of $x, use:</p>
<pre class="verbatim"><ol><li>        <span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>You can also chain the calls like this, this will make first a copy and then
multiply it by 2:</p>
<pre class="verbatim"><ol><li>        <span class="i">$y</span> = <span class="i">$x</span><span class="i">-&gt;copy</span><span class="s">(</span><span class="s">)</span><span class="i">-&gt;bmul</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>See also the documentation for overload.pm regarding <code class="inline">=</code>
.</p>
</li>
<li><a name="bpow"></a><b>bpow</b>
<p><code class="inline"><span class="i">bpow</span><span class="s">(</span><span class="s">)</span></code>
 (and the rounding functions) now modifies the first argument and
returns it, unlike the old code which left it alone and only returned the
result. This is to be consistent with <code class="inline"><span class="i">badd</span><span class="s">(</span><span class="s">)</span></code>
 etc. The first three will
modify $x, the last one won't:</p>
<pre class="verbatim"><ol><li>	print bpow($x,$i),"\n"; 	# modify $x</li><li>	print $x-&gt;bpow($i),"\n"; 	# ditto</li><li>	print $x **= $i,"\n";		# the same</li><li>	print $x ** $i,"\n";		# leave $x alone</li></ol></pre><p>The form <code class="inline"><span class="i">$x</span> **= <span class="i">$y</span></code>
 is faster than <code class="inline"><span class="i">$x</span> = <span class="i">$x</span> ** <span class="i">$y</span><span class="sc">;</span></code>
, though.</p>
</li>
<li><a name="Overloading--%24x"></a><b>Overloading -$x</b>
<p>The following:</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span> = -<span class="i">$x</span><span class="sc">;</span></li></ol></pre><p>is slower than</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span><span class="i">-&gt;bneg</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>since overload calls <code class="inline"><a class="l_k" href="../functions/sub.html">sub($x,0,1);</a></code> instead of <code class="inline"><span class="i">neg</span><span class="s">(</span><span class="i">$x</span><span class="s">)</span></code>
. The first variant
needs to preserve $x since it does not know that it later will get overwritten.
This makes a copy of $x and takes O(N), but $x-&gt;bneg() is O(1).</p>
</li>
<li><a name="Mixing-different-object-types"></a><b>Mixing different object types</b>
<p>In Perl you will get a floating point value if you do one of the following:</p>
<pre class="verbatim"><ol><li>	<span class="i">$float</span> = <span class="n">5.0</span> + <span class="n">2</span><span class="sc">;</span></li><li>	<span class="i">$float</span> = <span class="n">2</span> + <span class="n">5.0</span><span class="sc">;</span></li><li>	<span class="i">$float</span> = <span class="n">5</span> / <span class="n">2</span><span class="sc">;</span></li></ol></pre><p>With overloaded math, only the first two variants will result in a BigFloat:</p>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigInt</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/use.html">use</a> <span class="w">Math::BigFloat</span><span class="sc">;</span></li><li></li><li>	<span class="i">$mbf</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$mbi2</span> = <span class="w">Math::BigInteger</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">5</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="i">$mbi</span> = <span class="w">Math::BigInteger</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>					<span class="c"># what actually gets called:</span></li><li>	<span class="i">$float</span> = <span class="i">$mbf</span> + <span class="i">$mbi</span><span class="sc">;</span>		<span class="c"># $mbf-&gt;badd()</span></li><li>	<span class="i">$float</span> = <span class="i">$mbf</span> / <span class="i">$mbi</span><span class="sc">;</span>		<span class="c"># $mbf-&gt;bdiv()</span></li><li>	<span class="i">$integer</span> = <span class="i">$mbi</span> + <span class="i">$mbf</span><span class="sc">;</span>		<span class="c"># $mbi-&gt;badd()</span></li><li>	<span class="i">$integer</span> = <span class="i">$mbi2</span> / <span class="i">$mbi</span><span class="sc">;</span>	<span class="c"># $mbi2-&gt;bdiv()</span></li><li>	<span class="i">$integer</span> = <span class="i">$mbi2</span> / <span class="i">$mbf</span><span class="sc">;</span>	<span class="c"># $mbi2-&gt;bdiv()</span></li></ol></pre><p>This is because math with overloaded operators follows the first (dominating)
operand, and the operation of that is called and returns thus the result. So,
Math::BigInt::bdiv() will always return a Math::BigInt, regardless whether
the result should be a Math::BigFloat or the second operant is one.</p>
<p>To get a Math::BigFloat you either need to call the operation manually,
make sure the operands are already of the proper type or casted to that type
via Math::BigFloat-&gt;new():</p>
<pre class="verbatim"><ol><li>	<span class="i">$float</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$mbi2</span><span class="s">)</span> / <span class="i">$mbi</span><span class="sc">;</span>	<span class="c"># = 2.5</span></li></ol></pre><p>Beware of simple "casting" the entire expression, this would only convert
the already computed result:</p>
<pre class="verbatim"><ol><li>	<span class="i">$float</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$mbi2</span> / <span class="i">$mbi</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># = 2.0 thus wrong!</span></li></ol></pre><p>Beware also of the order of more complicated expressions like:</p>
<pre class="verbatim"><ol><li>	<span class="i">$integer</span> = <span class="s">(</span><span class="i">$mbi2</span> + <span class="i">$mbi</span><span class="s">)</span> / <span class="i">$mbf</span><span class="sc">;</span>		<span class="c"># int / float =&gt; int</span></li><li>	<span class="i">$integer</span> = <span class="i">$mbi2</span> / <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$mbi</span><span class="s">)</span><span class="sc">;</span>	<span class="c"># ditto</span></li></ol></pre><p>If in doubt, break the expression into simpler terms, or cast all operands
to the desired resulting type.</p>
<p>Scalar values are a bit different, since:</p>
<pre class="verbatim"><ol><li>	<span class="i">$float</span> = <span class="n">2</span> + <span class="i">$mbf</span><span class="sc">;</span></li><li>	<span class="i">$float</span> = <span class="i">$mbf</span> + <span class="n">2</span><span class="sc">;</span></li></ol></pre><p>will both result in the proper type due to the way the overloaded math works.</p>
<p>This section also applies to other overloaded math packages, like Math::String.</p>
<p>One solution to you problem might be autoupgrading|upgrading. See the
pragmas <a href="../bignum.html">bignum</a>, <a href="../bigint.html">bigint</a> and <a href="../bigrat.html">bigrat</a> for an easy way to do this.</p>
</li>
<li><a name="bsqrt()"></a><b>bsqrt()</b>
<p><code class="inline"><span class="i">bsqrt</span><span class="s">(</span><span class="s">)</span></code>
 works only good if the result is a big integer, e.g. the square
root of 144 is 12, but from 12 the square root is 3, regardless of rounding
mode. The reason is that the result is always truncated to an integer.</p>
<p>If you want a better approximation of the square root, then use:</p>
<pre class="verbatim"><ol><li>	<span class="i">$x</span> = <span class="w">Math::BigFloat</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">12</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="w">Math::BigFloat</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="n">0</span><span class="s">)</span><span class="sc">;</span></li><li>	<span class="w">Math::BigFloat</span><span class="w">-&gt;round_mode</span><span class="s">(</span><span class="q">&#39;even&#39;</span><span class="s">)</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;copy</span><span class="i">-&gt;bsqrt</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># 4</span></li><li></li><li>	<span class="w">Math::BigFloat</span><span class="w">-&gt;precision</span><span class="s">(</span><span class="n">2</span><span class="s">)</span><span class="sc">;</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;bsqrt</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>			<span class="c"># 3.46</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="i">$x</span><span class="i">-&gt;bsqrt</span><span class="s">(</span><span class="n">3</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span>		<span class="c"># 3.464</span></li></ol></pre></li>
<li><a name="brsft()"></a><b>brsft()</b>
<p>For negative numbers in base see also <a href="#brsft()">brsft</a>.</p>
</li>
</ul>
<a name="BUGS"></a><h1>BUGS</h1>
<p>Please report any bugs or feature requests to
<code class="inline"><span class="w">bug</span>-<span class="w">math</span>-<span class="w">bigint</span> <span class="w">at</span> <span class="w">rt</span>.<span class="w">cpan</span>.<span class="w">org</span></code>
, or through the web interface at
<a href="https://rt.cpan.org/Ticket/Create.html?Queue=Math-BigInt">https://rt.cpan.org/Ticket/Create.html?Queue=Math-BigInt</a>
(requires login).
We will be notified, and then you'll automatically be notified of progress on
your bug as I make changes.</p>
<a name="SUPPORT"></a><h1>SUPPORT</h1>
<p>You can find documentation for this module with the perldoc command.</p>
<pre class="verbatim"><ol><li>    <span class="w">perldoc</span> <span class="w">Math::BigInt</span></li></ol></pre><p>You can also look for information at:</p>
<ul>
<li><a name="*-RT%3a-CPAN's-request-tracker"></a><b>RT: CPAN's request tracker</b>
<p><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Math-BigInt">https://rt.cpan.org/Public/Dist/Display.html?Name=Math-BigInt</a></p>
</li>
<li><a name="*-AnnoCPAN%3a-Annotated-CPAN-documentation"></a><b>AnnoCPAN: Annotated CPAN documentation</b>
<p><a href="http://annocpan.org/dist/Math-BigInt">http://annocpan.org/dist/Math-BigInt</a></p>
</li>
<li><a name="*-CPAN-Ratings"></a><b>CPAN Ratings</b>
<p><a href="http://cpanratings.perl.org/dist/Math-BigInt">http://cpanratings.perl.org/dist/Math-BigInt</a></p>
</li>
<li><a name="*-Search-CPAN"></a><b>Search CPAN</b>
<p><a href="http://search.cpan.org/dist/Math-BigInt/">http://search.cpan.org/dist/Math-BigInt/</a></p>
</li>
<li><a name="*-CPAN-Testers-Matrix"></a><b>CPAN Testers Matrix</b>
<p><a href="http://matrix.cpantesters.org/?dist=Math-BigInt">http://matrix.cpantesters.org/?dist=Math-BigInt</a></p>
</li>
<li><a name="*-The-Bignum-mailing-list"></a><b>The Bignum mailing list</b>
<ul>
<li><a name="*-Post-to-mailing-list"></a><b>Post to mailing list</b>
<p><code class="inline"><span class="w">bignum</span> <span class="w">at</span> <span class="w">lists</span>.<span class="w">scsys</span>.<span class="w">co</span>.<span class="w">uk</span></code>
</p>
</li>
<li><a name="*-View-mailing-list"></a><b>View mailing list</b>
<p><a href="http://lists.scsys.co.uk/pipermail/bignum/">http://lists.scsys.co.uk/pipermail/bignum/</a></p>
</li>
<li><a name="*-Subscribe%2fUnsubscribe"></a><b>Subscribe/Unsubscribe</b>
<p><a href="http://lists.scsys.co.uk/cgi-bin/mailman/listinfo/bignum">http://lists.scsys.co.uk/cgi-bin/mailman/listinfo/bignum</a></p>
</li>
</ul>
</li>
</ul>
<a name="LICENSE"></a><h1>LICENSE</h1>
<p>This program is free software; you may redistribute it and/or modify it under
the same terms as Perl itself.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="../Math/BigFloat.html">Math::BigFloat</a> and <a href="../Math/BigRat.html">Math::BigRat</a> as well as the backends
<a href="../Math/BigInt/FastCalc.html">Math::BigInt::FastCalc</a>, <a href="http://search.cpan.org/perldoc/Math::BigInt::GMP">Math::BigInt::GMP</a>, and <a href="http://search.cpan.org/perldoc/Math::BigInt::Pari">Math::BigInt::Pari</a>.</p>
<p>The pragmas <a href="../bignum.html">bignum</a>, <a href="../bigint.html">bigint</a> and <a href="../bigrat.html">bigrat</a> also might be of interest
because they solve the autoupgrading/downgrading issue, at least partly.</p>
<a name="AUTHORS"></a><h1>AUTHORS</h1>
<p>Original code by Mark Biggar, overloaded interface by Ilya Zakharevich.
Completely rewritten by Tels <a href="http://bloodgate.com">http://bloodgate.com</a> in late 2000, 2001 - 2006
and still at it in 2007.</p>
<p>Many people contributed in one or more ways to the final beast, see the file
CREDITS for an (incomplete) list. If you miss your name, please drop me a
mail. Thank you!</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Input">Input</a><li><a href="#Output">Output</a></ul><li><a href="#METHODS">METHODS</a><li><a href="#ACCURACY-and-PRECISION">ACCURACY and PRECISION</a><ul><li><a href="#Precision-P">Precision P</a><li><a href="#Accuracy-A">Accuracy A</a><li><a href="#Fallback-F">Fallback F</a><li><a href="#Rounding-mode-R">Rounding mode R</a></ul><li><a href="#Infinity-and-Not-a-Number">Infinity and Not a Number</a><li><a href="#INTERNALS">INTERNALS</a><ul><li><a href="#MATH-LIBRARY">MATH LIBRARY</a><li><a href="#SIGN">SIGN</a><li><a href="#mantissa()%2c-exponent()-and-parts()">mantissa(), exponent() and parts()</a></ul><li><a href="#EXAMPLES">EXAMPLES</a><li><a href="#Autocreating-constants">Autocreating constants</a><li><a href="#PERFORMANCE">PERFORMANCE</a><ul><li><a href="#Alternative-math-libraries">Alternative math libraries</a></ul><li><a href="#SUBCLASSING">SUBCLASSING</a><ul><li><a href="#Subclassing-Math%3a%3aBigInt">Subclassing Math::BigInt</a></ul><li><a href="#UPGRADING">UPGRADING</a><ul><li><a href="#Auto-upgrade">Auto-upgrade</a></ul><li><a href="#EXPORTS">EXPORTS</a><li><a href="#CAVEATS">CAVEATS</a><li><a href="#BUGS">BUGS</a><li><a href="#SUPPORT">SUPPORT</a><li><a href="#LICENSE">LICENSE</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHORS">AUTHORS</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../index-modules-A.html">Modules</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../index-licence.html">License</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../static/exploreperl.js"></script>
      <script language="JavaScript" src="../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(1);
  perldoc.pageName    = 'Math::BigInt';
  perldoc.pageAddress = 'Math/BigInt.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
