<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>perlnumber</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page">
      
      <div id="header">
	<div id="homepage_link">
	  <a href="index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">History / Changes</a>
                <li><a href="index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Special Variables</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column">
          <div id="content_header">
            <div id="title_bar">
              <div id="page_name">
                <h1>perlnumber</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 22.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-language.html">Language reference</a> &gt;
      
    
    perlnumber
  

            </div>
          </div>
          <div id="content_body">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>perlnumber</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#Storing-numbers">Storing numbers</a><li><a href="#Numeric-operators-and-numeric-conversions">Numeric operators and numeric conversions</a><li><a href="#Flavors-of-Perl-numeric-operations">Flavors of Perl numeric operations</a><li><a href="#AUTHOR">AUTHOR</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perlnumber - semantics of numbers and numeric operations in Perl</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>    <span class="i">$n</span> = <span class="n">1234</span><span class="sc">;</span>		    <span class="c"># decimal integer</span></li><li>    <span class="i">$n</span> = <span class="n">0b1110011</span><span class="sc">;</span>	    <span class="c"># binary integer</span></li><li>    <span class="i">$n</span> = <span class="n">01234</span><span class="sc">;</span>		    <span class="c"># octal integer</span></li><li>    <span class="i">$n</span> = <span class="n">0x1234</span><span class="sc">;</span>	    <span class="c"># hexadecimal integer</span></li><li>    <span class="i">$n</span> = <span class="n">12.34e-56</span><span class="sc">;</span>	    <span class="c"># exponential notation</span></li><li>    <span class="i">$n</span> = <span class="q">&quot;-12.34e56&quot;</span><span class="sc">;</span>	    <span class="c"># number specified as a string</span></li><li>    <span class="i">$n</span> = <span class="q">&quot;1234&quot;</span><span class="sc">;</span>	    <span class="c"># number specified as a string</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This document describes how Perl internally handles numeric values.</p>
<p>Perl's operator overloading facility is completely ignored here.  Operator
overloading allows user-defined behaviors for numbers, such as operations
over arbitrarily large integers, floating points numbers with arbitrary
precision, operations over "exotic" numbers such as modular arithmetic or
p-adic arithmetic, and so on.  See <a href="overload.html">overload</a> for details.</p>
<a name="Storing-numbers"></a><h1>Storing numbers</h1>
<p>Perl can internally represent numbers in 3 different ways: as native
integers, as native floating point numbers, and as decimal strings.
Decimal strings may have an exponential notation part, as in <code class="inline"><span class="q">&quot;12.34e-56&quot;</span></code>
.
<i>Native</i> here means "a format supported by the C compiler which was used
to build perl".</p>
<p>The term "native" does not mean quite as much when we talk about native
integers, as it does when native floating point numbers are involved.
The only implication of the term "native" on integers is that the limits for
the maximal and the minimal supported true integral quantities are close to
powers of 2.  However, "native" floats have a most fundamental
restriction: they may represent only those numbers which have a relatively
"short" representation when converted to a binary fraction.  For example,
0.9 cannot be represented by a native float, since the binary fraction
for 0.9 is infinite:</p>
<pre class="verbatim"><ol><li>  <span class="w">binary0</span><span class="n">.1110011001100</span>...</li></ol></pre><p>with the sequence <code class="inline"><span class="n">1100</span></code>
 repeating again and again.  In addition to this
limitation,  the exponent of the binary number is also restricted when it
is represented as a floating point number.  On typical hardware, floating
point values can store numbers with up to 53 binary digits, and with binary
exponents between -1024 and 1024.  In decimal representation this is close
to 16 decimal digits and decimal exponents in the range of -304..304.
The upshot of all this is that Perl cannot store a number like
12345678901234567 as a floating point number on such architectures without
loss of information.</p>
<p>Similarly, decimal strings can represent only those numbers which have a
finite decimal expansion.  Being strings, and thus of arbitrary length, there
is no practical limit for the exponent or number of decimal digits for these
numbers.  (But realize that what we are discussing the rules for just the
<i>storage</i> of these numbers.  The fact that you can store such "large" numbers
does not mean that the <i>operations</i> over these numbers will use all
of the significant digits.
See <a href="#Numeric-operators-and-numeric-conversions">Numeric operators and numeric conversions</a> for details.)</p>
<p>In fact numbers stored in the native integer format may be stored either
in the signed native form, or in the unsigned native form.  Thus the limits
for Perl numbers stored as native integers would typically be -2**31..2**32-1,
with appropriate modifications in the case of 64-bit integers.  Again, this
does not mean that Perl can do operations only over integers in this range:
it is possible to store many more integers in floating point format.</p>
<p>Summing up, Perl numeric values can store only those numbers which have
a finite decimal expansion or a "short" binary expansion.</p>
<a name="Numeric-operators-and-numeric-conversions"></a><h1>Numeric operators and numeric conversions</h1>
<p>As mentioned earlier, Perl can store a number in any one of three formats,
but most operators typically understand only one of those formats.  When
a numeric value is passed as an argument to such an operator, it will be
converted to the format understood by the operator.</p>
<p>Six such conversions are possible:</p>
<pre class="verbatim"><ol><li>  native integer        --&gt; native floating point	(*)</li><li>  native integer        --&gt; decimal string</li><li>  native floating_point --&gt; native integer		(*)</li><li>  native floating_point --&gt; decimal string		(*)</li><li>  decimal string        --&gt; native integer</li><li>  decimal string        --&gt; native floating point	(*)</li></ol></pre><p>These conversions are governed by the following general rules:</p>
<ul>
<li>
<p>If the source number can be represented in the target form, that
representation is used.</p>
</li>
<li>
<p>If the source number is outside of the limits representable in the target form,
a representation of the closest limit is used.  (<i>Loss of information</i>)</p>
</li>
<li>
<p>If the source number is between two numbers representable in the target form,
a representation of one of these numbers is used.  (<i>Loss of information</i>)</p>
</li>
<li>
<p>In <code class="inline"><span class="w">native</span> <span class="w">floating</span> <span class="w">point</span> --&gt; <span class="w">native</span> <span class="w">integer</span></code>
 conversions the magnitude
of the result is less than or equal to the magnitude of the source.
(<i>"Rounding to zero".</i>)</p>
</li>
<li>
<p>If the <code class="inline"><span class="w">decimal</span> <span class="w">string</span> --&gt; <span class="w">native</span> <span class="w">integer</span></code>
 conversion cannot be done
without loss of information, the result is compatible with the conversion
sequence <code class="inline"><span class="w">decimal_string</span> --&gt; <span class="w">native_floating_point</span> --&gt; <span class="w">native_integer</span></code>
.
In particular, rounding is strongly biased to 0, though a number like
<code class="inline"><span class="q">&quot;0.99999999999999999999&quot;</span></code>
 has a chance of being rounded to 1.</p>
</li>
</ul>
<p><b>RESTRICTION</b>: The conversions marked with <code class="inline">(*)</code> above involve steps
performed by the C compiler.  In particular, bugs/features of the compiler
used may lead to breakage of some of the above rules.</p>
<a name="Flavors-of-Perl-numeric-operations"></a><h1>Flavors of Perl numeric operations</h1>
<p>Perl operations which take a numeric argument treat that argument in one
of four different ways: they may force it to one of the integer/floating/
string formats, or they may behave differently depending on the format of
the operand.  Forcing a numeric value to a particular format does not
change the number stored in the value.</p>
<p>All the operators which need an argument in the integer format treat the
argument as in modular arithmetic, e.g., <code class="inline"><span class="w">mod</span> <span class="n">2</span>**<span class="n">32</span></code>
 on a 32-bit
architecture.  <code class="inline"><a class="l_k" href="functions/sprintf.html">sprintf</a> <span class="q">&quot;%u&quot;</span><span class="cm">,</span> <span class="n">-1</span></code>
 therefore provides the same result as
<code class="inline"><a class="l_k" href="functions/sprintf.html">sprintf</a> <span class="q">&quot;%u&quot;</span><span class="cm">,</span> ~<span class="n">0</span></code>
.</p>
<ul>
<li><a name="Arithmetic-operators"></a><b>Arithmetic operators</b>
<p>The binary operators <code class="inline">+</code>
 <code class="inline">-</code>
 <code class="inline"><span class="i">*</span></code>
 <code class="inline">/</code> <code class="inline"><span class="i">%</span></code>
 <code class="inline">==</code>
 <code class="inline">!=</code>
 <code class="inline">&gt;</code> <code class="inline">&lt;</code>

<code class="inline">&gt;=</code>
 <code class="inline">&lt;=</code>
 and the unary operators <code class="inline">-</code>
 <code class="inline"><a class="l_k" href="functions/abs.html">abs</a></code> and <code class="inline">--</code>
 will
attempt to convert arguments to integers.  If both conversions are possible
without loss of precision, and the operation can be performed without
loss of precision then the integer result is used.  Otherwise arguments are
converted to floating point format and the floating point result is used.
The caching of conversions (as described above) means that the integer
conversion does not throw away fractional parts on floating point numbers.</p>
</li>
<li><a name="%2b%2b"></a><b>++</b>
<p><code class="inline">++</code>
 behaves as the other operators above, except that if it is a string
matching the format <code class="inline"><span class="q">/^[a-zA-Z]*[0-9]*\z/</span></code>
 the string increment described
in <a href="perlop.html">perlop</a> is used.</p>
</li>
<li><a name="Arithmetic-operators-during-use-integer"></a><b>Arithmetic operators during <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">integer</span></code>
</b>
<p>In scopes where <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">integer</span><span class="sc">;</span></code>
 is in force, nearly all the operators listed
above will force their argument(s) into integer format, and return an integer
result.  The exceptions, <code class="inline"><a class="l_k" href="functions/abs.html">abs</a></code>, <code class="inline">++</code>
 and <code class="inline">--</code>
, do not change their
behavior with <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">integer</span><span class="sc">;</span></code>
</p>
</li>
<li><a name="Other-mathematical-operators"></a><b>Other mathematical operators</b>
<p>Operators such as <code class="inline"><span class="i">**</span></code>
, <code class="inline"><a class="l_k" href="functions/sin.html">sin</a></code> and <code class="inline"><a class="l_k" href="functions/exp.html">exp</a></code> force arguments to floating point
format.</p>
</li>
<li><a name="Bitwise-operators"></a><b>Bitwise operators</b>
<p>Arguments are forced into the integer format if not strings.</p>
</li>
<li><a name="Bitwise-operators-during-use-integer"></a><b>Bitwise operators during <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">integer</span></code>
</b>
<p>forces arguments to integer format. Also shift operations internally use
signed integers rather than the default unsigned.</p>
</li>
<li><a name="Operators-which-expect-an-integer"></a><b>Operators which expect an integer</b>
<p>force the argument into the integer format.  This is applicable
to the third and fourth arguments of <code class="inline"><a class="l_k" href="functions/sysread.html">sysread</a></code>, for example.</p>
</li>
<li><a name="Operators-which-expect-a-string"></a><b>Operators which expect a string</b>
<p>force the argument into the string format.  For example, this is
applicable to <code class="inline"><a class="l_k" href="functions/printf.html">printf</a> <span class="q">&quot;%s&quot;</span><span class="cm">,</span> <span class="i">$value</span></code>
.</p>
</li>
</ul>
<p>Though forcing an argument into a particular form does not change the
stored number, Perl remembers the result of such conversions.  In
particular, though the first such conversion may be time-consuming,
repeated operations will not need to redo the conversion.</p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<p>Ilya Zakharevich <code class="inline"><span class="w">ilya</span><span class="i">@math</span>.<span class="w">ohio</span>-<span class="w">state</span>.<span class="w">edu</span></code>
</p>
<p>Editorial adjustments by Gurusamy Sarathy &lt;gsar@ActiveState.com&gt;</p>
<p>Updates for 5.8.0 by Nicholas Clark &lt;nick@ccl4.org&gt;</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="overload.html">overload</a>, <a href="perlop.html">perlop</a></p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#Storing-numbers">Storing numbers</a><li><a href="#Numeric-operators-and-numeric-conversions">Numeric operators and numeric conversions</a><li><a href="#Flavors-of-Perl-numeric-operations">Flavors of Perl numeric operations</a><li><a href="#AUTHOR">AUTHOR</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="mailto:jj@jonallen.info">Jon Allen (JJ)</a><br>
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="index-modules-A.html">Modules</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="index-licence.html">License</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="static/exploreperl.js"></script>
      <script language="JavaScript" src="static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(0);
  perldoc.pageName    = 'perlnumber';
  perldoc.pageAddress = 'perlnumber.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
