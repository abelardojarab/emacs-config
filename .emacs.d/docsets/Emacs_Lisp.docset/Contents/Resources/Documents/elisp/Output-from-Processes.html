<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:webmasters@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Output from Processes</title>
<!--
This is the `GNU Emacs Lisp Reference Manual'
corresponding to Emacs version 24.4.

Copyright (C) 1990--1996, 1998--2014 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover Texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Output-from-Processes"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Sentinels.html#Sentinels">Sentinels</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Signals-to-Processes.html#Signals-to-Processes">Signals to Processes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Processes.html#Processes">Processes</a>

</p></div>

<h3 class="section">36.9 Receiving Output from Processes</h3>

<p><a name="index-process-output-3649"></a><a name="index-output-from-processes-3650"></a>
  The output that a subprocess writes to its standard output stream
is passed to a function called the <dfn>filter function</dfn>.  The default
filter function simply inserts the output into a buffer, which is
called the associated buffer of the process (see <a href="Process-Buffers.html#Process-Buffers">Process Buffers</a>).  If the process has no buffer then the default filter
discards the output.

   </p><p>When a subprocess terminates, Emacs reads any pending output,
then stops reading output from that subprocess.  Therefore, if the
subprocess has children that are still live and still producing
output, Emacs won't receive that output.

   </p><p>Output from a subprocess can arrive only while Emacs is waiting: when
reading terminal input (see the function <code>waiting-for-user-input-p</code>),
in <code>sit-for</code> and <code>sleep-for</code> (see <a href="Waiting.html#Waiting">Waiting</a>), and in
<code>accept-process-output</code> (see <a href="Accepting-Output.html#Accepting-Output">Accepting Output</a>).  This
minimizes the problem of timing errors that usually plague parallel
programming.  For example, you can safely create a process and only
then specify its buffer or filter function; no output can arrive
before you finish, if the code in between does not call any primitive
that waits.

</p><div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/process%2Dadaptive%2Dread%2Dbuffering"></a><a name="DASH-1527"></a>— Variable: <b>process-adaptive-read-buffering</b><var><a name="index-process_002dadaptive_002dread_002dbuffering-3651"></a></var><br>
<blockquote><p>On some systems, when Emacs reads the output from a subprocess, the
output data is read in very small blocks, potentially resulting in
very poor performance.  This behavior can be remedied to some extent
by setting the variable <code>process-adaptive-read-buffering</code> to a
non-<code>nil</code> value (the default), as it will automatically delay reading
from such processes, thus allowing them to produce more output before
Emacs tries to read it. 
</p></blockquote></div>

   <p>It is impossible to separate the standard output and standard error
streams of the subprocess, because Emacs normally spawns the subprocess
inside a pseudo-TTY, and a pseudo-TTY has only one output channel.  If
you want to keep the output to those streams separate, you should
redirect one of them to a file—for example, by using an appropriate
shell command.

</p><ul class="menu">
<li><a accesskey="1" href="Process-Buffers.html#Process-Buffers">Process Buffers</a>:          By default, output is put in a buffer. 
</li><li><a accesskey="2" href="Filter-Functions.html#Filter-Functions">Filter Functions</a>:         Filter functions accept output from the process. 
</li><li><a accesskey="3" href="Decoding-Output.html#Decoding-Output">Decoding Output</a>:          Filters can get unibyte or multibyte strings. 
</li><li><a accesskey="4" href="Accepting-Output.html#Accepting-Output">Accepting Output</a>:         How to wait until process output arrives. 
</li></ul>

   

</body></html>