<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:webmasters@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Translation of Characters</title>
<!--
This is the `GNU Emacs Lisp Reference Manual'
corresponding to Emacs version 24.4.

Copyright (C) 1990--1996, 1998--2014 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover Texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Translation-of-Characters"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Coding-Systems.html#Coding-Systems">Coding Systems</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Scanning-Charsets.html#Scanning-Charsets">Scanning Charsets</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Non_002dASCII-Characters.html#Non_002dASCII-Characters">Non-ASCII Characters</a>

</p></div>

<h3 class="section">32.9 Translation of Characters</h3>

<p><a name="index-character-translation-tables-3241"></a><a name="index-translation-tables-3242"></a>
  A <dfn>translation table</dfn> is a char-table (see <a href="Char_002dTables.html#Char_002dTables">Char-Tables</a>) that
specifies a mapping of characters into characters.  These tables are
used in encoding and decoding, and for other purposes.  Some coding
systems specify their own particular translation tables; there are
also default translation tables which apply to all other coding
systems.

   </p><p>A translation table has two extra slots.  The first is either
<code>nil</code> or a translation table that performs the reverse
translation; the second is the maximum number of characters to look up
for translating sequences of characters (see the description of
<code>make-translation-table-from-alist</code> below).

</p><div class="defun">
<a class="dashAnchor" name="//apple_ref/func/make%2Dtranslation%2Dtable"></a><a name="DASH-2208"></a>— Function: <b>make-translation-table</b><var> &amp;rest translations<a name="index-make_002dtranslation_002dtable-3243"></a></var><br>
<blockquote><p>This function returns a translation table based on the argument
<var>translations</var>.  Each element of <var>translations</var> should be a
list of elements of the form <code>(</code><var>from</var><code> . </code><var>to</var><code>)</code>; this says
to translate the character <var>from</var> into <var>to</var>.

        </p><p>The arguments and the forms in each argument are processed in order,
and if a previous form already translates <var>to</var> to some other
character, say <var>to-alt</var>, <var>from</var> is also translated to
<var>to-alt</var>. 
</p></blockquote></div>

   <p>During decoding, the translation table's translations are applied to
the characters that result from ordinary decoding.  If a coding system
has the property <code>:decode-translation-table</code>, that specifies the
translation table to use, or a list of translation tables to apply in
sequence.  (This is a property of the coding system, as returned by
<code>coding-system-get</code>, not a property of the symbol that is the
coding system's name.  See <a href="Coding-System-Basics.html#Coding-System-Basics">Basic Concepts of Coding Systems</a>.)  Finally, if
<code>standard-translation-table-for-decode</code> is non-<code>nil</code>, the
resulting characters are translated by that table.

   </p><p>During encoding, the translation table's translations are applied to
the characters in the buffer, and the result of translation is
actually encoded.  If a coding system has property
<code>:encode-translation-table</code>, that specifies the translation table
to use, or a list of translation tables to apply in sequence.  In
addition, if the variable <code>standard-translation-table-for-encode</code>
is non-<code>nil</code>, it specifies the translation table to use for
translating the result.

</p><div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/standard%2Dtranslation%2Dtable%2Dfor%2Ddecode"></a><a name="DASH-2209"></a>— Variable: <b>standard-translation-table-for-decode</b><var><a name="index-standard_002dtranslation_002dtable_002dfor_002ddecode-3244"></a></var><br>
<blockquote><p>This is the default translation table for decoding.  If a coding
systems specifies its own translation tables, the table that is the
value of this variable, if non-<code>nil</code>, is applied after them. 
</p></blockquote></div>

<div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/standard%2Dtranslation%2Dtable%2Dfor%2Dencode"></a><a name="DASH-2210"></a>— Variable: <b>standard-translation-table-for-encode</b><var><a name="index-standard_002dtranslation_002dtable_002dfor_002dencode-3245"></a></var><br>
<blockquote><p>This is the default translation table for encoding.  If a coding
systems specifies its own translation tables, the table that is the
value of this variable, if non-<code>nil</code>, is applied after them. 
</p></blockquote></div>

<!-- FIXME: This variable is obsolete since 23.1.  We should mention -->
<!-- that here or simply remove this defvar.  -xfq -->
<div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/translation%2Dtable%2Dfor%2Dinput"></a><a name="DASH-2211"></a>— Variable: <b>translation-table-for-input</b><var><a name="index-translation_002dtable_002dfor_002dinput-3246"></a></var><br>
<blockquote><p>Self-inserting characters are translated through this translation
table before they are inserted.  Search commands also translate their
input through this table, so they can compare more reliably with
what's in the buffer.

        </p><p>This variable automatically becomes buffer-local when set. 
</p></blockquote></div>

<div class="defun">
<a class="dashAnchor" name="//apple_ref/func/make%2Dtranslation%2Dtable%2Dfrom%2Dvector"></a><a name="DASH-2212"></a>— Function: <b>make-translation-table-from-vector</b><var> vec<a name="index-make_002dtranslation_002dtable_002dfrom_002dvector-3247"></a></var><br>
<blockquote><p>This function returns a translation table made from <var>vec</var> that is
an array of 256 elements to map bytes (values 0 through #xFF) to
characters.  Elements may be <code>nil</code> for untranslated bytes.  The
returned table has a translation table for reverse mapping in the
first extra slot, and the value <code>1</code> in the second extra slot.

        </p><p>This function provides an easy way to make a private coding system
that maps each byte to a specific character.  You can specify the
returned table and the reverse translation table using the properties
<code>:decode-translation-table</code> and <code>:encode-translation-table</code>
respectively in the <var>props</var> argument to
<code>define-coding-system</code>. 
</p></blockquote></div>

<div class="defun">
<a class="dashAnchor" name="//apple_ref/func/make%2Dtranslation%2Dtable%2Dfrom%2Dalist"></a><a name="DASH-2213"></a>— Function: <b>make-translation-table-from-alist</b><var> alist<a name="index-make_002dtranslation_002dtable_002dfrom_002dalist-3248"></a></var><br>
<blockquote><p>This function is similar to <code>make-translation-table</code> but returns
a complex translation table rather than a simple one-to-one mapping. 
Each element of <var>alist</var> is of the form <code>(</code><var>from</var><code>
. </code><var>to</var><code>)</code>, where <var>from</var> and <var>to</var> are either characters or
vectors specifying a sequence of characters.  If <var>from</var> is a
character, that character is translated to <var>to</var> (i.e., to a
character or a character sequence).  If <var>from</var> is a vector of
characters, that sequence is translated to <var>to</var>.  The returned
table has a translation table for reverse mapping in the first extra
slot, and the maximum length of all the <var>from</var> character sequences
in the second extra slot. 
</p></blockquote></div>

   

</body></html>