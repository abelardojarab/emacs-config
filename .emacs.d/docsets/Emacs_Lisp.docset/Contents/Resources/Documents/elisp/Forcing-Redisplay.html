<html><!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright (C) 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Forcing Redisplay</title>

<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>

<body lang="en">
<a name="Forcing-Redisplay"></a>
<div class="header" style="background-color:#DDDDFF">
<p>
Next: <a href="Truncation.html#Truncation" accesskey="n" rel="next">Truncation</a>, Previous: <a href="Refresh-Screen.html#Refresh-Screen" accesskey="p" rel="prev">Refresh Screen</a>, Up: <a href="Display.html#Display" accesskey="u" rel="up">Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>

<a name="Forcing-Redisplay-1"></a>
<h3 class="section">37.2 Forcing Redisplay</h3>
<a name="index-forcing-redisplay"></a>

<p>Emacs normally tries to redisplay the screen whenever it waits for
input.  With the following function, you can request an immediate
attempt to redisplay, in the middle of Lisp code, without actually
waiting for input.
</p>
<dl>
<dt><a class="dashAnchor" name="//apple_ref/func/redisplay"></a><a name="index-redisplay"></a>Function: <strong>redisplay</strong> <em>&amp;optional force</em></dt>
<dd><p>This function tries immediately to redisplay.  The optional argument
<var>force</var>, if non-<code>nil</code>, forces the redisplay to be performed,
instead of being preempted if input is pending.
</p>
<p>The function returns <code>t</code> if it actually tried to redisplay, and
<code>nil</code> otherwise.  A value of <code>t</code> does not mean that
redisplay proceeded to completion; it could have been preempted by
newly arriving input.
</p></dd></dl>

<p>Although <code>redisplay</code> tries immediately to redisplay, it does
not change how Emacs decides which parts of its frame(s) to redisplay.
By contrast, the following function adds certain windows to the
pending redisplay work (as if their contents had completely changed),
but does not immediately try to perform redisplay.
</p>
<dl>
<dt><a class="dashAnchor" name="//apple_ref/func/force%2Dwindow%2Dupdate"></a><a name="index-force_002dwindow_002dupdate"></a>Function: <strong>force-window-update</strong> <em>&amp;optional object</em></dt>
<dd><p>This function forces some or all windows to be updated the next time
Emacs does a redisplay.  If <var>object</var> is a window, that window is
to be updated.  If <var>object</var> is a buffer or buffer name, all
windows displaying that buffer are to be updated.  If <var>object</var> is
<code>nil</code> (or omitted), all windows are to be updated.
</p>
<p>This function does not do a redisplay immediately; Emacs does that as
it waits for input, or when the function <code>redisplay</code> is called.
</p></dd></dl>

<dl>
<dt><a class="dashAnchor" name="//apple_ref/Variable/pre%2Dredisplay%2Dfunction"></a><a name="index-pre_002dredisplay_002dfunction"></a>Variable: <strong>pre-redisplay-function</strong></dt>
<dd><p>A function run just before redisplay.  It is called with one argument,
the set of windows to be redisplayed.  The set can be <code>nil</code>,
meaning only the selected window, or <code>t</code>, meaning all the
windows.
</p></dd></dl>

<dl>
<dt><a class="dashAnchor" name="//apple_ref/Variable/pre%2Dredisplay%2Dfunctions"></a><a name="index-pre_002dredisplay_002dfunctions"></a>Variable: <strong>pre-redisplay-functions</strong></dt>
<dd><p>This hook is run just before redisplay.  It is called once in each
window that is about to be redisplayed, with <code>current-buffer</code> set
to the buffer displayed in that window.
</p></dd></dl>


<div class="header" style="background-color:#DDDDFF">
<p>
Next: <a href="Truncation.html#Truncation" accesskey="n" rel="next">Truncation</a>, Previous: <a href="Refresh-Screen.html#Refresh-Screen" accesskey="p" rel="prev">Refresh Screen</a>, Up: <a href="Display.html#Display" accesskey="u" rel="up">Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>





</body></html>