<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:webmasters@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Forcing Redisplay</title>
<!--
This is the `GNU Emacs Lisp Reference Manual'
corresponding to Emacs version 24.4.

Copyright (C) 1990--1996, 1998--2014 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``GNU General Public
     License,'' with the Front-Cover Texts being ``A GNU Manual,'' and
     with the Back-Cover Texts as in (a) below.  A copy of the license
     is included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Forcing-Redisplay"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Truncation.html#Truncation">Truncation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Refresh-Screen.html#Refresh-Screen">Refresh Screen</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Display.html#Display">Display</a>

</p></div>

<h3 class="section">37.2 Forcing Redisplay</h3>

<p><a name="index-forcing-redisplay-3727"></a>
  Emacs normally tries to redisplay the screen whenever it waits for
input.  With the following function, you can request an immediate
attempt to redisplay, in the middle of Lisp code, without actually
waiting for input.

</p><div class="defun">
<a class="dashAnchor" name="//apple_ref/func/redisplay"></a><a name="DASH-938"></a>— Function: <b>redisplay</b><var> &amp;optional force<a name="index-redisplay-3728"></a></var><br>
<blockquote><p>This function tries immediately to redisplay.  The optional argument
<var>force</var>, if non-<code>nil</code>, forces the redisplay to be performed,
instead of being preempted, even if input is pending and the variable
<code>redisplay-dont-pause</code> is <code>nil</code> (see below).  If
<code>redisplay-dont-pause</code> is non-<code>nil</code> (the default), this
function redisplays in any case, i.e., <var>force</var> does nothing.

        </p><p>The function returns <code>t</code> if it actually tried to redisplay, and
<code>nil</code> otherwise.  A value of <code>t</code> does not mean that
redisplay proceeded to completion; it could have been preempted by
newly arriving input. 
</p></blockquote></div>

<div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/redisplay%2Ddont%2Dpause"></a><a name="DASH-939"></a>— Variable: <b>redisplay-dont-pause</b><var><a name="index-redisplay_002ddont_002dpause-3729"></a></var><br>
<blockquote><p>If this variable is <code>nil</code>, arriving input events preempt
redisplay; Emacs avoids starting a redisplay, and stops any redisplay
that is in progress, until the input has been processed.  In
particular, <code>(redisplay)</code> returns <code>nil</code> without actually
redisplaying, if there is pending input.

        </p><p>The default value is <code>t</code>, which means that pending input does not
preempt redisplay. 
</p></blockquote></div>

<div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/redisplay%2Dpreemption%2Dperiod"></a><a name="DASH-940"></a>— Variable: <b>redisplay-preemption-period</b><var><a name="index-redisplay_002dpreemption_002dperiod-3730"></a></var><br>
<blockquote><p>If <code>redisplay-dont-pause</code> is <code>nil</code>, this variable specifies
how many seconds Emacs waits between checks for new input during
redisplay; if input arrives during this interval, redisplay stops and
the input is processed.  The default value is 0.1; if the value is
<code>nil</code>, Emacs does not check for input during redisplay.

        </p><p>This variable has no effect when <code>redisplay-dont-pause</code> is
non-<code>nil</code> (the default). 
</p></blockquote></div>

<div class="defun">
<a class="dashAnchor" name="//apple_ref/Variable/pre%2Dredisplay%2Dfunction"></a><a name="DASH-941"></a>— Variable: <b>pre-redisplay-function</b><var><a name="index-pre_002dredisplay_002dfunction-3731"></a></var><br>
<blockquote><p>A function run just before redisplay.  It is called with one argument,
the set of windows to redisplay. 
</p></blockquote></div>

   <p>Although <code>redisplay</code> tries immediately to redisplay, it does
not change how Emacs decides which parts of its frame(s) to redisplay. 
By contrast, the following function adds certain windows to the
pending redisplay work (as if their contents had completely changed),
but does not immediately try to perform redisplay.

</p><div class="defun">
<a class="dashAnchor" name="//apple_ref/func/force%2Dwindow%2Dupdate"></a><a name="DASH-942"></a>— Function: <b>force-window-update</b><var> &amp;optional object<a name="index-force_002dwindow_002dupdate-3732"></a></var><br>
<blockquote><p>This function forces some or all windows to be updated the next time
Emacs does a redisplay.  If <var>object</var> is a window, that window is
to be updated.  If <var>object</var> is a buffer or buffer name, all
windows displaying that buffer are to be updated.  If <var>object</var> is
<code>nil</code> (or omitted), all windows are to be updated.

        </p><p>This function does not do a redisplay immediately; Emacs does that as
it waits for input, or when the function <code>redisplay</code> is called. 
</p></blockquote></div>

   

</body></html>