<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 May 2016 19:57:54 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script async="" src="../../../../../../www.google-analytics.com/analytics.js"></script><script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
  
    
  

  
  <title>JSAPI User Guide</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

  
    
    
    <link href="../../../../../../developer.cdn.mozilla.net/static/build/styles/mdn.593f20d8c365.css" rel="stylesheet" type="text/css">

    
  
    <link href="../../../../../../developer.cdn.mozilla.net/static/build/styles/wiki.13dd9abdfb62.css" rel="stylesheet" type="text/css">

    

    

  <!-- common social tags -->
  
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.dc4e08e2f6af.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.dc4e08e2f6af.png">
  <meta name="twitter:site" content="@MozDevNet">
  <meta name="twitter:creator" content="@MozDevNet">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon144.a6e4162070f4.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon114.0e9fabd44f85.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon72.8ff9d87c82a0.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon57.a2490b9a2d76.png">
  <!-- basic favicon -->
  
    
  
  <link rel="shortcut icon" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon32.e02854fdcf73.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/html5shiv.3948ccddab6f.js" charset="utf-8"></script>
  <![endif]-->

  
  <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide$json">
  <link rel="canonical" href="JSAPI_User_Guide.html">

  
    
      <link rel="alternate" hreflang="ja" href="https://developer.mozilla.org/ja/docs/Embedding_SpiderMonkey" title="Embedding SpiderMonkey">
    
      <link rel="alternate" hreflang="pt-BR" href="https://developer.mozilla.org/pt-BR/docs/SpiderMonkey/JSAPI_User_Guide" title="JSAPI User Guide">
    
      <link rel="alternate" hreflang="zh-CN" href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Projects/SpiderMonkey/JavaScript-C引擎嵌入开发指南" title="JavaScript-C引擎嵌入开发指南">
    
  

  <!-- document-specific social tags -->
  <meta property="og:title" content="JSAPI User Guide">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide">
  <meta name="twitter:title" content="JSAPI User Guide">
  
  <meta property="og:description" content="This document explains how to embed SpiderMonkey, the Mozilla JavaScript engine, in your C++ program.">
  <meta name="description" content="This document explains how to embed SpiderMonkey, the Mozilla JavaScript engine, in your C++ program.">
  <meta name="twitter:description" content="This document explains how to embed SpiderMonkey, the Mozilla JavaScript engine, in your C++ program.">
  

  
    



  
</head>
<body data-slug="Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide" contextmenu="edit-history-menu" data-search-url="" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

        
            (function(){
  var FLAGS = {
    'compat_api': false,'kumaediting': false,'page_move': false,'registration_disabled': false,'search_suggestions': false,'section_edit': false,'spam_admin_override': false,'spam_checks_enabled': true,'spam_spammer_override': false,'spam_submissions_enabled': false,'spam_testing_mode': false,'wiki_samples': true,'wiki_spam_exempted': false,'wiki_spam_training': true
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': true,'store_revision_ips': true,'dumb_doc_urls': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        

        // This needs to be set before ckeditor.js loads
        window.CKEDITOR_BASEPATH = 'https://developer.mozilla.org/static/js/libs/ckeditor/build/ckeditor/';

        // This represents the site configuration
        win.mdn = {
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to static assets (images, CSS, JS) in MDN
            staticPath: 'https://developer.cdn.mozilla.net/static/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            
            notifications: [],
            
            // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            },
            // Assets that need to be dynamically injected
            assets_disabled: {
                css: {
                    'editor-content': ['https://developer.cdn.mozilla.net/static/build/styles/editor-content.3d79df72080d.css',],
                    'wiki-compat-tables': ['https://developer.cdn.mozilla.net/static/build/styles/wiki-compat-tables.f3a3bfce97a1.css',]
                },
                js: {
                    'syntax-prism': ['https://developer.cdn.mozilla.net/static/build/js/syntax-prism.7a66ddfa68bf.js',],
                    'wiki-compat-tables': ['https://developer.cdn.mozilla.net/static/build/js/wiki-compat-tables.14ce5dcb2c3d.js',]
                }
            }
        };
    })(this);
</script>

  

  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
    
      <li><a href="#q" id="skip-search">Skip to search</a></li>
    
  </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div id="tabzilla">
        <a href="http://www.mozilla.org/" class="no-track">mozilla</a>
    </div>

    <div class="clear header-clear"></div>

    <a href="https://developer.mozilla.org/en-US/" class="logo">Mozilla Developer Network</a>

    <div id="nav-sec">
        
                  <ul>
                  <li>

    

    <form>
      <div class="oauth-login-container">
          <div class="oauth-login-options" tabindex="0">
              <span class="oauth-login-options-text">
                Sign in
              </span>
              <span class="oauth-icon oauth-github" data-service="GitHub" data-href="/users/github/login/?next=%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FSpiderMonkey%2FJSAPI_User_Guide" title="GitHub"><i class="icon-github" aria-hidden="true"></i></span>
              <span class="oauth-icon oauth-persona launch-persona-login wait-for-persona disabled" data-service="Persona" data-next="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide" title="Persona"><i class="icon-user" aria-hidden="true"></i></span>
          </div>
          <div class="oauth-login-picker" aria-hidden="true">
              <ul>
                  <li class="wait-for-persona disabled"><a href="https://developer.mozilla.org/en-US/users/signin" class="login-link launch-persona-login" data-next="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                  <li><a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FSpiderMonkey%2FJSAPI_User_Guide" class="login-link" data-service="GitHub"><i class="icon-github" aria-hidden="true"></i>GitHub</a></li>
              </ul>
              
          </div>
      </div>
    </form>
</li>
                </ul>
        
    </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-cols-2 js-submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="../../../Web/API.html">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References &amp; Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learn the Web</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Mozilla Docs<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a></li><li><a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-contact-submenu">
          <div class="submenu-column">
            <ul>
                <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li>
                <li><a href="http://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a></li>
              <li><a href="https://bugzilla.mozilla.org/form.doc">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li>
              <li><a href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
          </div>
        </div>

      </li><li class="nav-search-link"><a href="https://developer.mozilla.org/en-US/search" title="Search"><i aria-hidden="true" class="icon-search"></i></a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="">
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  

   <!-- end is_zone -->

    <div class="wiki-main-content" id="document-main"><div class="center">
      
      <div class="article-meta">
        <!-- action buttons -->
        

  
    
  

  
    
  

  

  <ul class="page-buttons" data-sticky="false">
      
      <li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
              
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/ja/docs/Embedding_SpiderMonkey" title="Embedding SpiderMonkey">日本語</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/pt-BR/docs/SpiderMonkey/JSAPI_User_Guide" title="JSAPI User Guide">Português (do&nbsp;Brasil)</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Projects/SpiderMonkey/JavaScript-C引擎嵌入开发指南" title="JavaScript-C引擎嵌入开发指南">中文 (简体)</a></bdi></li>
                
              

              
                <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li>
              
            </ul>
          </div>
        </div>
      </li>

      <li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li>

        

        <li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>
        <div class="submenu js-submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide$history" rel="nofollow, noindex">History</a></li>
                
                
                
                

                

                
                
                
                <li class="page-print"><a href="#" onclick="return window.print();">Print this article</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
        
  <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects" rel="v:url" property="v:title">Projects</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey" rel="v:url" property="v:title">SpiderMonkey</a></li>
    
    <li class="crumb" typeof="v:Breadcrumb" property="v:title">JSAPI User Guide</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc submenu">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>

        
        <div class="contributor-avatars" data-all-text="see all contributors" data-alternate-message="hide contributors" data-has-hidden="1">
            <ul>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Ms2ger" title="View profile: Ms2ger">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Ms2ger" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Ms2ger</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/teoli" title="View profile: teoli">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="teoli" data-src="../../../../../../secure.gravatar.com/avatar/d0d90148e08e3b64ccf75c46f31442c56c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">teoli</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Nickolay" title="View profile: Nickolay">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Nickolay" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Nickolay</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/fscholz" title="View profile: fscholz">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="fscholz" data-src="../../../../../../secure.gravatar.com/avatar/e24391c9174352988d819a9b9ea77c9e6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">fscholz</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/jorendorff-moz" title="View profile: jorendorff-moz">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="jorendorff-moz" data-src="../../../../../../secure.gravatar.com/avatar/5a83f46f9f97d184457cb2dedfa191736c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">jorendorff-moz</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/dfwdfw" title="View profile: dfwdfw">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="dfwdfw" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">dfwdfw</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/cpeterson" title="View profile: cpeterson">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="cpeterson" data-src="../../../../../../secure.gravatar.com/avatar/fce12300b80ca98151e9331523d6a2dc6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">cpeterson</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/tschneidereit" title="View profile: tschneidereit">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="tschneidereit" data-src="../../../../../../secure.gravatar.com/avatar/362c67cede7147671669843cafbba8d16c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">tschneidereit</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/kscarfone" title="View profile: kscarfone">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="kscarfone" data-src="../../../../../../secure.gravatar.com/avatar/89c1e54a9703125168e40d22316d2b496c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">kscarfone</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Jorend" title="View profile: Jorend">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Jorend" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Jorend</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Waldo" title="View profile: Waldo">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Waldo" data-src="../../../../../../secure.gravatar.com/avatar/d26a0ca7ae1134e0e1dbdddf82e289296c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Waldo</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/sfink" title="View profile: sfink">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="sfink" data-src="../../../../../../secure.gravatar.com/avatar/31f940cb8df709df2597484cda2b7f346c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">sfink</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/evilpie" title="View profile: evilpie">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="evilpie" data-src="../../../../../../secure.gravatar.com/avatar/6bb31f7207fc068158047b9c8ad4592d6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">evilpie</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/superquadratic" title="View profile: superquadratic">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="superquadratic" data-src="../../../../../../secure.gravatar.com/avatar/4366e6b67ae5107e30b1c039353dd1006c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">superquadratic</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/GeertVL" title="View profile: GeertVL">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="GeertVL" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">GeertVL</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/and.selm" title="View profile: and.selm">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="and.selm" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">and.selm</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Sheppy" title="View profile: Sheppy">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Sheppy" data-src="../../../../../../secure.gravatar.com/avatar/945076feb88f2d7003891ffbf06f32bf6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Sheppy</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/berkerpeksag" title="View profile: berkerpeksag">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="berkerpeksag" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">berkerpeksag</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/nicolasgramlich" title="View profile: nicolasgramlich">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="nicolasgramlich" data-src="../../../../../../secure.gravatar.com/avatar/ff1dc0e0a23f1c2270babc57bb8fd60c6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">nicolasgramlich</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/creationix" title="View profile: creationix">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="creationix" data-src="../../../../../../secure.gravatar.com/avatar/c953ddd239707998340e1a6fbb3eeb466c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">creationix</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/markg" title="View profile: markg">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="markg" data-src="../../../../../../secure.gravatar.com/avatar/a6bdd84b4732a2c3c7ecadd886b3c64a6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">markg</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/zpao" title="View profile: zpao">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="zpao" data-src="../../../../../../secure.gravatar.com/avatar/10e6f9e15d7148c230fce273ee1865ee6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">zpao</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/lw" title="View profile: lw">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="lw" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">lw</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/fuzzylollipop" title="View profile: fuzzylollipop">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="fuzzylollipop" data-src="../../../../../../secure.gravatar.com/avatar/769326b856fc9c7ef80a425fecd05ac96c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">fuzzylollipop</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/mvel" title="View profile: mvel">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="mvel" data-src="../../../../../../secure.gravatar.com/avatar/46fb8cbb74244335780786487406db0f6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">mvel</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/MrN" title="View profile: MrN">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="MrN" data-src="../../../../../../secure.gravatar.com/avatar/67c09e90692ab88d36ed05e3750f91a96c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">MrN</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Jimb" title="View profile: Jimb">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Jimb" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Jimb</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Varmaa" title="View profile: Varmaa">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Varmaa" data-src="../../../../../../secure.gravatar.com/avatar/b6c1ebb35d0c41dfe0728dd0dc6ae5b16c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Varmaa</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/VladVukicevic" title="View profile: VladVukicevic">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="VladVukicevic" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">VladVukicevic</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Mgjbot" title="View profile: Mgjbot">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Mgjbot" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Mgjbot</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/DeadZen" title="View profile: DeadZen">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="DeadZen" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">DeadZen</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/ShiningRay" title="View profile: ShiningRay">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="ShiningRay" data-src="../../../../../../secure.gravatar.com/avatar/0483666667da0ede142e86a3cc190d226c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">ShiningRay</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/SylvainPasche" title="View profile: SylvainPasche">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="SylvainPasche" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">SylvainPasche</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Nazoking" title="View profile: Nazoking">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Nazoking" data-src="../../../../../../secure.gravatar.com/avatar/a9629b8c5ff8cb7b149d05a3ccdb37ca6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Nazoking</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/NickolayBot" title="View profile: NickolayBot">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="NickolayBot" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">NickolayBot</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Andreas Wuest" title="View profile: Andreas Wuest">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Andreas Wuest" data-src="../../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Andreas Wuest</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Dria" title="View profile: Dria">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Dria" data-src="../../../../../../secure.gravatar.com/avatar/c6c044311a2c98b383718e00964cda726c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Dria</noscript></a>
                </li>
            
            </ul>
        </div>
        

        <h1>JSAPI User Guide</h1>

      </div>
      

      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-present">

          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

            
              <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
              
              <!-- table of contents -->
              <div id="toc" class="toc toggleable" data-closed="true">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <li><a href="#What_SpiderMonkey_does" rel="internal">What SpiderMonkey does</a></li><li><a href="#Hello_world" rel="internal">Hello world</a><ol><li><a href="#Using_the_SpiderMonkey_library" rel="internal">Using the SpiderMonkey library</a></li><li><a href="#The_SpiderMonkey_universe" rel="internal">The SpiderMonkey universe</a></li><li><a href="#A_minimal_example" rel="internal">A minimal example</a></li></ol></li><li><a href="#JSAPI_Concepts" rel="internal">JSAPI Concepts</a><ol><li><a href="#Working_with_JS_Values" rel="internal">JavaScript values</a></li><li><a href="#Garbage_collection" rel="internal">Garbage collection</a><ol><li><a href="#Keeping_objects_alive" rel="internal">Keeping objects alive</a></li><li><a href="#GC_performance" rel="internal">GC performance</a></li></ol></li><li><a href="#Errors_and_exceptions" rel="internal">Errors and exceptions</a><ol><li><a href="#Throwing_and_catching_exceptions" rel="internal">Throwing and catching exceptions</a></li><li><a href="#Error_reports" rel="internal">Error reports</a></li><li><a href="#Automatic_handling_of_uncaught_exceptions" rel="internal">Automatic handling of uncaught exceptions</a></li><li><a href="#Uncatchable_errors" rel="internal">Uncatchable errors</a></li></ol></li></ol></li><li><a href="#More sample code" rel="internal">More sample code</a><ol><li><a href="#Defining_objects_and_properties" rel="internal">Defining objects and properties</a></li><li><a href="#Defining_classes" rel="internal">Defining classes</a></li><li><a href="#Running_scripts" rel="internal">Running scripts</a><ol><li><a href="#Calling_functions" rel="internal">Calling functions</a></li></ol></li><li><a href="#JSContext" rel="internal">JSContext</a></li><li><a href="#Initializing_built-in_and_global_JS_objects" rel="internal">Initializing built-in and global JS objects</a></li><li><a href="#Creating_and_initializing_custom_objects" rel="internal">Creating and initializing custom objects</a></li><li><a href="#Creating_an_object_from_a_script" rel="internal">Creating an object from a script</a></li><li><a href="#Custom_objects" rel="internal">Custom objects</a></li><li><a href="#Providing_private_data_for_objects" rel="internal">Providing private data for objects</a></li></ol></li><li><a href="#Special_topics" rel="internal">Special topics</a><ol><li><a href="#Handling_Unicode" rel="internal">Unicode</a></li><li><a href="#Compiled_scripts" rel="internal">Compiled scripts</a></li><li><a href="#Security" rel="internal">Security</a><ol><li><a href="#The_best_security_is_no_security_(really)" rel="internal">The best security is no security (really)</a></li><li><a href="#Object-capabilities-based_security" rel="internal">Object-capabilities-based security</a></li><li><a href="#Fine-grained_security" rel="internal">Fine-grained security</a></li></ol></li><li><a href="#Tracing_and_Profiling" rel="internal">Tracing and Profiling</a><ol><li><a href="#Function_tracing" rel="internal">Function tracing</a></li></ol></li></ol></li>
                </ol>
              </div>
              
              </div>
            

            
            
              
            

            <!-- center: main article content -->
            <div id="wiki-content" class="column-half wiki-column text-content">

              

              

              
                
                  <div class="warning warning-review">
                    <p>
                      This article needs a technical review. <a href="https://developer.mozilla.org/docs/MDN/Contribute/HowTo/Do_a_technical_review">How you can help.</a>
                    </p>
                  </div>
                
                
                
              
              

              <!-- just the article content -->
              <article id="wikiArticle">
                
                  
                    <div><section id="Quick_Links" class="Quick_links"><!-- --></section></div>

<p>This document explains how to embed <a href="https://developer.mozilla.org/en/SpiderMonkey" title="en/SpiderMonkey">SpiderMonkey</a>, the Mozilla JavaScript engine, in your C++ program.</p>

<p>JavaScript is widely used for client-side scripts that run in the browser. But Mozilla's JavaScript engine is a library that can be linked into any C++ program, not just a browser. Many applications can benefit from scripting. These programs can execute JavaScript code from C++ using the SpiderMonkey API.</p>

<div class="note"><strong>Note:</strong> The <a href="https://developer.mozilla.org/En/SpiderMonkey/FOSS" class="internal" title="En/SpiderMonkey/FOSS">FOSS</a> wiki page contains a few links to other libraries and programs that can make life easier when using Spidermonkey and JSAPI.</div>

<h2 name="What_SpiderMonkey_does" id="What_SpiderMonkey_does">What SpiderMonkey does</h2>

<p>The JavaScript engine compiles and executes scripts containing JavaScript statements and functions. The engine handles memory allocation for the objects needed to execute scripts, and it cleans up—garbage collects—objects it no longer needs.</p>

<p>The word <em>JavaScript</em> may bring to mind features such as event handlers (like <code><a href="../../../Web/API/GlobalEventHandlers/onclick.html" title="en/DOM/element.onclick">onclick</a></code>), <a href="../../../../../en/DOM.png" title="en/DOM">DOM</a> objects, <code><a href="../../../Web/API/Window/open.html" title="en/DOM/window.open">window.open</a></code>, and <code><a href="../../../DOM/XMLHttpRequest.png" title="en/XMLHttpRequest">XMLHttpRequest</a></code>. But in Mozilla, all of these features are actually provided by other components, not the SpiderMonkey engine itself. SpiderMonkey provides a few core JavaScript data types—numbers, strings, <code>Array</code>s, <code>Object</code>s, and so on—and a few methods, such as <code>Array.push</code>. It also makes it easy for each application to expose some of its own objects and functions to JavaScript code. Browsers expose DOM objects. Your application will expose objects that are relevant for the kind of scripts you want to write. It is up to the application developer to decide what objects and methods are exposed to scripts.</p>

<h2 id="Hello_world">Hello world</h2>

<h3 name="Using_the_SpiderMonkey_library" id="Using_the_SpiderMonkey_library">Using the SpiderMonkey library</h3>

<p>To build SpiderMonkey from source, see <a href="https://developer.mozilla.org/En/SpiderMonkey/Build_Documentation" title="en/SpiderMonkey_Build_Documentation">SpiderMonkey Build Documentation</a>.</p>

<p>Some systems (such as Debian) provide SpiderMonkey as a prebuilt package. Build it from source instead. Your program will be easier to debug.</p>

<p>C++ code accesses SpiderMonkey via the JSAPI, by including the header <code>"jsapi.h"</code>. An overview of JSAPI functionality follows. For more details, see the <a href="../../../../../en/SpiderMonkey/JSAPI_Reference.png" title="en/JSAPI_Reference">JSAPI Reference</a>.</p>

<h3 id="The_SpiderMonkey_universe">The SpiderMonkey universe</h3>

<p>In order to run any JavaScript code in SpiderMonkey, an application must have three key elements: a <code>JSRuntime</code>, a <code>JSContext</code>, and a global object. This section describes what these things are. The next section explains how to set them up, using JSAPI functions.</p>

<p><strong>Runtimes.</strong> A <code>JSRuntime</code>, or <em>runtime</em>, is the space in which the JavaScript variables, objects, scripts, and contexts used by your application are allocated. Every <code>JSContext</code> and every object in an application lives within a <code>JSRuntime</code>. They cannot travel to other runtimes or be shared across runtimes. Most applications only need one runtime.</p>

<p><strong>Contexts.</strong> A <code>JSContext</code>, or <em>context</em>, is like a little machine that can do many things involving JavaScript code and objects. It can compile and execute scripts, get and set object properties, call JavaScript functions, convert JavaScript data from one type to another, create objects, and so on. Almost all JSAPI functions require a <code>JSContext&nbsp;*</code> as the first argument, just like most <code>&lt;stdio.h&gt;</code> functions require a <code>FILE&nbsp;*</code>.</p>

<p><strong>Global objects.</strong> Lastly, the <em>global object</em> contains all the classes, functions, and variables that are available for JavaScript code to use. Whenever JavaScript code does something like <code><span class="nowiki">window.open("http://www.mozilla.org/")</span></code>, it is accessing a global property, in this case <code>window</code>. JSAPI applications have full control over what global properties scripts can see. The application starts out by creating an object and populating it with the standard JavaScript classes, like <code>Array</code> and <code>Object</code>. Then it adds whatever custom classes, functions, and variables (like <code>window</code>) the application wants to provide; see <a href="#Custom_objects">Custom objects</a> below. Each time the application runs a JS script (using, for example, <code><a href="JSAPI_reference/JS_EvaluateScript.html" title="en/JS_EvaluateScript">JS_EvaluateScript</a></code>), it provides the global object for that script to use. As the script runs, it can create global functions and variables of its own. All of these functions, classes, and variables are stored as properties of the global object.</p>

<h3 id="A_minimal_example">A minimal example</h3>

<p>Each of the three key elements described in the previous section requires a few JSAPI calls:</p>

<ul>
 <li>
  <p>The runtime: Use <code><a href="JSAPI_reference/JS_NewRuntime.html" title="en/JS_NewRuntime">JS_NewRuntime</a></code> to create it and <code><a href="JSAPI_reference/JS_DestroyRuntime.html" title="en/JS_DestroyRuntime">JS_DestroyRuntime</a></code> to clean it up when you're done. When your application is done with SpiderMonkey altogether, use <code><a href="JSAPI_reference/JS_ShutDown.html" title="en/JS_ShutDown">JS_ShutDown</a></code> to free any remaining cached resources. (This is a mere nicety if the process is about to exit anyway. But as that is not always the case, calling <code>JS_Shutdown</code> is a good habit to get into.)</p>
 </li>
 <li>
  <p>The context: Use <code><a href="JSAPI_reference/JS_NewContext.html" title="en/JS_NewContext">JS_NewContext</a></code> and <code><a href="JSAPI_reference/JS_DestroyContext.html" title="en/JS_DestroyContext">JS_DestroyContext</a></code>. For maximum ECMAScript standard compliance, applications should also use <code><a href="JSAPI_reference/JS_SetOptions.html" title="en/JS_SetOptions">JS_SetOptions</a></code> to enable <code><a href="JSAPI_reference/JS_SetOptions.html" title="en/JS_SetOptions">JSOPTION_VAROBJFIX</a></code>. To get the latest JavaScript language features, applications may use <code><a href="JSAPI_reference/JS_SetVersion.html" title="en/JS_SetVersion">JS_SetVersion</a></code>. Error reporting is also per-context and is enabled using <code><a href="JSAPI_reference/JS_SetErrorReporter.html" title="en/JS_SetErrorReporter">JS_SetErrorReporter</a></code>.</p>
 </li>
 <li>
  <p>The global object: To create this object, you first need a <code><a href="JSAPI_reference/JSClass.html" title="en/JSClass">JSClass</a></code> with the <code><a href="JSAPI_reference/JSClass-3.html" title="en/JSClass.flags">JSCLASS_GLOBAL_FLAGS</a></code> option. The example below defines a very basic <code>JSClass</code> (named <code>global_class</code>) with no methods or properties of its own. Use <code><a href="JSAPI_reference/JS_NewGlobalObject.html" title="en/SpiderMonkey/JSAPI_Reference/JS_NewGlobalObject">JS_NewGlobalObject</a></code> to create a global object. Use <code><a href="JSAPI_reference/JS_InitStandardClasses.html" title="en/JS_InitStandardClasses">JS_InitStandardClasses</a></code> to populate it with the standard JavaScript globals.</p>
 </li>
</ul>

<p>This may seem like a lot of pieces for a simple application. It amounts to about 80 lines of code, as shown below. But the JSAPI is designed to scale to applications that need many global objects. It is a fine-grained API, supporting many different combinations of the parts, and giving applications precise control over how SpiderMonkey behaves.</p>

<p>Here is the boilerplate code necessary for a minimal JSAPI application. It contains everything described above.</p>

<pre class="brush: cpp">#include "jsapi.h"

using namespace JS;

// The class of the global object.
static JSClass globalClass = {
&nbsp;&nbsp;&nbsp; "global",
&nbsp;&nbsp;&nbsp; JSCLASS_GLOBAL_FLAGS,
&nbsp;&nbsp;&nbsp; JS_PropertyStub,
&nbsp;&nbsp;&nbsp; JS_DeletePropertyStub,
&nbsp;&nbsp;&nbsp; JS_PropertyStub,
&nbsp;&nbsp;&nbsp; JS_StrictPropertyStub,
&nbsp;&nbsp;&nbsp; JS_EnumerateStub,
&nbsp;&nbsp;&nbsp; JS_ResolveStub,
&nbsp;&nbsp;&nbsp; JS_ConvertStub,
&nbsp;&nbsp;&nbsp; nullptr, nullptr, nullptr, nullptr,
&nbsp;&nbsp;&nbsp; JS_GlobalObjectTraceHook
};

// The error reporter callback.
void reportError(JSContext *cx, const char *message, JSErrorReport *report) {
&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr, "%s:%u:%s\n",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; report-&gt;filename ? report-&gt;filename : "[no filename]",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (unsigned int) report-&gt;lineno,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; message);
}

int run(JSContext *cx) {
&nbsp;&nbsp;&nbsp; // Enter a request before running anything in the context.
&nbsp;&nbsp;&nbsp; JSAutoRequest ar(cx);

&nbsp;&nbsp;&nbsp; // Create the global object and a new compartment.
&nbsp;&nbsp;&nbsp; RootedObject global(cx);
&nbsp;&nbsp;&nbsp; global = JS_NewGlobalObject(cx, &amp;globalClass, nullptr,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JS::DontFireOnNewGlobalHook);
&nbsp;&nbsp;&nbsp; if (!global)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;

&nbsp;&nbsp;&nbsp; // Enter the new global object's compartment.
&nbsp;&nbsp;&nbsp; JSAutoCompartment ac(cx, global);

&nbsp;&nbsp;&nbsp; // Populate the global object with the standard globals, like Object and
&nbsp;&nbsp;&nbsp; // Array.
&nbsp;&nbsp;&nbsp; if (!JS_InitStandardClasses(cx, global))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;

&nbsp;&nbsp;&nbsp; // Your application code here. This may include JSAPI calls to create your
&nbsp;&nbsp;&nbsp; // own custom JS objects and run scripts.

&nbsp;&nbsp;&nbsp; return 0;
}

int main(int argc, const char *argv[]) {
&nbsp;&nbsp;&nbsp; // Initialize the JS engine.
&nbsp;&nbsp;&nbsp; if (!JS_Init())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;

&nbsp;&nbsp;&nbsp; // Create a JS runtime.
&nbsp;&nbsp;&nbsp; JSRuntime *rt = JS_NewRuntime(8L * 1024L * 1024L);
&nbsp;&nbsp;&nbsp; if (!rt)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;

&nbsp;&nbsp;&nbsp; // Create a context.
&nbsp;&nbsp;&nbsp; JSContext *cx = JS_NewContext(rt, 8192);
&nbsp;&nbsp;&nbsp; if (!cx)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1;
&nbsp;&nbsp;&nbsp; JS_SetErrorReporter(rt, reportError);

&nbsp;&nbsp;&nbsp; int status = run(cx);

&nbsp;&nbsp;&nbsp; // Shut everything down.
&nbsp;&nbsp;&nbsp; JS_DestroyContext(cx);
&nbsp;&nbsp;&nbsp; JS_DestroyRuntime(rt);
&nbsp;&nbsp;&nbsp; JS_ShutDown();

&nbsp;&nbsp;&nbsp; return status;
}
</pre>

<p>Each <code>JSNative</code> has the same signature, regardless of what arguments it expects to receive from JavaScript.</p>

<p>The JavaScript arguments to the function are given in <code>argc</code> and <code>vp</code>. <code>argc</code> tells how many actual arguments the caller passed, and <code>JS_ARGV(cx, vp)</code> returns an array of those arguments. The arguments do not have native C++ types like <code>int</code> and <code>float</code>; rather, they are <a href="JSAPI_Reference/JS__Value.html" class="internal" title="en/jsval"><code>jsval</code></a>s, JavaScript values. The native function uses <a href="JSAPI_reference/JS_ConvertArguments.html" class="internal" title="en/JS_ConvertArguments"><code>JS_ConvertArguments</code></a> to convert the arguments to C++ types and store them in local variables. The native function uses <code>JS_SET_RVAL(cx, vp, val)</code> to store its JavaScript return value.</p>

<p>On success, a <code>JSNative</code> must call <a href="JSAPI_reference/JSFastNative.html" title="en/SpiderMonkey/JSAPI Reference/JS SET RVAL"><code>JS_SET_RVAL</code></a> and return <code>true</code>. The value passed to <code>JS_SET_RVAL</code> is returned to the JavaScript caller.</p>

<p>On failure, a <code>JSNative</code> calls an error-reporting function, in this case <a href="JSAPI_reference/JS_ReportError.html" class="internal" title="en/JS_ReportError"><code>JS_ReportError</code></a>, and returns <code>false</code>. This causes a JavaScript exception to be thrown. The caller can catch the exception using a JavaScript <code>try/catch</code> statement.</p>

<p>To make native functions callable from JavaScript, declare a table of <a href="JSAPI_reference/JSFunctionSpec.html" class="internal" title="en/JSFunctionSpec"><code>JSFunctionSpec</code></a>s describing the functions. Then call <a href="JSAPI_reference/JS_DefineFunctions.html" class="internal" title="en/JS_DefineFunctions"><code>JS_DefineFunctions</code></a>.</p>

<pre>static JSFunctionSpec myjs_global_functions[] = {
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/JS_FS" class="internal">JS_FS</a>("rand",   myjs_rand,   0, 0),
    JS_FS("srand",  myjs_srand,  0, 0),
    JS_FS("system", myjs_system, 1, 0),
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/JS_FS_END" class="internal">JS_FS_END</a>
};

    ...
    if (!<a href="JSAPI_Reference/JS_DefineFunctions-2.html" class="internal">JS_DefineFunctions</a>(cx, global, myjs_global_functions))
        return false;
    ...
</pre>

<p>Once the functions are defined in <code>global</code>, any script that uses <code>global</code> as the global object can call them, just as any web page can call <code>alert</code>. In the environment we have created, the "hello world" script looks like this:</p>

<pre>system("echo hello world");
</pre>

<h2 id="JSAPI_Concepts">JSAPI Concepts</h2>

<p>This section aims to fill in the major gaps in the picture of the JSAPI&nbsp;presented so far. To do anything useful with SpiderMonkey, you must read all three sections.</p>

<h3 name="Working_with_JS_Values" id="Working_with_JS_Values">JavaScript values</h3>

<p>Main article: <code><a href="JSAPI_Reference/JS__Value.html" title="en/jsval">JS::Value</a></code></p>

<p>JavaScript is a dynamically typed language: variables and properties do not have a type that is fixed at compile time. How can a statically typed language, like C or C++, in which all variables have types, interact with JavaScript? The JSAPI provides a data type, <code><a href="JSAPI_Reference/JS__Value.html" title="en/jsval">JS::Value</a></code> (also with a deprecated <code>jsval</code> typedef), which can contain JavaScript values of any type. A <code>JS::Value</code> can be a number, a string, a boolean value, a reference to an object (like an <code>Object</code>, <code>Array</code>, <code>Date</code>, or <code>Function</code>), or one of the special values <code>null</code> or <code>undefined</code>.</p>

<p>For integers and boolean values, a <code>jsval</code> contains the value itself. In other cases, the <code>jsval</code> is a pointer to an object, string, or number.</p>

<div class="warning">
<p><strong>Warning:</strong> Like C++ pointers, and unlike JavaScript <code>var</code>s, a <code>JS::Value</code> is <strong>not</strong> automatically initialized to a safe value, and <strong>can</strong> become a dangling pointer!</p>

<p>A dangling pointer is a pointer that used to point to a valid object, but no longer does because the object no longer exists. Using a dangling pointer can crash a C++ program (or worse). In the case of <code>JS::Value</code>, the JavaScript garbage collector recycles objects, strings, and numbers that don't appear to be in use, and a <code>JS::Value</code> by itself does not protect its referent from the garbage collector. See <em>Garbage collection</em> below for crucial information on how to use <code>JS::Value</code>s safely.</p>
</div>

<p><code>JS::Value</code> inclues member functions to test the JavaScript data type. These are <code>isObject()</code>, <code>isNumber()</code>, <code>isInt32()</code>, <code>isDouble()</code>, <code>isString()</code>, <code>isBoolean()</code>, <code>isNull()</code>, and <code>isUndefined()</code>.</p>

<p style="text-align: left;">If a <code>JS::Value</code> contains a <code><a href="JSAPI_reference/JSObject.html" title="en/JSObject">JSObject</a></code>, <code>double</code>, or <code><a href="JSAPI_reference/JSString.html" title="en/JSString">JSString</a></code>, you can cast it to its underlying data type using the <code>toObject()</code>, <code>toDouble()</code>, and <code>toString()</code> member functions, respectively. This is useful in some cases where your application or a JSAPI function requires a variable or argument of a specific data type, rather than a <code>JS::Value</code>. Similarly, you can create a <code>JS::Value</code> wrapping a <code>JSObject</code>, <code>double</code>, or <code>JSString</code> pointer to a <code>JS::Value</code> using <code>JS::ObjectValue(JSObject&amp;)</code>, <code>JS::DoubleValue(double)</code>, or <code>JS::StringValue(JSString*)</code>.</p>

<h3 id="Garbage_collection">Garbage collection</h3>

<p>As it runs, JavaScript code implicitly allocates memory for objects, strings, variables, and so on.&nbsp; Garbage collection is the process by which the JavaScript engine detects when those pieces of memory are no longer reachable—that is, they could not possibly ever be used again—and reclaims the memory.</p>

<p>Garbage collection has two important consequences for JSAPI applications. First, the application must be very careful to ensure that any values it needs are GC-reachable. The garbage collector is rather eager about its job. Any object you leave lying around will be destroyed if you don't tell the JSAPI you're still using it. Second, the application should take steps to reduce the performance impact of garbage collection.</p>

<h4 id="Keeping_objects_alive">Keeping objects alive</h4>

<p>If your JSAPI application crashes, it is likely due to a GC-related error. The application must ensure that the garbage collector can reach all the objects, numbers, and strings that are still being used. Otherwise, the GC will free the memory occupied by those values, leading to a probable crash the next time your program tries to use them.</p>

<p>There are many ways to ensure that a value is GC-reachable.</p>

<ul>
 <li>If you just need the value to remain reachable for the duration of a <code><a href="JSAPI_reference/JSNative.html" title="en/JSNative">JSNative</a></code> call, store it in <code>*rval</code> or an element of the <code>argv</code> array. The values stored in those locations are always reachable. To get extra <code>argv</code> slots, use <code><a href="JSAPI_reference/JSFunctionSpec.html" title="en/JSFunctionSpec">JSFunctionSpec</a>.extra</code>.</li>
</ul>

<ul>
 <li>If a custom object needs certain values to remain in memory, just store the values in <a href="JSAPI_reference/JS_SetProperty.html" title="en/JS_SetProperty">properties</a> of the object. As long as the object is reachable, its properties will remain reachable. If these values must not be accessible from JavaScript, use <a href="JSAPI_reference/JS_GetReservedSlot.html" title="en/JS_GetReservedSlot">reserved slots</a> instead. Or store the values in <a href="JSAPI_reference/JS_SetPrivate.html" title="en/JS_SetPrivate">private data</a> and implement <code><a href="JSAPI_reference/JSMarkOp.html" title="en/JSClass.mark">JSClass.mark</a></code>.</li>
</ul>

<ul>
 <li>If a function creates new objects, strings, or numbers, it can use <code><a href="JSAPI_reference/JS_EnterLocalRootScope.html" title="en/JS_EnterLocalRootScope">JS_EnterLocalRootScope</a></code> and <code><a href="JSAPI_reference/JS_LeaveLocalRootScope.html" title="en/JS_LeaveLocalRootScope">JS_LeaveLocalRootScope</a></code> to keep those values alive for the duration of the function.</li>
</ul>

<ul>
 <li>To keep a value alive permanently, store it in a <a href="JSAPI_reference/JS_AddRoot.html" title="JS_AddRoot">GC root</a>.</li>
</ul>

<p>Still, GC bugs do occur. These two functions, both available only in <code>DEBUG</code> builds, are especially useful for debugging GC-related crashes:</p>

<ul>
 <li>Use <code><a href="JSAPI_reference/JS_SetGCZeal.html" title="en/JS_SetGCZeal">JS_SetGCZeal</a></code> to enable extra garbage collection. GC zeal usually causes a GC-related crash to occur much sooner (closer to its cause) and more reliably. It's for development and debugging only, because the extra garbage collection makes JS very slow.</li>
</ul>

<ul>
 <li>Use <code><a href="JSAPI_reference/JS_DumpHeap.html" title="en/JS_DumpHeap">JS_DumpHeap</a></code> to dump the SpiderMonkey heap or specific interesting parts of it.</li>
</ul>

<p>See <a href="https://developer.mozilla.org/en/SpiderMonkey_Garbage_Collection_Tips" title="en/SpiderMonkey_Garbage_Collection_Tips">SpiderMonkey Garbage Collection Tips</a> for more details.</p>

<h4 id="GC_performance">GC performance</h4>

<p>Overly frequent garbage collection can be a performance issue. Some applications can reduce the frequency of garbage collection simply by increasing the initial size of the <code>JSRuntime</code>.</p>

<p>Perhaps the best technique is to perform garbage collection during idle time, when it is least likely to have any impact on the user. By default, the JavaScript engine performs garbage collection when it has no other choice except to grow the process. This means that garbage collection typically happens when memory-intensive code is running, perhaps the worst possible time. An application can trigger garbage collection at a more convenient time by calling <code><a href="JSAPI_reference/JS_GC.html" title="en/JS_GC">JS_GC</a></code> or <code><a href="JSAPI_reference/JS_MaybeGC.html" title="en/JS_MaybeGC">JS_MaybeGC</a></code>. <code>JS_GC</code> forces garbage collection. <code>JS_MaybeGC</code> performs garbage collection only if it is likely to reclaim a worthwhile amount of memory.</p>

<h3 id="Errors_and_exceptions">Errors and exceptions</h3>

<p>The importance of checking the return value of JSAPI functions, of course, goes without saying. Almost every JSAPI function that takes a <code><a href="JSAPI_reference/JSRuntime.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JSRuntime">JSContext</a> *</code> argument can fail. The system might run out of memory. There might be a syntax error in a script. Or a script might explicitly <code>throw</code> an exception.</p>

<p>The JavaScript language has exceptions, and C++ has exceptions, but they are not the same thing. SpiderMonkey does not use C++ exceptions for anything. JSAPI functions never throw C++&nbsp;exceptions, and when SpiderMonkey calls an application callback, the callback must not throw a C++&nbsp;exception.</p>

<h4 id="Throwing_and_catching_exceptions">Throwing and catching exceptions</h4>

<p>We have already seen one example of how to throw an exception from a <code>JSNative</code> function. Simply call <a href="JSAPI_reference/JS_ReportError.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ReportError"><code>JS_ReportError</code></a>, with <code>printf</code>-style arguments, and return <code>false</code>.</p>

<pre>    rc = system(cmd);
    if (rc != 0) {
        /* Throw a JavaScript exception. */
        <a class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ReportError">JS_ReportError</a>(cx, "Command failed with exit code %d", rc);
        return false;
    }
</pre>

<p>This is very much like the JavaScript statement <code>throw new Error("Command failed with exit code " + rc);</code>. Again, note that calling <code>JS_ReportError</code> does not cause a C++&nbsp;exception to be thrown. It only creates a new JavaScript Error object and stores it in the context as the current <dfn>pending exception</dfn>. The application must also return <code>false</code>.</p>

<p>Once the C++ function returns <code>false</code>, the JavaScript engine starts unwinding the JavaScript stack, looking for a <code>catch</code> or <code>finally</code> block to execute. But SpiderMonkey's stack unwinding never removes application's C++ functions from the stack. Instead, SpiderMonkey simply returns <code>false</code> or <code>nullptr</code> to the application, which can then handle the error as it chooses—or just return <code>false</code> to let it propagate further up the stack.</p>

<p>Several more examples of throwing and catching exceptions can be found in the <a href="JSAPI_Cookbook.html" class="internal" title="En/SpiderMonkey/JSAPI Phrasebook">JSAPI Phrasebook</a>.</p>

<h4 id="Error_reports">Error reports</h4>

<p>TODO your custom errorreporter</p>

<p>TODO when errors are reported</p>

<h4 id="Automatic_handling_of_uncaught_exceptions">Automatic handling of uncaught exceptions</h4>

<p>The <code>JS_Compile</code>*, <code>JS_Call</code>*, <code>JS_Execute</code>*, and <code>JS_Evaluate</code>* functions automatically pass exceptions to the error reporter in certain cases. Each of these functions checks, just before it returns, to see if an exception is pending in the current <code>JSContext</code>. If so, it then checks to see if there is any other JavaScript script or function on the stack in that <code>JSContext</code>. If so, then the exception might yet be caught, so SpiderMonkey does nothing and returns <code>false</code>, allowing the exception to propagate. But if nothing is on the JavaScript stack, then the uncaught exception is passed to the error reporter and the pending exception is cleared.</p>

<p>The basic consequence is that top-level application code can just set an error reporter and start calling JSAPI&nbsp;functions. It never has to explicitly handle uncaught exceptions; the error reporter is automatically called. An application can disable automatic uncaught-exception handling using the <a href="JSAPI_reference/JS_SetOptions.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS
SetOptions"><code>JSOPTION_DONT_REPORT_UNCAUGHT</code></a> option, but it must then deal with uncaught exceptions explicitly by calling <a href="JSAPI_reference/JS_IsExceptionPending.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS IsExceptionPending"><code>JS_IsExceptionPending</code></a>, <a href="JSAPI_reference/JS_GetPendingException.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS GetPendingException"><code>JS_GetPendingException</code></a>, <a href="JSAPI_reference/JS_ReportPendingException.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS_ReportPendingException"><code>JS_ReportPendingException</code></a>, and/or <a href="JSAPI_reference/JS_ClearPendingException.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ClearPendingException"><code>JS_ClearPendingException</code></a> whenever a JSAPI&nbsp;function returns <code>false</code> or <code>nullptr</code>.</p>

<h4 id="Uncatchable_errors">Uncatchable errors</h4>

<p>Another way for a <code>JSNative</code> callback to report an error is like this:</p>

<pre>    if (!p) {
        <a class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ReportOutOfMemory">JS_ReportOutOfMemory</a>(cx);
        return false;
    }
</pre>

<p>This does something subtly different from what <code>JS_ReportError</code> does.</p>

<p>Most errors, including those raised by <code>JS_ReportError</code>, are represented as JavaScript exceptions and thus interact with the JavaScript exception-handling language features, <code>try</code>, <code>catch</code>, and <code>finally</code>. However, in some cases we do not want scripts to be able to <code>catch</code> an error; we want script execution to terminate right away. If the system runs out of memory in the middle of a script, we do not want <code>finally</code> blocks to execute, because almost anything a script does requires at least a little memory, and we have none. If a script has been running too long and we want to kill it, it's no good to throw an exception—the script could just <code>catch</code> it and keep going.</p>

<p>Therefore <code><a href="JSAPI_reference/JS_ReportOutOfMemory.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ReportOutOfMemory">JS_ReportOutOfMemory</a>(cx)</code> does <em>not</em> set the pending exception. It is an uncatchable error.</p>

<p>If SpiderMonkey runs out of memory, or a JSAPI callback returns <code>false</code> without an exception pending, this is treated as an uncatchable error. The JavaScript stack is unwound in the normal way except that <code>catch</code> and <code>finally</code> blocks are ignored. The most recent JSAPI call returns <code>false</code> or <code>nullptr</code> to the application.</p>

<p>An uncatchable error leaves the <code>JSContext</code> in a good state. It can be used again right away. The application does not have to do anything to “recover” from the error, as far as the JSAPI is concerned. (Of course, if the error is that the system is out of memory, that problem remains to be dealt with.)</p>

<p>Here is some example code that throws an uncatchable error.</p>

<pre>    /* Call the error reporter, if any. This part is optional. */
    <a class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ReportError">JS_ReportError</a>(cx, "The server room is on fire!");
    JS_ReportPendingException(cx);

    /* Make sure the error is uncatchable. */
    <a class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ClearPendingException">JS_ClearPendingException</a>(cx);
    return false;
</pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<h2 name="More sample code" id="More sample code">More sample code</h2>

<p>The following examples illustrate how to achieve a few different effects using the JSAPI.</p>

<p>Note that the most important example is in the "A minimal example" section above. More JSAPI code samples appear in the <a href="JSAPI_Cookbook.html" title="en/JSAPI_Phrasebook">JSAPI Phrasebook</a>.</p>

<h3 id="Defining_objects_and_properties">Defining objects and properties</h3>

<pre>/* Statically initialize a class to make "one-off" objects. */
<a href="JSAPI_Reference/JSClass-4.html">JSClass</a> my_class = {
    "MyClass",

    /* All of these can be replaced with the corresponding JS_*Stub
       function pointers. */
    my_addProperty, my_delProperty, my_getProperty, my_setProperty,
    my_enumerate,   my_resolve,     my_convert,     my_finalize
};

<a href="JSAPI_Reference/JSObject-2.html">JSObject</a> *obj;

/*
 * Define an object named in the global scope that can be enumerated by
 * for/in loops.  The parent object is passed as the second argument, as
 * with all other API calls that take an object/name pair.  The prototype
 * passed in is null, so the default object prototype will be used.
 */
obj = <a href="JSAPI_Reference/JS_DefineObject-2.html">JS_DefineObject</a>(cx, globalObj, "myObject", &amp;my_class, nullptr,
                      <a href="JSAPI_Reference/JS_GetPropertyAttributes-2.html">JSPROP_ENUMERATE</a>);

/*
 * Define a bunch of properties with a JSPropertySpec array statically
 * initialized and terminated with a null-name entry.  Besides its name,
 * each property has a "tiny" identifier (MY_COLOR, e.g.) that can be used
 * in switch statements (in a common my_getProperty function, for example).
 */
enum my_tinyid {
    MY_COLOR, MY_HEIGHT, MY_WIDTH, MY_FUNNY, MY_ARRAY, MY_RDONLY
};

static <a href="JSAPI_Reference/JSPropertySpec-2.html">JSPropertySpec</a> my_props[] = {
    {"color",       MY_COLOR,       JSPROP_ENUMERATE},
    {"height",      MY_HEIGHT,      JSPROP_ENUMERATE},
    {"width",       MY_WIDTH,       JSPROP_ENUMERATE},
    {"funny",       MY_FUNNY,       JSPROP_ENUMERATE},
    {"array",       MY_ARRAY,       JSPROP_ENUMERATE},
    {"rdonly",      MY_RDONLY,      JSPROP_READONLY},
    {0}
};

<a href="JSAPI_Reference/JS_DefineProperties-2.html">JS_DefineProperties</a>(cx, obj, my_props);

/*
 * Given the above definitions and call to JS_DefineProperties, obj will
 * need this sort of "getter" method in its class (my_class, above).  See
 * the example for the "It" class in js.c.
 */
static JSBool
my_getProperty(JSContext *cx, JSObject *obj, jsval id, jsval *vp)
{
    if (<a href="JSAPI_Reference/JSVAL_IS_INT-2.html">JSVAL_IS_INT</a>(id)) {
        switch (<a href="JSAPI_Reference/JSVAL_TO_INT-2.html">JSVAL_TO_INT</a>(id)) {
          case MY_COLOR:  *vp = . . .; break;
          case MY_HEIGHT: *vp = . . .; break;
          case MY_WIDTH:  *vp = . . .; break;
          case MY_FUNNY:  *vp = . . .; break;
          case MY_ARRAY:  *vp = . . .; break;
          case MY_RDONLY: *vp = . . .; break;
        }
    }
    return true;
}
</pre>

<h3 name="Defining_classes" id="Defining_classes">Defining classes</h3>

<p>This pulls together the above API elements by defining a constructor function, a prototype object, and properties of the prototype and of the constructor, all with one API call.</p>

<p>Initialize a class by defining its constructor function, prototype, and per-instance and per-class properties. The latter are called "static" below by analogy to Java. They are defined in the constructor object's scope, so that <code>MyClass.myStaticProp</code> works along with <code>new MyClass()</code>.</p>

<p><code><a href="JSAPI_reference/JS_InitClass.html" title="en/JS_InitClass">JS_InitClass</a></code> takes a lot of arguments, but you can pass <code>nullptr</code> for any of the last four if there are no such properties or methods.</p>

<p>Note that you do not need to call <code>JS_InitClass</code> to make a new instance of that class—otherwise there would be a chicken-and-egg problem making the global object—but you should call <code>JS_InitClass</code> if you require a constructor function for script authors to call via <code>new</code>, and/or a class prototype object (<code>MyClass.prototype</code>) for authors to extend with new properties at run time. In general, if you want to support multiple instances that share behavior, use <code>JS_InitClass</code>.</p>

<pre>protoObj = <a href="JSAPI_Reference/JS_InitClass-2.html">JS_InitClass</a>(cx, globalObj, nullptr, &amp;my_class,

                        /* native constructor function and min arg count */
                        MyClass, 0,

                        /* prototype object properties and methods -- these
                           will be "inherited" by all instances through
                           delegation up the instance's prototype link. */
                        my_props, my_methods,

                        /* class constructor properties and methods */
                        my_static_props, my_static_methods);
</pre>

<h3 name="Running_scripts" id="Running_scripts">Running scripts</h3>

<pre>/* These should indicate source location for diagnostics. */
char *filename;
unsigned int lineno;

/*
 * The return value comes back here -- if it could be a GC thing, you must
 * add it to the GC's "root set" with <a href="JSAPI_Reference/JS_AddRoot-2.html">JS_AddRoot</a>(cx, &amp;thing) where thing
 * is a JSString *, JSObject *, or jsdouble *, and remove the root before
 * rval goes out of scope, or when rval is no longer needed.
 */
jsval rval;
JSBool ok;

/*
 * Some example source in a C string.  Larger, non-null-terminated buffers
 * can be used, if you pass the buffer length to JS_EvaluateScript.
 */
char *source = "x * f(y)";

ok = <a href="JSAPI_Reference/JS_EvaluateScript-2.html">JS_EvaluateScript</a>(cx, globalObj, source, strlen(source),
                       filename, lineno, &amp;rval);

if (ok) {
    /* Should get a number back from the example source. */
    jsdouble d;

    ok = <a href="JSAPI_Reference/JS_ValueToNumber-2.html">JS_ValueToNumber</a>(cx, rval, &amp;d);
    . . .
}
</pre>

<h4 name="Calling_functions" id="Calling_functions">Calling functions</h4>

<pre>/* Call a global function named "foo" that takes no arguments. */
ok = <a href="JSAPI_reference/JS_CallFunction.html">JS_CallFunctionName</a>(cx, globalObj, "foo", 0, 0, &amp;rval);

jsval argv[2];

/* Call a function in obj's scope named "method", passing two arguments. */
argv[0] = . . .;
argv[1] = . . .;
ok = <a href="JSAPI_reference/JS_CallFunction.html">JS_CallFunctionName</a>(cx, obj, "method", 2, argv, &amp;rval);
</pre>

<h3 name="JSContext" id="JSContext">JSContext</h3>

<p><strong>You should never create more than one JSContext per JSRuntime. Support for multiple JSContexts per JSRuntime will be removed in the future.</strong></p>

<p>If your application creates multiple runtimes, the application may need to know which runtime a context is associated with. In this case, use <code><a href="JSAPI_reference/JS_GetRuntime.html" title="en/JS_GetRuntime">JS_GetRuntime</a></code>.</p>

<p>Use <code><a href="JSAPI_reference/JS_GetContextPrivate.html" title="en/JS_GetContextPrivate">JS_SetContextPrivate</a></code> and <code><a href="JSAPI_reference/JS_GetContextPrivate.html" title="en/JS_GetContextPrivate">JS_GetContextPrivate</a></code> to associate application-specific data with a context.</p>

<h3 name="Initializing_built-in_and_global_JS_objects" id="Initializing_built-in_and_global_JS_objects">Initializing built-in and global JS objects</h3>

<p>For a complete list of built-in objects provided by SpiderMonkey, see <code><a href="JSAPI_reference/JS_InitStandardClasses.html" title="en/JS_InitStandardClasses">JS_InitStandardClasses</a></code>.</p>

<p>The global object that an application provides to scripts largely determines what those scripts can do. For example, the Firefox browser uses its own global object, <code>window</code>. To change the global object for your application, call <code><a href="JSAPI_reference/JS_SetGlobalObject.html" title="en/JS_SetGlobalObject">JS_SetGlobalObject</a></code>.</p>

<h3 name="Creating_and_initializing_custom_objects" id="Creating_and_initializing_custom_objects">Creating and initializing custom objects</h3>

<p>In addition to using the engine's built-in objects, you will create, initialize, and use your own JS objects. This is especially true if you are using the JS engine with scripts to automate your application. Custom JS objects can provide direct program services, or they can serve as interfaces to your program's services. For example, a custom JS object that provides direct service might be one that handles all of an application's network access, or might serve as an intermediary broker of database services. Or a JS object that mirrors data and functions that already exist in the application may provide an object-oriented interface to C code that is not otherwise, strictly-speaking, object-oriented itself. Such a custom object acts as an interface to the application itself, passing values from the application to the user, and receiving and processing user input before returning it to the application. Such an object might also be used to provide access control to the underlying functions of the application.</p>

<p>There are two ways to create custom objects that the JS engine can use:</p>

<ul>
 <li>Write a JS script that creates an object, its properties, methods, and constructor, and then pass the script to the JS engine at run time.</li>
 <li>Embed code in your application that defines the object's properties and methods, call the engine to initialize a new object, and then set the object's properties through additional engine calls. An advantage of this method is that your application can contain native methods that directly manipulate the object embedding.</li>
</ul>

<p>In either case, if you create an object and then want it to persist in the run time where it can be used by other scripts, you must root the object by calling <code><a href="JSAPI_reference/JS_AddRoot.html" title="en/JS_AddRoot">JS_AddRoot</a></code> or <code><a href="JSAPI_reference/JS_AddRoot.html" title="en/JS_AddRoot">JS_AddNamedRoot</a></code>. Using these functions ensures that the JS engine will keep track of the objects and clean them up during garbage collection, if appropriate.</p>

<h3 name="Creating_an_object_from_a_script" id="Creating_an_object_from_a_script">Creating an object from a script</h3>

<p>One reason to create a custom JS object from a script is when you only need an object to exist as long as the script that uses it is executing. To create objects that persist across script calls, you can embed the object code in your application instead of using a script.</p>

<p><strong>Note</strong>: You can also use scripts to create persistent objects, too.</p>

<p>To create a custom object using a script:</p>

<ol>
 <li>Define and spec the object. What is it intended to do? What are its data members (properties)? What are its methods (functions)? Does it require a run time constructor function?</li>
 <li>Code the JS script that defines and creates the object. For example: function myfun(){ var x = newObject(); . . . } <strong>NOTE</strong>: Object scripting using JavaScript occurs outside the context of embedding the JS engine in your applications. For more information about object scripting, see the <em>Client-Side JavaScript Guide</em> and the <em>Server-Side JavaScript Guide</em>. Embed the appropriate JS engine call(s) in your application to compile and execute the script. You have two choices: 1.) compile and execute a script with a single call to <code><a href="JSAPI_reference/JS_EvaluateScript.html" title="en/JS_EvaluateScript">JS_EvaluateScript</a></code>, <code><a href="JSAPI_reference/JS_EvaluateScript.html" title="en/JS_EvaluateScript">JS_EvaluateUCScript</a></code> or 2.) compile the script once with a call to <code><a href="JSAPI_reference/JS_CompileScript.html" title="en/JS_CompileScript">JS_CompileScript</a></code> or <code><a href="JSAPI_reference/JS_CompileScript.html" title="en/JS_CompileScript">JS_CompileUCScript</a></code>, and then execute it repeatedly with individual calls to <code><a href="JSAPI_reference/JS_ExecuteScript.html" title="en/JS_ExecuteScript">JS_ExecuteScript</a></code>. The "UC" versions of these calls provide support for Unicode-encoded scripts.</li>
</ol>

<p>An object you create using a script only can be made available only during the lifetime of the script, or can be created to persist after the script completes execution. Ordinarily, once script execution is complete, its objects are destroyed. In many cases, this behavior is just what your application needs. In other cases, however, you will want object persistence across scripts, or for the lifetime of your application. In these cases you need to embed object creation code directly in your application, or you need to tie the object directly to the global object so that it persists as long as the global object itself persists.</p>

<h3 name="Custom_objects" id="Custom_objects">Custom objects</h3>

<p>An application can create a custom object without bothering with a <code>JSClass</code>:</p>

<ol>
 <li>Implement the getters, setters, and methods for your custom object in C or C++.&nbsp; Write a <a href="JSAPI_reference/JSPropertyOp.html" class="internal" title="en/JSPropertyOp"><code>JSPropertyOp</code></a> for each getter or setter.&nbsp; Write a <a href="JSAPI_reference/JSNative.html" class="internal" title="En/JSNative"><code>JSNative</code></a> or <code>JSFastNative</code> for each method.</li>
 <li>Declare a <code><a href="JSAPI_reference/JSPropertySpec.html" title="en/JSPropertySpec">JSPropertySpec</a></code> array containing information about your custom object's properties, including getters and setters.</li>
 <li>Declare a <code><a href="JSAPI_reference/JSFunctionSpec.html" title="en/JSFunctionSpec">JSFunctionSpec</a></code> array containing information about your custom object's methods.</li>
 <li>Call <code><a href="JSAPI_reference/JS_NewObject.html" title="en/JS_NewObject">JS_NewObject</a></code>, <code><a href="JSAPI_reference/JS_ConstructObject.html" title="en/JS_ConstructObject">JS_ConstructObject</a></code>, or <code><a href="JSAPI_reference/JS_DefineObject.html" title="en/JS_DefineObject">JS_DefineObject</a></code> to create the object.</li>
 <li>Call <code><a href="JSAPI_reference/JS_DefineProperties.html" title="en/JS_DefineProperties">JS_DefineProperties</a></code> to define the object's properties.</li>
 <li>Call <code><a href="JSAPI_reference/JS_DefineFunctions.html" title="en/JS_DefineFunctions">JS_DefineFunctions</a></code> to define the object's methods.</li>
</ol>

<p><code><a href="JSAPI_reference/JS_SetProperty.html" title="en/JS_SetProperty">JS_SetProperty</a></code> can also be used to create properties on an object. The properties it creates do not have getters or setters; they are ordinary JavaScript properties.</p>

<h3 name="Providing_private_data_for_objects" id="Providing_private_data_for_objects">Providing private data for objects</h3>

<p>Like contexts, you can associate large quantities of data with an object without having to store the data in the object itself. Call <code><a href="JSAPI_reference/JS_SetPrivate.html" title="en/JS_SetPrivate">JS_SetPrivate</a></code> to establish a pointer to private data for the object, and call <code><a href="JSAPI_reference/JS_GetPrivate.html" title="en/JS_GetPrivate">JS_GetPrivate</a></code> to retrieve the pointer so that you can access the data. Your application is responsible for creating and managing this optional private data.</p>

<p>To create private data and associate it with an object:</p>

<ol>
 <li>Establish the private data as you would a normal C void pointer variable.</li>
 <li>Call <code><a href="JSAPI_reference/JS_SetPrivate.html" title="en/JS_SetPrivate">JS_SetPrivate</a></code>, specify the object for which to establish private data, and specify the pointer to the data.</li>
</ol>

<p>For example:</p>

<pre> JS_SetPrivate(cx, obj, pdata);
</pre>

<p>To retrieve the data at a later time, call <code><a href="JSAPI_reference/JS_GetPrivate.html" title="en/JS_GetPrivate">JS_GetPrivate</a></code>, and pass the object as an argument. This function returns the pointer to an object's private data:</p>

<pre> pdata = JS_GetPrivate(cx, obj);
</pre>

<h2 id="Special_topics">Special topics</h2>

<h3 name="Handling_Unicode" id="Handling_Unicode">Unicode</h3>

<p>To pass Unicode data between JavaScript and native code, represent the data in UTF-16 in memory. JavaScript strings, property names, and programs are all made up of <code>jschar</code>s, which are 16-bit unsigned integers.</p>

<p>Many JSAPI functions operate on null-terminated, 8-bit <code>char</code> strings. These functions convert their <code>char *</code> arguments to 16-bit strings by zero-extending each 8-bit <code>char</code> to 16 bits—unless <a href="../../../../../en/SpiderMonkey/JSAPI_Reference/JS_C_STRINGS_ARE_UTF8.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS C STRINGS ARE UTF8"><code>JS_C_STRINGS_ARE_UTF8</code></a> is defined or <a href="JSAPI_reference/JS_CStringsAreUTF8.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS SetCStringsAreUTF8"><code>JS_SetCStringsAreUTF8</code></a> has been called, in which case each <code>char *</code> string is interpreted as UTF-8 Unicode text.</p>

<p>The JSAPI provides <code>jschar</code>-based versions of many API functions that operate on strings, object properties, and JavaScript code.</p>

<table class="fullwidth-table">
 <thead>
  <tr>
   <th><code>char</code>-based function</th>
   <th><code>jschar</code>-based function</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td colspan="2"><em>Unicode data</em></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_GetStringBytes.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS GetStringBytes">JS_GetStringBytes</a><span class="internal"> <span class="inlineIndicator obsolete obsoleteInline" title="">Obsolete since <a href="../../../Web/JavaScript/New_in_JavaScript/1.8-2.html">JavaScript 1.8.5</a></span></span></td>
   <td><a href="JSAPI_reference/JS_GetStringChars.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS GetStringChars">JS_GetStringChars</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_NewString.html" title="en/JS_NewString">JS_NewString</a></td>
   <td><a href="JSAPI_reference/JS_NewString.html" title="en/JS_NewString">JS_NewUCString</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_NewStringCopyN.html" title="en/JS_NewStringCopyN">JS_NewStringCopyN</a></td>
   <td><a href="JSAPI_reference/JS_NewStringCopyN.html" title="en/JS_NewStringCopyN">JS_NewUCStringCopyN</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_NewStringCopyZ.html" title="en/JS_NewStringCopyZ">JS_NewStringCopyZ</a></td>
   <td><a href="JSAPI_reference/JS_NewStringCopyZ.html" title="en/JS_NewStringCopyZ">JS_NewUCStringCopyZ</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_InternString.html" title="en/JS_InternString">JS_InternString</a></td>
   <td><a href="JSAPI_reference/JS_InternString.html" title="en/JS_InternString">JS_InternUCString</a>, <a href="JSAPI_reference/JS_InternString.html" title="en/JS_InternString">JS_InternUCStringN</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_ReportErrorNumber.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS ReportErrorNumber">JS_ReportErrorNumber</a></td>
   <td><a href="JSAPI_reference/JS_ReportErrorNumber.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS ReportErrorNumberUC">JS_ReportErrorNumberUC</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_ReportErrorNumber.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS ReportErrorNumber">JS_ReportErrorFlagsAndNumber</a></td>
   <td><a href="JSAPI_reference/JS_ReportErrorNumber.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS ReportErrorNumber">JS_ReportErrorFlagsAndNumberUC</a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <td colspan="2"><em>Unicode property names</em></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_DefineProperty.html" title="en/JS_DefineProperty">JS_DefineProperty</a></td>
   <td><a href="JSAPI_reference/JS_DefineProperty.html" title="en/JS_DefineProperty">JS_DefineUCProperty</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_DefinePropertyWithTinyId.html" title="en/JS_DefinePropertyWithTinyId">JS_DefinePropertyWithTinyId</a></td>
   <td><a href="JSAPI_reference/JS_DefinePropertyWithTinyId.html" title="en/JS_DefinePropertyWithTinyId">JS_DefineUCPropertyWithTinyId</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_DefineFunction.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS DefineFunction">JS_DefineFunction</a></td>
   <td><a href="JSAPI_reference/JS_DefineFunction.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS DefineFunction">JS_DefineUCFunction</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_HasProperty.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS HasProperty">JS_HasProperty</a></td>
   <td><a href="JSAPI_reference/JS_HasProperty.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS HasProperty">JS_HasUCProperty</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_LookupProperty.html" title="en/JS_LookupProperty">JS_LookupProperty</a></td>
   <td><a href="JSAPI_reference/JS_LookupProperty.html" title="en/JS_LookupProperty">JS_LookupUCProperty</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_GetProperty.html" title="en/JS_GetProperty">JS_GetProperty</a></td>
   <td><a href="JSAPI_reference/JS_GetProperty.html" title="en/JS_GetProperty">JS_GetUCProperty</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_GetPropertyAttributes.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS GetPropertyAttributes">JS_GetPropertyAttributes</a></td>
   <td><a href="JSAPI_reference/JS_GetPropertyAttributes.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS GetUCPropertyAttributes">JS_GetUCPropertyAttributes</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_GetPropertyAttrsGetterAndSetter.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS GetPropertyAttrsGetterAndSetter">JS_GetPropertyAttrsGetterAndSetter</a></td>
   <td><a href="JSAPI_reference/JS_GetPropertyAttrsGetterAndSetter.html" class="internal" title="en/SpiderMonkey/JSAPI Reference/JS GetUCPropertyAttrsGetterAndSetter">JS_GetUCPropertyAttrsGetterAndSetter</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_SetProperty.html" title="en/JS_SetProperty">JS_SetProperty</a></td>
   <td><a href="JSAPI_reference/JS_SetProperty.html" title="en/JS_SetProperty">JS_SetUCProperty</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_SetPropertyAttributes.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS SetPropertyAttributes">JS_SetPropertyAttributes</a></td>
   <td><a href="JSAPI_reference/JS_SetPropertyAttributes.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS SetPropertyAttributes">JS_SetUCPropertyAttributes</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_DeleteProperty2.html" title="en/JS_DeleteProperty2">JS_DeleteProperty2</a></td>
   <td><a href="JSAPI_reference/JS_DeleteProperty2.html" title="en/JS_DeleteProperty2">JS_DeleteUCProperty2</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_AlreadyHasOwnProperty.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS AlreadyHasOwnProperty">JS_AlreadyHasOwnProperty</a></td>
   <td><a href="JSAPI_reference/JS_AlreadyHasOwnProperty.html" class="internal" title="En/SpiderMonkey/JSAPI Reference/JS AlreadyHasOwnProperty">JS_AlreadyHasOwnUCProperty</a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <td colspan="2"><em>Unicode JavaScript source</em></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_CompileScript.html" title="en/JS_CompileScript">JS_CompileScript</a></td>
   <td><a href="JSAPI_reference/JS_CompileScript.html" title="en/JS_CompileScript">JS_CompileUCScript</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_CompileScriptForPrincipals.html" title="en/JS_CompileScriptForPrincipals">JS_CompileScriptForPrincipals</a></td>
   <td><a href="JSAPI_reference/JS_CompileScriptForPrincipals.html" title="en/JS_CompileScriptForPrincipals">JS_CompileUCScriptForPrincipals</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_CompileFunction.html" title="en/JS_CompileFunction">JS_CompileFunction</a></td>
   <td><a href="JSAPI_reference/JS_CompileFunction.html" title="en/JS_CompileFunction">JS_CompileUCFunction</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_CompileFunctionForPrincipals.html" title="en/JS_CompileFunctionForPrincipals">JS_CompileFunctionForPrincipals</a></td>
   <td><a href="JSAPI_reference/JS_CompileFunctionForPrincipals.html" title="en/JS_CompileFunctionForPrincipals">JS_CompileUCFunctionForPrincipals</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_EvaluateScript.html" title="en/JS_EvaluateScript">JS_EvaluateScript</a></td>
   <td><a href="JSAPI_reference/JS_EvaluateScript.html" title="en/JS_EvaluateScript">JS_EvaluateUCScript</a></td>
  </tr>
  <tr>
   <td><a href="JSAPI_reference/JS_EvaluateScriptForPrincipals.html" title="en/JS_EvaluateScriptForPrincipals">JS_EvaluateScriptForPrincipals</a></td>
   <td><a href="JSAPI_reference/JS_EvaluateScriptForPrincipals.html" title="en/JS_EvaluateScriptForPrincipals">JS_EvaluateUCScriptForPrincipals</a></td>
  </tr>
 </tbody>
</table>

<p><code>jschar</code>-based functions work exactly like their <code>char</code>-based namesakes, except that where traditional functions take a <code>char *</code> argument, the Unicode versions take a <code>jschar *</code> argument, usually with a separate argument specifying the length of the string in <code>jschar</code>s.</p>

<h3 name="Compiled_scripts" id="Compiled_scripts">Compiled scripts</h3>

<p>The easiest way to run a script is to use <code><a href="JSAPI_reference/JS_EvaluateScript.html" title="en/JS_EvaluateScript">JS_EvaluateScript</a></code>, which compiles and executes the script in one go.</p>

<p>But sometimes an application needs to run a script many times. In this case, it may be faster to compile the script once and execute it multiple times.</p>

<p>The JSAPI provides a type, <code><a href="https://developer.mozilla.org/en/JSScript" title="en/JSScript">JSScript</a></code>, that represents a compiled script. The life cycle of a <code>JSScript</code> looks like this:</p>

<ul>
 <li>The application compiles some JavaScript code using <code><a href="JSAPI_reference/JS_CompileScript.html" title="en/JS_CompileScript">JS_CompileScript</a></code>, <code><a href="JSAPI_reference/JS_CompileUTF8File.html" title="en/JS_CompileFile">JS_CompileUTF8File</a></code>, or <code><a href="JSAPI_reference/JS_CompileUTF8FileHandle.html" title="en/JS_CompileFileHandle">JS_CompileFileHandle</a></code>. These functions return a pointer to a new <code>JSScript</code>.</li>
</ul>

<ul>
 <li>The application calls <code><a href="JSAPI_reference/JS_ExecuteScript.html" title="en/JS_ExecuteScript">JS_ExecuteScript</a></code> (or <code><a href="JSAPI_reference/JS_ExecuteScriptPart.html" title="en/JS_ExecuteScriptPart">JS_ExecuteScriptPart</a></code>) any number of times. It is safe to use a <code>JSScript</code> in multiple different contexts, but only within the <code>JSRuntime</code> and global in which it was created.</li>
</ul>

<p>Here is some example code using a compiled script:</p>

<pre>/*
 * Compile a script and execute it repeatedly until an
 * error occurs.  (If this ever returns, it returns false.
 * If there's no error it just keeps going.)
 */
<a href="JSAPI_Reference/JSBool-2.html">JSBool</a> compileAndRepeat(<a href="JSAPI_Reference/JSRuntime-2.html">JSContext</a> *cx, const char *filename)
{
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/JSScript">JSScript</a> *script;

    script = <a href="JSAPI_Reference/JS_CompileFile.html">JS_CompileUTF8File</a>(cx, <a href="JSAPI_Reference/JS_GetGlobalObject-2.html">JS_GetGlobalObject</a>(cx), filename);
    if (!script)
        return false;   /* compilation error */

    for (;;) {
        jsval result;

        if (!<a href="JSAPI_Reference/JS_ExecuteScript-2.html">JS_ExecuteScript</a>(cx, <a href="JSAPI_Reference/JS_GetGlobalObject-2.html">JS_GetGlobalObject</a>(cx), script, &amp;result))
            break;
        <a href="JSAPI_Reference/JS_MaybeGC-2.html">JS_MaybeGC</a>(cx);
    }

    return false;
}
</pre>

<p>The lifetime of the compiled script is tied to the lifetime of a JavaScript object, the garbage collector destroys the script when it is no longer reachable. The JSAPI provides this feature via the <code><a href="JSAPI_reference/JS_NewScriptObject.html" title="en/JS_NewScriptObject">JS_NewScriptObject</a></code> function. The life cycle of a script using this feature is like this:</p>

<ul>
 <li>The application compiles some JavaScript code.</li>
</ul>

<ul>
 <li>To protect the compiled script from garbage collection, the application creates a <em>compiled script object</em> by calling <code><a href="JSAPI_reference/JS_NewScriptObject.html" title="en/JS_NewScriptObject">JS_NewScriptObject</a></code> and makes that object GC-reachable using <code><a href="JSAPI_reference/JS_SetProperty.html" title="en/JS_SetProperty">JS_SetProperty</a></code>, <code><a href="JSAPI_reference/JS_GetReservedSlot.html" title="en/JS_GetReservedSlot">JS_SetReservedSlot</a></code>, <code><a href="JSAPI_reference/JS_AddRoot.html" title="en/JS_AddRoot">JS_AddRoot</a></code>, or some other function.</li>
</ul>

<ul>
 <li>The application executes the compiled script any number of times.</li>
</ul>

<ul>
 <li>As the application progresses, eventually it doesn't need the compiled script anymore, and the compiled script object becomes unreachable.</li>
</ul>

<ul>
 <li>The garbage collector then eventually collects the unreachable script and its components.</li>
</ul>

<p>Here is example code demonstrating the technique—but note that this case is not really complex enough to warrant the use of <code><a href="JSAPI_reference/JS_NewScriptObject.html" title="en/JS_NewScriptObject">JS_NewScriptObject</a></code>. The above example does the same thing more directly.</p>

<pre>/*
 * Compile a script and execute it repeatedly until an
 * error occurs.  (If this ever returns, it returns false.
 * If there's no error it just keeps going.)
 */
<a href="JSAPI_Reference/JSBool-2.html">JSBool</a> compileAndRepeat(<a href="JSAPI_Reference/JSRuntime-2.html">JSContext</a> *cx, const char *filename)
{
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/JSScript">JSScript</a> *script;
    <a href="JSAPI_Reference/JSObject-2.html">JSObject</a> *scriptObj;

    script = <a href="JSAPI_Reference/JS_CompileFile.html">JS_CompileUTF8File</a>(cx, <a href="JSAPI_Reference/JS_GetGlobalObject-2.html">JS_GetGlobalObject</a>(cx), filename);
    if (!script)
        return false;   /* compilation error */

    scriptObj = <a href="JSAPI_Reference/JS_NewScriptObject-2.html">JS_NewScriptObject</a>(cx, script);
    if (!scriptObj) {
        <a href="JSAPI_Reference/JS_DestroyScript-2.html">JS_DestroyScript</a>(cx, script);
        return false;
    }

    if (!<a href="JSAPI_Reference/JS_AddRoot-2.html">JS_AddNamedObjectRoot</a>(cx, &amp;scriptObj, "compileAndRepeat script object"))
        return false;

    for (;;) {
        jsval result;

        if (!<a href="JSAPI_Reference/JS_ExecuteScript-2.html">JS_ExecuteScript</a>(cx, <a href="JSAPI_Reference/JS_GetGlobalObject-2.html">JS_GetGlobalObject</a>(cx), script, &amp;result))
            break;
        <a href="JSAPI_Reference/JS_MaybeGC-2.html">JS_MaybeGC</a>(cx);
    }

    <a href="JSAPI_Reference/JS_RemoveRoot-2.html">JS_RemoveObjectRoot</a>(cx, &amp;scriptObj);  /* scriptObj becomes unreachable
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and will eventually be collected. */
    return false;
}
</pre>

<h3 name="Security" id="Security">Security</h3>

<p>Many applications use SpiderMonkey to run untrusted code. In designing this kind of application, it's important to think through the security concerns ahead of time. Your application will need to do several things.</p>

<ul>
 <li><strong>Deploy security updates</strong> - Firefox automatically installs updates, so security fixes are deployed as soon as they are available. Unless you also regularly deploy SpiderMonkey security updates, a determined hacker could use publicly known bugs in the engine to attack your application. Note that the kind of attack we're talking about here is where a hacker uses JavaScript to attack the C++ code of the engine itself (or your embedding). The rest of the items in this list talk about security issues that arise within JavaScript itself, even if the engine is working properly.</li>
 <li><strong>Block simple denial-of-service attacks</strong> - A program like <code>while(true){}</code> should not hang your application. To stop execution of scripts that run too long, use <a href="JSAPI_reference/JS_SetOperationCallback.html" title="en/SpiderMonkey/JSAPI Reference/JS SetOperationCallback"><code>JS_SetOperationCallback</code></a>. Likewise, a function like <code>function f(){f();}</code> should not crash your application with a stack overflow. To block that, use <a href="../../../../../en/SpiderMonkey/JSAPI_Reference/JS_SetNativeStackQuota.html" title="en/SpiderMonkey/JSAPI Reference/JS SetNativeStackQuota"><code>JS_SetNativeStackQuota</code></a>.</li>
 <li><strong>Control access to sensitive data</strong> - Your application might expose data to some scripts that other scripts should not be able to see. For example, you might let your customers write scripts that operate on their own data, but not other customers' data. These access rules must be enforced somehow.</li>
 <li><strong>Control access to dangerous functionality</strong> - Suppose your application has a method deleteUserAccount() which is meant to be used by administrators only. Obviously if untrusted code can use that method, you have a security problem.</li>
</ul>

<p>The first two problems are important but fairly straightforward and will not be discussed further here. The rest of this section tells how you can control scripts' access to data and functionality.</p>

<h4 id="The_best_security_is_no_security_(really)">The best security is no security (really)</h4>

<p>Do you ever worry about your snake eating your mouse? No? If you don't have both a snake and a mouse, you don't have this problem.</p>

<p>Likewise, if your application doesn't have both untrusted users (snakes) and sensitive data or dangerous functionality that's exposed to JavaScript (mice), then you don't need to read any further. The functions and objects created by <a href="JSAPI_reference/JS_InitStandardClasses.html" title="en/SpiderMonkey/JSAPI Reference/JS InitStandardClasses"><code>JS_InitStandardClasses</code></a> are safe. They do not provide access to files, the network, or anything browser-related. The most sensitive information they expose to scripts is the current date and time.</p>

<h4 id="Object-capabilities-based_security">Object-capabilities-based security</h4>

<p>One way to keep a snake from eating a mouse is to keep the mouse and the snake in separate cages.</p>

<p>One way to keep user A from accessing user B's sensitive data or dangerous functions is to keep each user's code in a separate sandbox. That is, create a separate JSContext and global object for each user, and always run each script in the appropriate context. When setting up a new global object, simply don't define any functions the user shouldn't have access to. This approach is called object-capabilities security. To learn more about it, <a href="http://www.youtube.com/watch?v=EGX2I31OhBE" class="external" title="http://www.youtube.com/watch?v=EGX2I31OhBE">watch the movie</a> or <a href="http://www.erights.org/talks/thesis/" class="external">read the book</a>.</p>

<p>The metaphor is misleading in one regard: the snake can't reach the mouse because there's a physical barrier in the way. With SpiderMonkey the situation is more subtle. There's no barrier; there's just no way to get there from here. How can a malicious script get a reference to an object from another sandbox? It might as well be in a parallel universe. Even global variables are per-sandbox. There is no <code>getObjectFromOtherSandbox()</code> function. Your application just needs to take care not to expose any such function to scripts.</p>

<p>In short, never pass one user's data and objects to another user's code, and you'll have no access control issues. SpiderMonkey won't do it if you don't.</p>

<p><strong>Trade-offs.</strong> Object-capabilities security is security without run-time security checks. It is easy to implement, easy to reason about, and fast. But in fairness there are some drawbacks. First, the failure mode is pretty severe. If you do accidentally leak an object from one sandbox into another, the genie is out of the bottle. Once a malicious script gets a reference to a single object in a sandbox, it can use that object to get a reference to the sandbox's global object, and from there, almost any other object or function in that sandbox. There is no way to fix it except to destroy both sandboxes and start over. A second drawback is that the system doesn't automatically respond to <em>changes</em> in user privileges. Suppose user A is not an administrator, so you set up sandbox A with no administrator functionality. If you promote user A to be an admin, SpiderMonkey won't magically update sandbox A to have the administrator classes and functions you didn't define before. Your application will have to do that explicitly. Conversely, if you want to <em>strip</em> user A's administrator privileges, but you have already given administrator functions to user A's scripts, that's even worse. You have no choice but to destroy user A's sandbox and start over.</p>

<h4 id="Fine-grained_security">Fine-grained security</h4>

<p>Another way to keep a snake from eating a mouse is to watch the snake constantly, and if it tries to eat the mouse, intervene.</p>

<p>SpiderMonkey is designed to support custom, application-defined security models. For example, the Firefox browser has a complex and powerful security model. Some JavaScript code ("chrome") has full access to the system. Scripts from web pages ("content") have very limited access. The <a href="http://www.mozilla.org/projects/security/components/same-origin.html" class="external">same origin policy</a> governs a script's access to data and functions from other web pages.</p>

<p>The SpiderMonkey security model is based on the Java principals security model. This model provides a common security interface, but the actual security implementation is up to you.</p>

<p>To use SpiderMonkey's fine-grained security features:</p>

<ul>
 <li>
  <p>Decide what security policy you want to enforce.</p>
 </li>
 <li>
  <p>Insert a call to <code><a href="JSAPI_reference/JS_CheckAccess.html" title="en/JS_CheckAccess">JS_CheckAccess</a></code> at each point in your application where a security check is necessary. (Some security checks are also built into the JavaScript engine; you must decide what security policy to enforce for each of these checks.)</p>
 </li>
 <li>
  <p>Implement one or more <code><a href="JSAPI_reference/JSPrincipals.html" title="en/JSPrincipals">JSPrincipals</a></code> objects in your application. You need one <code>JSPrincipals</code> object for each different set of privileges that a script might have.</p>
 </li>
 <li>
  <p>When compiling or executing code, use the JSAPI functions that attach principals to the compiled code. These functions have <code>ForPrincipals</code> in the name. They are listed below. The purpose of using these functions is to ensure that your access check callbacks have accurate information about <em>who</em> is trying to access an object.</p>

  <table class="fullwidth-table" style="height: 166px; width: 839px;">
   <tbody>
    <tr>
     <th>Function</th>
     <th>Purpose</th>
    </tr>
    <tr>
     <td><code><a href="JSAPI_reference/JS_CompileScriptForPrincipals.html" title="en/JS_CompileScriptForPrincipals">JS_CompileScriptForPrincipals</a></code>,<br>
      <code><a href="JSAPI_reference/JS_CompileScriptForPrincipals.html" title="en/JS_CompileScriptForPrincipals">JS_CompileUCScriptForPrincipals</a></code>,<br>
      <code><a href="JSAPI_reference/JS_CompileUTF8FileHandle.html" title="en/JS_CompileFileHandle">JS_CompileFileHandleForPrincipals</a></code></td>
     <td>Compile a script with security information. (To execute a compiled script, use <code><a href="JSAPI_reference/JS_ExecuteScript.html" title="en/JS_ExecuteScript">JS_ExecuteScript</a></code>.)</td>
    </tr>
    <tr>
     <td><code><a href="JSAPI_reference/JS_CompileFunctionForPrincipals.html" title="en/JS_CompileFunctionForPrincipals">JS_CompileFunctionForPrincipals</a></code>,<br>
      <code><a href="JSAPI_reference/JS_CompileFunctionForPrincipals.html" title="en/JS_CompileFunctionForPrincipals">JS_CompileUCFunctionForPrincipals</a></code></td>
     <td>Create a JavaScript function with security information.</td>
    </tr>
    <tr>
     <td><code><a href="JSAPI_reference/JS_EvaluateScriptForPrincipals.html" title="en/JS_EvaluateScriptForPrincipals">JS_EvaluateScriptForPrincipals</a></code>,<br>
      <code><a href="JSAPI_reference/JS_EvaluateScriptForPrincipals.html" title="en/JS_EvaluateScriptForPrincipals">JS_EvaluateUCScriptForPrincipals</a></code></td>
     <td>Compile and execute a script with security information.</td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  <p>Implement access check callback functions (see <code><a href="JSAPI_reference/JSCheckAccessOp.html" title="en/JSClass.checkAccess">JSClass.checkAccess</a></code> and <code><a href="JSAPI_reference/JS_SetCheckObjectAccessCallback.html" title="en/JS_SetCheckObjectAccessCallback">JS_SetCheckObjectAccessCallback</a></code>). These will be called from <code>JS_CheckAccess</code> and sometimes from within the JavaScript engine. An access check callback function can use jsdbgapi.h functions such as <code><a href="https://developer.mozilla.org/en/JS_FrameIterator" title="en/JS_FrameIterator">JS_FrameIterator</a></code> and <code><a href="https://developer.mozilla.org/en/JS_StackFramePrincipals" title="en/JS_StackFramePrincipals">JS_StackFramePrincipals</a></code> to obtain the principals of the code that is trying to perform the checked operation. Then it determines whether to allow the operation to proceed.</p>
 </li>
</ul>

<h3 id="Tracing_and_Profiling">Tracing and Profiling</h3>

<p>There are features provided by&nbsp;the JSAPI&nbsp;that make it easier to implement JavaScript tracers and profilers.</p>

<h4 id="Function_tracing">Function tracing</h4>

<p>If you configure with --enable-trace-jscalls, you can use <a href="JSAPI_reference/JS_SetFunctionCallback.html" title="en/SpiderMonkey/JSAPI Reference/JS SetFunctionCallback"><code>JS_SetFunctionCallback()</code></a>&nbsp;to set up a C function to be called whenever a JavaScript function is about to be called, or has finished executing:</p>

<pre class="brush: cpp">void funcTransition(const JSFunction *func,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const JSScript *scr,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const JSContext *const_cx,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSBool entering)
{
  JSContext *cx = const_cast&lt;JSContext*&gt;(const_cx);
&nbsp; JSString *name = JS_GetFunctionId((JSFunction*)func);
&nbsp; const char *entExit;
&nbsp; const char *nameStr;

&nbsp; /*&nbsp;build a C string for the function's name */

&nbsp; if (!name)&nbsp;{
&nbsp;&nbsp;&nbsp; nameStr = "Unnamed function";
&nbsp; } else {
&nbsp;&nbsp;&nbsp; nameStr = JS_EncodeString(cx, name);
&nbsp; }

&nbsp; /* build a string for whether we're entering or exiting */

&nbsp; if (entering)&nbsp;{
&nbsp;&nbsp;&nbsp; entExit = "Entering";
&nbsp; } else {
&nbsp;&nbsp;&nbsp; entExit = "Exiting";
&nbsp; }

&nbsp; /* output information about the trace */

&nbsp; printf("%s JavaScript function: %s at time:&nbsp;%ld", entExit, nameStr, clock());
} 

void enableTracing(JSContext *cx)&nbsp;{
&nbsp; JS_SetFunctionCallback(cx, funcTransition);
}

void disableTracing(JSContext *cx)&nbsp;{
&nbsp; JS_SetFunctionCallback(cx, nullptr);
}
</pre>
                  
                
              </article>

              

    
    
    

    
    
    

    <div class="share">
        <strong>Share:</strong>
        <ul>
            <li><a href="http://twitter.com/share?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FSpiderMonkey%2FJSAPI_User_Guide%3Futm_campaign%3Dshare%26utm_medium%3Ddoc%2Bshare%2Blink%26utm_source%3Dtwitter.com&amp;text=I+learned+about+JSAPI+User+Guide+on+MDN." target="_blank" data-url="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=twitter.com" data-title="I learned about JSAPI User Guide on MDN." class="share-link twitter"><i aria-hidden="true" class="icon-twitter"></i>Twitter</a></li>
            <li><a href="http://facebook.com/sharer.php?s=100&amp;p[url]=https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=facebook.com" target="_blank" data-url="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=facebook.com" data-title="I learned about JSAPI User Guide on MDN." class="share-link facebook"><i aria-hidden="true" class="icon-facebook"></i>Facebook</a></li>
            <li><a href="https://plus.google.com/share?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FSpiderMonkey%2FJSAPI_User_Guide%3Futm_campaign%3Dshare%26utm_medium%3Ddoc%2Bshare%2Blink%26utm_source%3Dplus.google.com" target="_blank" data-url="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=plus.google.com" data-title="I learned about JSAPI User Guide on MDN." class="share-link gplus"><i aria-hidden="true" class="icon-google-plus"></i>Google+</a></li>
        </ul>
    </div>

              

                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                  
                  
  <div class="tag-attach-list contributors-sub">
    <i aria-hidden="true" class="icon-tags icon-fw"></i>
    <strong>Tags:</strong>&nbsp;
    <ul class="tags tags-small">
      
        <li><a href="../../../tag/JSAPI.html">JSAPI</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/SpiderMonkey">SpiderMonkey</a></li>
      
    </ul>
  </div>

                  
                    <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-group icon-fw"></i>&nbsp;<strong>Contributors to this page:</strong> 
        <a href="https://developer.mozilla.org/en-US/profiles/Ms2ger">Ms2ger</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/teoli">teoli</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Nickolay">Nickolay</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/fscholz">fscholz</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/jorendorff-moz">jorendorff-moz</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/dfwdfw">dfwdfw</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/cpeterson">cpeterson</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/tschneidereit">tschneidereit</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Jorend">Jorend</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Waldo">Waldo</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/sfink">sfink</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/evilpie">evilpie</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/superquadratic">superquadratic</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/GeertVL">GeertVL</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/and.selm">and.selm</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/berkerpeksag">berkerpeksag</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/nicolasgramlich">nicolasgramlich</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/creationix">creationix</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/markg">markg</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/zpao">zpao</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/lw">lw</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/fuzzylollipop">fuzzylollipop</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/mvel">mvel</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/MrN">MrN</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Jimb">Jimb</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Varmaa">Varmaa</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/VladVukicevic">VladVukicevic</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Mgjbot">Mgjbot</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/DeadZen">DeadZen</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/ShiningRay">ShiningRay</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/SylvainPasche">SylvainPasche</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Nazoking">Nazoking</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/NickolayBot">NickolayBot</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Andreas Wuest">Andreas Wuest</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Dria">Dria</a>
    
                    </div>
                  

                  
                    <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-clock-o icon-fw"></i>&nbsp;<strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/Ms2ger">Ms2ger</a>,
                      <time datetime="2015-11-30T07:22:05-08:00">Nov 30, 2015, 7:22:05 AM</time>
                    </div>
                  
                </div>
              
            </div>

            
              <!-- quick links and zone subnav strip -->
              <div id="wiki-left" class="column-strip wiki-column">

              

                

                
                  <!-- quick links -->
                  
  <div class="quick-links" id="quick-links">
    <div class="title see-also">See also</div>
     
 <ol> 
  <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey"><strong><em>SpiderMonkey</em></strong></a></li> 
   
  <li><strong>References:</strong></li> 
  <li data-default-state="closed"><a href="JSAPI_reference.html">JSAPI reference</a> 
    <ol><li><a href="JSAPI_reference.html" title="The JSAPI is the C API for the SpiderMonkey JavaScript engine. To learn how to use the JSAPI, see the JSAPI User Guide and the JSAPI Cookbook."><code>JSAPI reference</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/BOOLEAN_TO_JSVAL.html" title="BOOLEAN_TO_JSVAL converts a bool argument, b, to a boolean jsval."><code>BOOLEAN_TO_JSVAL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/DOUBLE_TO_JSVAL.html" title="DOUBLE_TO_JSVAL is the inverse of JS::ToNumber."><code>DOUBLE_TO_JSVAL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/INT_FITS_IN_JSVAL.html" title="Determines if a specified C integer value, i, lies within the range allowed for integer jsvals. If so, INT_FITS_IN_JSVAL returns TRUE, and i can be cast to jsval by calling INT_TO_JSVAL(i). Otherwise, INT_FITS_IN_JSVAL returns FALSE. In this case, the application can still convert i to a jsval using JS_NewNumberValue."><code>INT_FITS_IN_JSVAL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/INT_TO_JSVAL.html" title="INT_TO_JSVAL converts a C integer, i, to a jsval."><code>INT_TO_JSVAL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS__Add_Root-3.html" title="These functions are obsoleted, use JS::PersistentRooted instead."><code>JS::Add*Root</code></a></li><li><a href="JSAPI_reference/JS__AutoIdArray.html" title="JS::AutoIdArray takes the ownership of JSIdArray, and frees it in destructor by calling JS_DestroyIdArray."><code>JS::AutoIdArray</code></a></li><li><a href="JSAPI_reference/JS__AutoSaveExceptionState.html" title="JS::AutoSaveExceptionState saves and later restores the current exception state of a given JSContext."><code>JS::AutoSaveExceptionState</code></a></li><li><a href="JSAPI_reference/JS__AutoValueArray.html" title="JS::AutoValueArray&lt;N&gt; holds a rooted array of JS::Value. This is typically used for local variables being passed to function which requires JS::HandleValueArray or a pointer to JS::Value array."><code>JS::AutoValueArray</code></a></li><li><a href="JSAPI_reference/JS__AutoVectorRooter-3.html" title="JS::AutoVectorRooter&lt;T&gt; holds a variable-size rooted array of type T."><code>JS::AutoVectorRooter</code></a></li><li><a href="JSAPI_reference/JS__BooleanValue-2.html" title="JS::BooleanValue converts a C boolean of type bool to JS::Value, the type of JavaScript values."><code>JS::BooleanValue</code></a></li><li><a href="JSAPI_reference/JS__Call.html" title="JS::Call calls a specified function, fun, on an object, thisObj. In terms of function execution, the object is treated as this."><code>JS::Call</code></a></li><li><a href="JSAPI_reference/JS__CallArgs.html" title="JS::CallArgs is helper class encapsulating access to the callee, this value, arguments, and argument count for a function call."><code>JS::CallArgs</code></a></li><li><a href="JSAPI_reference/JS__CloneFunctionObject.html" title="JS::CloneFunctionObject creates a new function object from funobj. The new object has the same code and argument list as funobj. If scopeChain is supplied, it uses scopeChain as its enclosing scope. If scopeChain is omitted, it creates a new function object in cx's global. This can be helpful if funobj is an extant function that you wish to use as if it were enclosed by a newly-created global object."><code>JS::CloneFunctionObject</code></a></li><li><a href="JSAPI_reference/JS__Compile.html" title="JS::Compile compiles a script, srcBuf, chars, bytes, or file, for execution."><code>JS::Compile</code></a></li><li><a href="JSAPI_reference/JS__CompileFunction.html" title="JS::CompileFunction compiles a function from a text string chars, bytes, or srcBuf."><code>JS::CompileFunction</code></a></li><li><a href="JSAPI_reference/JS__CompileOffThread.html" title="JS::CompileOffThread compiles a script, chars for execution."><code>JS::CompileOffThread</code></a></li><li><a href="JSAPI_reference/JS__CompileOptions.html" title="Some methods of JS::OwningCompileOptions and JS::CompileOptions return the instance itself to allow method chain."><code>JS::CompileOptions</code></a></li><li><a href="JSAPI_reference/JS__Construct.html" title="JS::Construct calls a specified function as a constructor, fun."><code>JS::Construct</code></a></li><li><a href="JSAPI_reference/JS__CreateError.html" title="JS::CreateError creates an Error object with specified properties."><code>JS::CreateError</code></a></li><li><a href="JSAPI_reference/JS__CurrentGlobalOrNull.html" title="JS::CurrentGlobalOrNull() returns the global object for whatever function is currently running on the context. In other words, it returns the global object on the current scope chain."><code>JS::CurrentGlobalOrNull</code></a></li><li><a href="JSAPI_reference/JS__DoubleNaNValue.html" title="JS::DoubleNaNValue returns a value of type JS::Value that represents an IEEE floating-point quiet Not-a-Number (NaN)."><code>JS::DoubleNaNValue</code></a></li><li><a href="JSAPI_reference/JS__DoubleValue-2.html" title="JS::DoubleValue converts a C floating-point number of type double to JS::Value, the type of JavaScript values."><code>JS::DoubleValue</code></a></li><li><a href="JSAPI_reference/JS__Evaluate.html" title="JS::Evaluate compiles and executes a script in the specified scope, obj or scopeChain."><code>JS::Evaluate</code></a></li><li><a href="JSAPI_reference/JS__FalseValue-2.html" title="JS::FalseValue creates a JS::Value that represents the JavaScript value false."><code>JS::FalseValue</code></a></li><li><a href="JSAPI_reference/JS__Float32Value-2.html" title="JS::Float32Value converts a C floating-point number of type float to JS::Value, the type of JavaScript values."><code>JS::Float32Value</code></a></li><li><a href="JSAPI_reference/JS__GetFirstArgumentAsTypeHint.html" title="JS::GetFirstArgumentAsTypeHint converts first argument of @@toPrimitive method to JSType."><code>JS::GetFirstArgumentAsTypeHint</code></a></li><li><a href="JSAPI_reference/JS__GetSelfHostedFunction-2.html" title="JS::GetSelfHostedFunction creates a new JavaScript function implemented in self-hosted JavaScript."><code>JS::GetSelfHostedFunction</code></a></li><li><a href="JSAPI_reference/JS__Handle.html" title="Here, ptr represents the private member of JS::Handle&lt;T&gt;, typed with T."><code>JS::Handle</code></a></li><li><a href="JSAPI_reference/JS__HandleValueArray.html" title="JS::HandleValueArray is a handle to an array of rooted values. This is useful as a parameter type, or a temporal local variable for it."><code>JS::HandleValueArray</code></a></li><li><a href="JSAPI_reference/JS__IdentifyStandardInstance.html" title="JS::IdentifyStandardInstance determines if the given object is an instance for a standard class. If so, return the associated JSProtoKey. If not, return JSProto_Null."><code>JS::IdentifyStandardInstance</code></a></li><li><a href="JSAPI_reference/JS__Int32Value-2.html" title="JS::Int32Value converts a C signed 32-bit integer of type int32_t to JS::Value, the type of JavaScript values."><code>JS::Int32Value</code></a></li><li><a href="JSAPI_reference/JS__IsCallable.html" title="JS::IsCallable returns whether the given function object is callable."><code>JS::IsCallable</code></a></li><li><a href="JSAPI_reference/JS__MutableHandle.html" title="Here, ptr represents the private member of JS::MutableHandle&lt;T&gt;, typed with T *."><code>JS::MutableHandle</code></a></li><li><a href="JSAPI_reference/JS__NewFunctionFromSpec-2.html" title="JS::NewFunctionFromSpec creates a new function based on the given JSFunctionSpec, *fs.  id is the result of a successful call to PropertySpecNameToPermanentId(cx, fs-&gt;name, &amp;id)."><code>JS::NewFunctionFromSpec</code></a></li><li><a href="JSAPI_reference/JS__NullHandleValue.html" title="JS::NullHandleValue is a JS::HandleValue constant that represents the JavaScript value null."><code>JS::NullHandleValue</code></a></li><li><a href="JSAPI_reference/JS__NullValue-2.html" title="JS::NullValue creates a JS::Value that represents the JavaScript value null."><code>JS::NullValue</code></a></li><li><a href="JSAPI_reference/JS__NumberValue-2.html" title="JS::NumberValue converts a C integer or floating-point value to JS::Value, the type of JavaScript values."><code>JS::NumberValue</code></a></li><li><a href="JSAPI_reference/JS__ObjectOrNullValue-2.html" title="JS::ObjectValue converts a given JSObject to JS::Value. If the pointer is null, it returns JavaScript null. The conversion always succeeds."><code>JS::ObjectOrNullValue</code></a></li><li><a href="JSAPI_reference/JS__ObjectValue-2.html" title="JS::ObjectValue converts a given JSObject to JS::Value. The conversion always succeeds."><code>JS::ObjectValue</code></a></li><li><a href="JSAPI_reference/JS__OrdinaryToPrimitive.html" title="JS::OrdinaryToPrimitive converts a JavaScript object to a specified type value, by the algorithm specified in ES6 draft rev 28 (2014 Oct 14) 7.1.1, second algorithm."><code>JS::OrdinaryToPrimitive</code></a></li><li><a href="JSAPI_reference/JS__PersistentRooted-2.html" title="Here, ptr represents the private member of JS::PersistentRooted&lt;T&gt;, typed with T."><code>JS::PersistentRooted</code></a></li><li><a href="JSAPI_reference/JS__PropertySpecNameEqualsId.html" title="JS::PropertySpecNameEqualsId determines if the given JSPropertySpec::name or JSFunctionSpec::name value equals the given jsid, and returns true if so."><code>JS::PropertySpecNameEqualsId</code></a></li><li><a href="JSAPI_reference/JS__PropertySpecNameIsSymbol.html" title="JS::PropertySpecNameIsSymbol determines if the given JSPropertySpec::name or JSFunctionSpec::name value is actually a symbol code and not a string, and returns true if so."><code>JS::PropertySpecNameIsSymbol</code></a></li><li><a href="JSAPI_reference/JS__PropertySpecNameToPermanentId.html" title="JS::PropertySpecNameToPermanentId creates a jsid that does not need to be marked for GC from JSPropertySpec::name or JSFunctionSpec::name. The resulting jsid, on success, is either an interned string or a well-known symbol; either way it is immune to GC so there is no need to visit *idp during GC marking.."><code>JS::PropertySpecNameToPermanentId</code></a></li><li><a href="JSAPI_reference/JS__ProtoKeyToId.html" title="JS::ProtoKeyToId converts a specified JS prototype key key, to a JS ID. JS::ProtoKeyToId stores a jsid to *idp."><code>JS::ProtoKeyToId</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS__Remove_Root.html" title="JS::Remove*Root removes the variable that rp points to from the garbage collector's root set."><code>JS::Remove*Root</code></a></li><li><a href="JSAPI_reference/JS__Rooted.html" title="Here, ptr represents the private member of JS::Rooted&lt;T&gt;, typed with T."><code>JS::Rooted</code></a></li><li><a href="JSAPI_reference/JS__SetLargeAllocationFailureCallback.html" title="If a large allocation fails when calling pod_{calloc,realloc}CanGC, the JS engine may call the large-allocation- failure callback, if set, to allow the embedding to flush caches, possibly perform shrinking GCs, etc. to make some room. The allocation will then be retried (and may still fail.)"><code>JS::SetLargeAllocationFailureCallback</code></a></li><li><a href="JSAPI_reference/JS__SetOutOfMemoryCallback.html" title="Unlike the error reporter, which is only called if the exception for an OOM bubbles up and is not caught, the JS::OutOfMemoryCallback is called immediately at the OOM site to allow the embedding to capture the current state of heap allocation before anything is freed. If the large-allocation-failure callback is called at all (not all allocation sites call the large-allocation-failure callback on failure), it is called before the out-of-memory callback; the out-of-memory callback is only called if the allocation still fails after the large-allocation-failure callback has returned."><code>JS::SetOutOfMemoryCallback</code></a></li><li><a href="JSAPI_reference/JS__SourceBufferHolder.html" title="JS::SourceBufferHolder is the container class for passing in script source buffers to the JS engine. This not only groups the buffer and length values, it also provides a way to optionally pass ownership of the buffer to the JS engine without copying. Rules for use:"><code>JS::SourceBufferHolder</code></a></li><li><a href="JSAPI_reference/JS__StringValue-2.html" title="JS::StringValue converts a given JSString to JS::Value. The conversion always succeeds."><code>JS::StringValue</code></a></li><li><a href="JSAPI_reference/JS__SymbolValue-2.html" title="JS::SymbolValue converts a given JS::Symbol to JS::Value. The conversion always succeeds."><code>JS::SymbolValue</code></a></li><li><a href="JSAPI_reference/JS__ToBoolean.html" title="JS::ToBoolean converts a JavaScript value to a boolean. It implements the ToBoolean operation described in ECMA 262-3 §9.2. This function can not fail and the return value is always the boolean conversion of the argument."><code>JS::ToBoolean</code></a></li><li><a href="JSAPI_reference/JS__ToInt32.html" title="JS::ToInt32 converts a JavaScript value to a signed 32bit integer. It implements the ToInt32 operator described in ECMA 262-3 §9.5."><code>JS::ToInt32</code></a></li><li><a href="JSAPI_reference/JS__ToInt64.html" title="JS::ToInt64 converts a JavaScript value to a signed 64bit integer."><code>JS::ToInt64</code></a></li><li><a href="JSAPI_reference/JS__ToNumber.html" title="JS::ToNumber converts a JavaScript value to a number. It implements the ToNumber operator described in ECMA 262-3 §9.3."><code>JS::ToNumber</code></a></li><li><a href="JSAPI_reference/JS__ToPrimitive-2.html" title="JS::ToPrimitive converts a JavaScript object, obj, to a primitive value using ECMAScript 6 ToPrimitive."><code>JS::ToPrimitive</code></a></li><li><a href="JSAPI_reference/JS__ToString-3.html" title="JS::ToString returns a string representation of a JavaScript value."><code>JS::ToString</code></a></li><li><a href="JSAPI_reference/JS__ToUint16.html" title="JS::ToInt16 converts a JavaScript value to an unsigned 16bit integer. It implements the ToInt16 operator described in ECMA 262-3 §9.7."><code>JS::ToUint16</code></a></li><li><a href="JSAPI_reference/JS__ToUint32.html" title="JS::ToInt32 converts a JavaScript value to an unsigned 32bit integer. It implements the ToInt32 operator described in ECMA 262-3 §9.6."><code>JS::ToUint32</code></a></li><li><a href="JSAPI_reference/JS__ToUint64.html" title="JS::ToInt64 converts a JavaScript value to an unsigned 64bit integer."><code>JS::ToUint64</code></a></li><li><a href="JSAPI_reference/JS__TrueHandleValue.html" title="JS::TrueHandleValue and JS::FalseHandleValue are JS::HandleValue constants that represent the JavaScript values true and false."><code>JS::TrueHandleValue</code></a></li><li><a href="JSAPI_reference/JS__TrueValue-2.html" title="JS::TrueValue creates a JS::Value that represents the JavaScript value true."><code>JS::TrueValue</code></a></li><li><a href="JSAPI_reference/JS__UndefinedHandleValue.html" title="JS::UndefinedHandleValue is a JS::HandleValue constant that represents the JavaScript value undefined."><code>JS::UndefinedHandleValue</code></a></li><li><a href="JSAPI_reference/JS__UndefinedValue-2.html" title="JS::UndefinedValue creates a JS::Value that represents the JavaScript value undefined."><code>JS::UndefinedValue</code></a></li><li><a href="JSAPI_Reference/JS__Value-2.html" title="A C++ variable of type JS::Value represents a value in JavaScript: a string, number, object (including arrays and functions), boolean, symbol, null, or undefined."><code>JS::Value</code></a></li><li><a href="JSAPI_reference/JSAutoByteString.html" title="JSAutoByteString takes the ownership of string and frees it in destructor."><code>JSAutoByteString</code></a></li><li><a href="JSAPI_reference/JSAutoCompartment.html" title=""><code>JSAutoCompartment</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSBool.html" title=""><code>JSBool</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSCheckAccessOp.html" title="Check whether obj[id] may be accessed per mode, returning JS_FALSE on error/exception, JS_TRUE on success with obj[id]'s stored value in *vp. As for JSPropertyOp, id is either a string or an int jsval."><code>JSCheckAccessOp</code></a></li><li><a href="JSAPI_reference/JSClass.html" title="Use JSClass to define a custom class of JavaScript objects. A JSClass has a name, flags, and several callback functions for advanced customization of object behavior."><code>JSClass</code></a></li><li><a href="JSAPI_reference/JSClass-2.html" title="Note that when a custom object is called, a this argument is calculated for it just as if it were a function. That is, the obj argument received by the JSNative is the this argument, not the custom object that was called!"><code>JSClass.call</code></a></li><li><a href="JSAPI_reference/JSClass-3.html" title="The flags field is of type uint32_t. Its value is the logical OR of zero or more of the following constants:"><code>JSClass.flags</code></a></li><li><a href="JSAPI_reference/JSConstDoubleSpec.html" title="JSConstDoubleSpecs is used to define a set of double values that are assigned as properties to an object using JS_DefineConstDoubles."><code>JSConstDoubleSpec</code></a></li><li><a href="JSAPI_reference/JSConvertOp.html" title="JSConvertOp callback specifies conversion behavior for objects having this class, implementing the ECMAScript [[DefaultValue]] behavior for them. On success it must return a primitive value in *vp."><code>JSConvertOp</code></a></li><li><a href="JSAPI_reference/JSDeletePropertyOp.html" title="JSDeletePropertyOp callback is a hook that applications may install to be called at some point during property access. A JSDeletePropertyOp may be installed on a JSClass to hook property deletes."><code>JSDeletePropertyOp</code></a></li><li><a href="JSAPI_reference/JSEnumerateOp.html" title="JSEnumerateOp is called just before an object is enumerated (via a for...in statement, an array comprehension, or a call to JS_Enumerate). It should define any remaining lazy properties that should be enumerable but are not yet defined in obj. This hook does not implement iteration: once the properties are defined, the JavaScript engine can enumerate them."><code>JSEnumerateOp</code></a></li><li><a href="JSAPI_reference/JSErrorFormatString.html" title="JSErrorFormatString is a struct to represent error message and type, returned by JS_ReportErrorNumber function."><code>JSErrorFormatString</code></a></li><li><a href="JSAPI_reference/JSErrorReport.html" title="JSErrorReport describes a single error that occurs in the execution of script."><code>JSErrorReport</code></a></li><li><a href="JSAPI_reference/JSExceptionState.html" title="A JSExceptionState object is returned by the JS_SaveExceptionState function, and is passed to functions JS_RestoreExceptionState and JS_DropExceptionState."><code>JSExceptionState</code></a></li><li><a href="JSAPI_reference/JSExnType.html" title="These types are part of a JSErrorFormatString structure. They define which error to throw in case of a runtime error. JSEXN_NONE marks an unthrowable error."><code>JSExnType</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSExtendedClass.html" title="To implement a custom class that uses any of the JSExtendedClass callbacks:"><code>JSExtendedClass</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSExtendedClass-2.html" title="See split objects."><code>JSExtendedClass.outerObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSExtendedClass-3.html" title="If a class has the JSCLASS_IS_EXTENDED bit set in its JSClass.flags and has a non-null JSExtendedClass.wrappedObject, then objects of that class may be wrappers. In a few cases the JavaScript engine will pretend the wrapper isn't there, instead operating on the object it wraps. In these cases the engine calls the JSExtendedClass.wrappedObject callback to get the wrapped object. Most classes do not implement wrappedObject."><code>JSExtendedClass.wrappedObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSFUN_BOUND_METHOD.html" title="This macro exists only for backward compatibility with existing applications. Its use is deprecated. Future versions of the JavaScript engine may not support or recognize this macro."><code>JSFUN_BOUND_METHOD</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSFUN_GLOBAL_PARENT.html" title=""><code>JSFUN_GLOBAL_PARENT</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSFastNative.html" title=""><code>JSFastNative</code></a></li><li><a href="JSAPI_reference/JSFinalizeOp.html" title="The JSFinalizeOp is analogous to Java finalizers or C++ destructors. The garbage collector calls this callback for each object it collects. The finalizer's job is to clean up any resources allocated by the instance which wouldn't normally be cleaned up by the garbage collector (private data stored in the object by the application, file handles, etc.)"><code>JSFinalizeOp</code></a></li><li><a href="JSAPI_reference/JSFreeOp.html" title="Various finalization API takes not JSContext * but rather either JSFreeOp structure or its library-private counterpart FreeOp. These structures wrap parameters that are passed to the finalizers removing most of explicit dependencies on JSContext in the finalization code."><code>JSFreeOp</code></a></li><li><a href="JSAPI_reference/JSFunction.html" title="JSFunction is a type in the JSAPI. The APIs JS_NewFunction, JS_DefineFunction, JS_CompileFunction, and their Unicode equivalents return values of type JSFunction *."><code>JSFunction</code></a></li><li><a href="JSAPI_reference/JSFunctionSpec.html" title="JSFunctionSpec defines the attributes for a single JS function to associate with an object. An application typically has an array of JSFunctionSpec to define all the functions for an object and calls JS_DefineFunctions or JS_InitClass to create the functions and assign them to an object."><code>JSFunctionSpec</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSGetObjectOps.html" title="JSObjectOps is used by JS_NewObject's internals to discover the set of high-level object operations to use for new objects of the given class. All native objects have a JSClass, which is stored as a private (int-tagged) pointer in object slots. In contrast, all native and host objects have a JSObjectMap at obj-&gt;map, which may be shared among a number of objects, and which contains the JSObjectOps *ops pointer used to dispatch object operations from API calls."><code>JSGetObjectOps</code></a></li><li><a href="JSAPI_reference/JSHasInstanceOp.html" title="JSHasInstanceOp is called to check whether v is an instance of obj. Return false on error or exception, true on success with true in *bp if v is an instance of obj, false in *bp otherwise."><code>JSHasInstanceOp</code></a></li><li><a href="JSAPI_reference/JSID_EMPTY.html" title="JSID_EMPTY is an internal jsid value which is used in type inference code."><code>JSID_EMPTY</code></a></li><li><a href="JSAPI_reference/JSID_IS_EMPTY.html" title="JSID_IS_EMPTY tests whether a specified JS ID, id, is JSID_EMPTY."><code>JSID_IS_EMPTY</code></a></li><li><a href="JSAPI_reference/JSID_IS_GCTHING.html" title="JSID_IS_GCTHING tests whether a specified JS ID, id, is a GC thing, and returns true if it's a GC thing."><code>JSID_IS_GCTHING</code></a></li><li><a href="JSAPI_reference/JSID_IS_INT.html" title="JSID_IS_INT tests whether a specified JS ID, id, is an integer, and returns true if it's an integer."><code>JSID_IS_INT</code></a></li><li><a href="JSAPI_reference/JSID_IS_STRING.html" title="JSID_IS_STRING tests whether a specified JS ID, id, is a string, and returns true if it's a string."><code>JSID_IS_STRING</code></a></li><li><a href="JSAPI_reference/JSID_IS_SYMBOL.html" title="JSID_IS_SYMBOL tests whether a specified JS ID, id, is a JS Symbol, and returns true if it's a JS Symbol."><code>JSID_IS_SYMBOL</code></a></li><li><a href="JSAPI_reference/JSID_IS_VOID.html" title="JSID_IS_VOID tests whether a specified JS ID, id, is JSID_VOID."><code>JSID_IS_VOID</code></a></li><li><a href="JSAPI_reference/JSID_IS_ZERO.html" title="JSID_IS_ZERO tests whether a specified JS ID, id, is zero (0 in its integer representation)."><code>JSID_IS_ZERO</code></a></li><li><a href="JSAPI_reference/JSID_VOID.html" title="JSID_VOID does not occur in JS scripts but may be used to indicate the absence of a valid jsid. A void jsid is not a valid id and only arises as an exceptional API return value, such as in JS_NextProperty. Embeddings must not pass JSID_VOID into JSAPI entry points expecting a jsid and do not need to handle JSID_VOID in hooks receiving a jsid except when explicitly noted in the API contract."><code>JSID_VOID</code></a></li><li><a href="JSAPI_reference/JSIdArray.html" title="JSIdArray is used to hold IDs for enumerated properties associated with an object."><code>JSIdArray</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSIteratorOp.html" title="The JavaScript engine calls the JSExtendedClass.iteratorObject callback to create an iterator object for a given object. The callback should return an iterator object or NULL if an error or exception occurred on cx."><code>JSIteratorOp</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSMarkOp.html" title="Call JS_MarkGCThing for each GC thing directly reachable from obj. Use JSVAL_IS_GCTHING to check whether a value needs to be marked and JSVAL_TO_GCTHING to convert the jsval to a pointer."><code>JSMarkOp</code></a></li><li><a href="JSAPI_reference/JSNative.html" title="JSNative is the type of native implementations of JavaScript functions.&nbsp; Full documentation of how to define a JSNative (or a JSFastNative, the equivalent typedef which preceded it) is available in the API header &quot;js/CallArgs.h&quot; Added in SpiderMonkey 24.&nbsp; This header is new, but the semantics it describes are applicable to all recent SpiderMonkey releases.&nbsp; The preferred way to implement a function is to use the JS::CallArgs structure defined there; the macros providing equivalent functionality are deprecated."><code>JSNative</code></a></li><li><a href="JSAPI_reference/JSNewEnumerateOp.html" title="From SpiderMonkey 38, JSNewEnumerateOp is the type of ObjectOps::enumerate. This callback overrides a portion of SpiderMonkey's default [[Enumerate]] internal method. When an ordinary object is enumerated, that object and each object on its prototype chain is tested for an enumerate op, and those ops are called in order. The properties each op adds to the properties vector are added to the set of values the for-in loop will iterate over. All of this is nonstandard."><code>JSNewEnumerateOp</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSNewResolveOp.html" title="Like JSResolveOp, but flags provide contextual information about the property access."><code>JSNewResolveOp</code></a></li><li><a href="JSAPI_reference/JSObject.html" title="Objects are made up of the following parts:"><code>JSObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOp.html" title="The callbacks of this type are:"><code>JSObjectOp</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps.html" title="The JSObjectOps.defaultValue callback corresponds to the [[DefaultValue]] method defined in ECMA 262-3 §8.6.2.6. Many expressions in the ECMAScript language, such as a+b, involve implicit conversion of the operands using [[DefaultValue]]."><code>JSObjectOps.defaultValue</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-2.html" title="Define obj[id], an own property of obj named id, having the given initial value, with the specified getter, setter, and attributes."><code>JSObjectOps.defineProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-3.html" title=""><code>JSObjectOps.destroyObjectMap</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-4.html" title="The following contract governs JSObjectOps callers and implementations:"><code>JSObjectOps.dropProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-5.html" title="For native objects, the enumerate callback first checks the JSCLASS_NEW_ENUMERATE flag of the object's class. If the flag is present, enumerate simply delegates the call to JSClass.enumerate."><code>JSObjectOps.enumerate</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-6.html" title="Get or set attributes of the property obj[id]. Returns JS_FALSE on error or exception, else JS_TRUE with current attributes in *attrsp. If prop is non-null, it must come from the *propp out parameter of a prior JSObjectOps.defineProperty or JSObjectOps.lookupProperty call."><code>JSObjectOps.getAttributes</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-7.html" title="Get, set, or delete obj[id], returning JS_FALSE on error or exception, JS_TRUE on success. If getting or setting, the new value is returned in *vp on success."><code>JSObjectOps.getProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-8.html" title="Get and set a required slot, one that should already have been allocated. These operations are infallible, so required slots must be pre-allocated, or implementations must suppress out-of-memory errors. The native ops (js_ObjectOps, see js/src/jsobj.c) access slots reserved by including a call to the JSCLASS_HAS_RESERVED_SLOTS(n) macro in the JSClass.flags initializer."><code>JSObjectOps.getRequiredSlot</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-9.html" title="Look for id in obj and its prototype chain, returning JS_FALSE on error or exception, JS_TRUE on success. On success, return null in *propp if id was not found. If id was found, return the first object searching from obj along its prototype chain in which id names a direct property in *objp, and return a non-null, opaque property pointer in *propp."><code>JSObjectOps.lookupProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-10.html" title="Create a new instance of (a concrete subclass of) JSObjectMap (see jsobj.h), with the nrefs and ops members initialized from the same-named parameters, and with the nslots and freeslot members initialized according to ops and clasp. Return null on error, non-null on success."><code>JSObjectOps.newObjectMap</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectOps-11.html" title="These hooks must check for cycles without deadlocking, and otherwise take special steps. See js_SetPrototype or js_SetParent in js/src/jsobj.c for an example."><code>JSObjectOps.setProto</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSObjectPrincipalsFinder.html" title="The JavaScript engine calls this callback to obtain principals for a JSPrincipals.subsume check."><code>JSObjectPrincipalsFinder</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSPRINCIPALS_HOLD.html" title="JSPRINCIPALS_HOLD and JSPRINCIPALS_DROP are used to manage memory for JSPrincipals objects."><code>JSPRINCIPALS_HOLD</code></a></li><li><a href="JSAPI_reference/JSPrincipals.html" title="JSPrincipals is the abstract base class of all principals objects, the objects that identify the source of a function or script and are used to determine its privileges. A principals object is like a Java CodeSource."><code>JSPrincipals</code></a></li><li><a href="JSAPI_reference/JSPrincipalsTranscoder.html" title="JSPrincipalsTranscoder is the type of a security callback that can be configured using JS_SetPrincipalsTranscoderJSAPI 1.8 and earlier or JS_SetRuntimeSecurityCallbacksAdded in SpiderMonkey 1.8.1."><code>JSPrincipalsTranscoder</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSProperty.html" title="JSProperty is the abstract base class of all object properties. It is used internally in JSObjectOps.lookupProperty, getAttributes, setAttributes, and dropProperty."><code>JSProperty</code></a></li><li><a href="JSAPI_reference/JSPropertyDescriptor.html" title="The JSPropertyDescriptor holds the object that has the property, attributes of the property, getter and setter operations, and the value."><code>JSPropertyDescriptor</code></a></li><li><a href="JSAPI_reference/JSPropertyOp.html" title="They are also the types of the JSClass.addProperty, getProperty, and setProperty callbacks, which are called during object property accesses."><code>JSPropertyOp</code></a></li><li><a href="JSAPI_reference/JSPropertySpec.html" title="JSPropertySpec defines the attributes for a single JS property to associate with an object. Pass to JS_DefineProperties or JS_InitClass to create the properties and assign them to an object."><code>JSPropertySpec</code></a></li><li><a href="JSAPI_reference/JSProtoKey.html" title="Each of these types corresponds to standard objects in JavaScript. Some of them are Nightly only (depends on each option)."><code>JSProtoKey</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSReserveSlotsOp.html" title="JSClass offers the following hook:"><code>JSReserveSlotsOp</code></a></li><li><a href="JSAPI_reference/JSResolveOp.html" title="JSResolveOp callback is a hook which is called when a property is not found on an object."><code>JSResolveOp</code></a></li><li><a href="JSAPI_reference/JSRuntime.html" title="In the JSAPI, JSRuntime is the top-level object that represents an instance of the JavaScript engine. A program typically has only one JSRuntime, even if it has many threads. The JSRuntime is the universe in which JavaScript objects live; they can't travel to other JSRuntimes."><code>JSRuntime</code></a></li><li><a href="JSAPI_reference/JSSecurityCallbacks.html" title="Editorial review completed."><code>JSSecurityCallbacks.contentSecurityPolicyAllows</code></a></li><li><a href="JSAPI_reference/JSString.html" title="Conceptually, a JavaScript string is just an array of char16_t characters and a length. You should not rely on the structure of JSString, because it is subject to change; instead, treat JSString objects as opaque."><code>JSString</code></a></li><li><a href="JSAPI_reference/JSStringFinalizer.html" title="JSStringFinalizer::finalize finalizes external strings created by JS_NewExternalString."><code>JSStringFinalizer</code></a></li><li><a href="JSAPI_reference/JSTraceOp.html" title="JSTraceOp is the function type for trace operation of the class called to enumerate all traceable things reachable from obj's private data structure. For each such thing, a trace implementation must call one of the JS_Call*Tracer variants on the thing."><code>JSTraceOp</code></a></li><li><a href="JSAPI_reference/JSType.html" title=""><code>JSType</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_BOOLEAN.html" title="JSVAL_IS_BOOLEAN(v) is true if the given JavaScript value, v, is a boolean value (that is, it is either JSVAL_TRUE or JSVAL_FALSE)."><code>JSVAL_IS_BOOLEAN</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_DOUBLE.html" title="JSVAL_IS_DOUBLE(v) is true if v is a number represented in memory as a jsdouble."><code>JSVAL_IS_DOUBLE</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_GCTHING.html" title="JSVAL_IS_GCTHING(v) is true if the jsval v is either JSVAL_NULL or a reference to a value that is subject to garbage collection. JavaScript performs automatic garbage collection of objects, strings, and doubles."><code>JSVAL_IS_GCTHING</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_INT.html" title="JSVAL_IS_INT(v) is true if the jsval v is a number represented in memory as an integer."><code>JSVAL_IS_INT</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_NULL.html" title="JSVAL_IS_NULL(v) is true if v is JSVAL_NULL, which is the JavaScript null value."><code>JSVAL_IS_NULL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_NUMBER.html" title="JSVAL_IS_NUMBER(v) is true if v is a JavaScript number."><code>JSVAL_IS_NUMBER</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_OBJECT.html" title="JSVAL_IS_OBJECT(v) returns true if v is either an object or JSVAL_NULL. This indicates that it is safe to call JSVAL_TO_OBJECT(v) to convert v to type JSObject *. If v is a string, number, boolean, or undefined, the result is false."><code>JSVAL_IS_OBJECT</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_PRIMITIVE.html" title="JSVAL_IS_PRIMITIVE(v) is true if v is undefined, null, a boolean, a number, or a string. Otherwise it is false, and v is an object."><code>JSVAL_IS_PRIMITIVE</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_STRING.html" title="JSVAL_IS_STRING(v) is true if v is a string."><code>JSVAL_IS_STRING</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_IS_VOID.html" title="JSVAL_IS_VOID(v) is true if v is JSVAL_VOID, which represents the JavaScript value undefined."><code>JSVAL_IS_VOID</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_LOCK.html" title="JSVAL_LOCK is a deprecated feature that is supported only for backward compatibility with existing applications. To lock a value, use local roots with JS_AddRoot."><code>JSVAL_LOCK</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_NULL.html" title="JSVAL_NULL is a jsval constant that represents the JavaScript value null. It is equivalent to OBJECT_TO_JSVAL(NULL)."><code>JSVAL_NULL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_ONE.html" title="JSVAL_ONE is equivalent to INT_TO_JSVAL(1)."><code>JSVAL_ONE</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TO_BOOLEAN.html" title="JSVAL_TO_BOOLEAN&nbsp;casts the value v to a C integer, either 0 or 1. As a precondition, JSVAL_IS_BOOLEAN(v) must be true. That is, v must be either JSVAL_TRUE or JSVAL_FALSE. Otherwise the behavior is undefined."><code>JSVAL_TO_BOOLEAN</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TO_DOUBLE.html" title="JSVAL_TO_DOUBLE casts a specified JS value, v, to a C floating-point number of type jsdouble. As a precondition, JSVAL_IS_DOUBLE(v) must be true. This function is not type-safe:&nbsp;if v is an integer, string, null, or anything else, the behavior is undefined."><code>JSVAL_TO_DOUBLE</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TO_GCTHING.html" title="JSVAL_TO_GCTHING casts a jsval, v, to a raw pointer. The type of the result is void *."><code>JSVAL_TO_GCTHING</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TO_INT.html" title="JSVAL_TO_INT converts a specified integer jsval, v, to the corresponding C integer value. If v is any other type of value, the result is unspecified."><code>JSVAL_TO_INT</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TO_OBJECT.html" title="JSVAL_TO_OBJECT casts the argument, v, to type JSObject&nbsp;*. As a precondition, JSVAL_IS_OBJECT(v) must be true. That is, v must be either a reference to an object or JSVAL_NULL. This function is not type-safe: if v is not an object or JSVAL_NULL, the behavior is undefined."><code>JSVAL_TO_OBJECT</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TO_STRING.html" title="JSVAL_TO_STRING casts the argument, v, to type JSString&nbsp;*. As a precondition, JSVAL_IS_STRING(v) must be true. This function is not type-safe: if v is not a string, the behavior is undefined."><code>JSVAL_TO_STRING</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_TRUE.html" title="JSVAL_TRUE and JSVAL_FALSE are jsval constants that represent the JavaScript boolean values, true and false. They are equivalent to BOOLEAN_TO_JSVAL(true) and BOOLEAN_TO_JSVAL(false), respectively."><code>JSVAL_TRUE</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_UNLOCK.html" title="JSVAL_UNLOCK is a deprecated feature that is supported only for backward compatibility with existing applications. To unlock a value, use local roots with JS_RemoveRoot."><code>JSVAL_UNLOCK</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_VOID.html" title="JSVAL_VOID is a jsval constant that represents the JavaScript value undefined."><code>JSVAL_VOID</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSVAL_ZERO.html" title="JSVAL_ZERO is equivalent to INT_TO_JSVAL(0)."><code>JSVAL_ZERO</code></a></li><li><a href="JSAPI_reference/JSVersion.html" title="The JSVersion enumerated type includes the following values. Each version has a name, which is a string used by JS_StringToVersion and JS_VersionToString."><code>JSVersion</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JSXDRObjectOp.html" title="Serialize or deserialize an object, given an XDR state record representing external data. See jsxdrapi.h."><code>JSXDRObjectOp</code></a></li><li><a href="JSAPI_reference/JS_ASSERT_STRING_IS_FLAT.html" title="JS_ASSERT_STRING_IS_FLAT asserts the string is flattened, and returns a pointer to JSFlatString."><code>JS_ASSERT_STRING_IS_FLAT</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_AddRoot.html" title="These functions are obsoleted, use JS::PersistentRooted instead."><code>JS_Add*Root</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_AddArgumentFormatter.html" title="JS_AddArgumentFormatter establishes formatter as the conversion function for format strings beginning with format in the context cx. On success, it returns JS_TRUE. Otherwise it returns JS_FALSE. (At the moment, JS_AddArgumentFormatter fails only if there is no memory available to record the registration.)"><code>JS_AddArgumentFormatter</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_AddExternalStringFinalizer.html" title="Add a finalizer for external strings created by JS_NewExternalString using a type-code returned from this function, and that understands how to free or release the memory pointed at by JS_GetStringChars(str)."><code>JS_AddExternalStringFinalizer</code></a></li><li><a href="JSAPI_reference/JS_AddFinalizeCallback.html" title="JS_AddFinalizeCallback add a callback function which the garbage collector calls at several points during garbage collection. rt is the runtime in which you specify the callback. cb is a pointer to the callback function to add."><code>JS_AddFinalizeCallback</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_AliasElement.html" title="JS_AliasElement assigns an alternate index number for an element or numeric property associated with a native object. obj is the object to which the element belongs. name is the element's current index in the object, and alias is the alternate index to assign to the element."><code>JS_AliasElement</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_AliasProperty.html" title="JS_AliasProperty assigns an alternate name for a property associated with a native object. obj is the object to which the property belongs. name is the property's current name in the object, and alias is the alternate name to assign to the property."><code>JS_AliasProperty</code></a></li><li><a href="JSAPI_reference/JS_AlreadyHasOwnProperty.html" title="These functions attempt to determine whether a property already exists on a specific JSObject without modifying the object. By design, this search may not find a property that other property lookup functions, such as JS_LookupProperty, would find."><code>JS_AlreadyHasOwnProperty</code></a></li><li><a href="JSAPI_reference/JS_BeginRequest.html" title="Indicates to the JS engine that the calling thread is entering a region of code that may call into the JSAPI but does not block."><code>JS_BeginRequest</code></a></li><li><a href="JSAPI_reference/JS_BindCallable.html" title="JS_BindCallable binds the given callable to use the given object as this."><code>JS_BindCallable</code></a></li><li><a href="JSAPI_reference/JS_BufferIsCompilableUnit.html" title="Given a buffer, return false if the buffer might become a valid JavaScript statement with the addition of more lines. Otherwise return true. The intent is to support interactive compilation - accumulate lines in a buffer until JS_BufferIsCompilableUnit is true, then pass it to the compiler."><code>JS_BufferIsCompilableUnit</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CStringsAreUTF8.html" title="By default, all C/C++ strings passed into the JSAPI are treated as ISO/IEC&nbsp;8859-1, also known as ISO-Latin-1. That is, each byte is treated as a Unicode character, and there is no way to pass in a string containing characters beyond U+00FF."><code>JS_CStringsAreUTF8</code></a></li><li><a href="JSAPI_reference/JS_CallFunction.html" title="Calls a specified JS function."><code>JS_CallFunction</code></a></li><li><a href="JSAPI_reference/JS_CheckAccess.html" title="Check whether a running script may access a given object property."><code>JS_CheckAccess</code></a></li><li><a href="JSAPI_reference/JS_CheckForInterrupt-2.html" title="JS_CheckForInterrupt checks for the interrupt, and handle it if it's pending. JS_CheckForInterrupt returns false if interrupt callback returns false."><code>JS_CheckForInterrupt</code></a></li><li><a href="JSAPI_reference/JS_ClearContextThread.html" title="Transfer a JSContext from one thread to another."><code>JS_ClearContextThread</code></a></li><li><a href="JSAPI_reference/JS_ClearDateCaches.html" title="JS_ClearDateCaches clears the cache of calculated local time from each Date object. Call to propagate a system timezone change."><code>JS_ClearDateCaches</code></a></li><li><a href="JSAPI_reference/JS_ClearNewbornRoots.html" title="The last GC thing of each type (object, string, double, external string types) created on a given context is kept alive until another thing of the same type is created, using a newborn root in the context. These newborn roots help native code protect newly-created GC-things from GC invocations activated before those things can be rooted using local or global roots."><code>JS_ClearNewbornRoots</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ClearNonGlobalObject.html" title="JS_ClearNonGlobalObject removes all of obj's own properties, except the special __proto__ and __parent__ properties, in a single operation. Properties belonging to objects on obj's prototype chain are not affected."><code>JS_ClearNonGlobalObject</code></a></li><li><a href="JSAPI_reference/JS_ClearPendingException.html" title="JS_ClearPendingException cancels the currently pending exception in cx, if any. (There is a pending exception if the most recently thrown exception in cx has not yet been caught or cleared.)"><code>JS_ClearPendingException</code></a></li><li><a href="JSAPI_reference/JS_ClearRegExpStatics.html" title="JS_ClearRegExpStatics clears the pending input string and flags of the built-in RegExp object."><code>JS_ClearRegExpStatics</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ClearScope.html" title="JS_ClearScope removes all of obj's own properties, except the special __proto__ and __parent__ properties, in a single operation. Properties belonging to objects on obj's prototype chain are not affected."><code>JS_ClearScope</code></a></li><li><a href="JSAPI_reference/JS_CloneFunctionObject.html" title="JS_CloneFunctionObject creates a new function object from funobj. The new object has the same code and argument list as funobj, but uses parent as its enclosing scope. This can be helpful if funobj is an extant function that you wish to use as if it were enclosed by a newly-created global object."><code>JS_CloneFunctionObject</code></a></li><li><a href="JSAPI_reference/JS_CompareStrings.html" title="JS_CompareStrings compares two JS strings, str1 and str2. If the strings are identical in content and length, JS_CompareStrings stores 0 in *result. If str1 is less than str2, *result is less than 0. If str1 is greater than str2, *result is greater than 0."><code>JS_CompareStrings</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileFileHandleForPrincipals.html" title="Please provide a description of this function."><code>JS_CompileFileHandleForPrincipals</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileFileHandleForPrincipalsVersion.html" title="Please provide a description for this function."><code>JS_CompileFileHandleForPrincipalsVersion</code></a></li><li><a href="JSAPI_reference/JS_CompileFunction.html" title="JS_CompileFunction compiles a function from a text string, bytes, and optionally associates it with a JS object, obj. JS_CompileUCFunction is the Unicode version of the function."><code>JS_CompileFunction</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileFunctionForPrincipals.html" title="JS_CompileFunctionForPrincipals compiles a security-enabled function from a text string, bytes, and associates it with a JS object, obj. JS_CompileUCFunctionForPrincipals is the Unicode version of the function."><code>JS_CompileFunctionForPrincipals</code></a></li><li><a href="JSAPI_reference/JS_CompileScript.html" title="JS_CompileScript compiles a script, source, for execution. JS_CompileUCScript is the Unicode version of the function."><code>JS_CompileScript</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileScriptForPrincipals.html" title="JS_CompileScriptForPrincipals compiles a security-enabled script, src, for execution. JS_CompileUCScriptForPrincipals is the Unicode version of the function. The script is associated with a JS object."><code>JS_CompileScriptForPrincipals</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileUCFunctionForPrincipalsVersion.html" title="Please provide a description for this function."><code>JS_CompileUCFunctionForPrincipalsVersion</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileUTF8File.html" title="JS_CompileUTF8File compiles the text of script in an external file location for execution by the JS engine. filename is the name of the file containing the script to compile."><code>JS_CompileUTF8File</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_CompileUTF8FileHandle.html" title=""><code>JS_CompileUTF8FileHandle</code></a></li><li><a href="JSAPI_reference/JS_ConcatStrings.html" title="JS_ConcatStrings concatenates two JS strings, str1 and str2, and returns the result. The result could be the same as one of the input strings, if the other string is zero length. When the string concatenation fails NULL is returned."><code>JS_ConcatStrings</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ConstructObject.html" title="JS_ConstructObject creates a new object of the specified class, with the specified prototype and parent, then invokes a constructor function to initialize the new object. cx is a pointer to a context associated with the runtime in which to create the new object. clasp is a pointer to the class of object to create. proto and parent may specify objects to be used as the new object's prototype and parent. If either is NULL, the engine tries to find reasonable defaults."><code>JS_ConstructObject</code></a></li><li><a href="JSAPI_reference/JS_ContextIterator.html" title="JS_ContextIterator steps through the set of contexts associated with the runtime rt. Each call to JS_ContextIterator returns the next context in the cycle."><code>JS_ContextIterator</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ConvertArguments.html" title="JS_ConvertArguments provides a convenient way to translate a series of JS values into their corresponding JS types with a single function call. It saves you from having to write separate tests and elaborate if...else statements in your function code to retrieve and translate multiple JS values for use with your own functions."><code>JS_ConvertArguments</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ConvertArgumentsVA.html" title="JS_ConvertArgumentsVA is to JS_ConvertArguments as vprintf is to printf. See JS_ConvertArguments for further information."><code>JS_ConvertArgumentsVA</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ConvertValue.html" title="JS_ConvertValue converts a JavaScript value, v, to the specified type. On success, the converted value is stored in *vp. Typically users of this function set vp to point to v, so that if conversion is successful, v now contains the converted value."><code>JS_ConvertValue</code></a></li><li><a href="JSAPI_reference/JS_DecompileFunction.html" title="JS_DecompileFunction generates the complete source code of a function declaration from a function's compiled form, fun."><code>JS_DecompileFunction</code></a></li><li><a href="JSAPI_reference/JS_DecompileFunctionBody.html" title="JS_DecompileFunctionBody generates the source code of a function's body, minus the function keyword, name, parameters, and braces, from a function's compiled form, fun."><code>JS_DecompileFunctionBody</code></a></li><li><a href="JSAPI_reference/JS_DecompileScript.html" title="JS_DecompileScript returns the source code of script. If script is a function, it calls JS_DecompileFunction. Otherwise, it returns the original source code of the script. If the script is not cached, it tries to load the source from file, and returns nullptr if an error happened while loading."><code>JS_DecompileScript</code></a></li><li><a href="JSAPI_reference/JS_DecompileScriptObject.html" title="FIXME: Please provide a description for this function."><code>JS_DecompileScriptObject</code></a></li><li><a href="JSAPI_reference/JS_DeepFreezeObject.html" title="JS_DeepFreezeObject freezes obj, and all objects it refers to, recursively. This will not recurse through non-extensible objects, on the assumption that those are already deep-frozen."><code>JS_DeepFreezeObject</code></a></li><li><a href="JSAPI_reference/JS_DefaultValue.html" title="Renamed to JS::ToPrimitive from JSAPI 44."><code>JS_DefaultValue</code></a></li><li><a href="JSAPI_reference/JS_DefineConstDoubles.html" title="JS_DefineConstDoubles creates one or more properties for a specified object, obj, where each property consists of a double value."><code>JS_DefineConstDoubles</code></a></li><li><a href="JSAPI_reference/JS_DefineElement.html" title="JS_DefineElement defines a numeric property for a specified object, obj."><code>JS_DefineElement</code></a></li><li><a href="JSAPI_reference/JS_DefineFunction.html" title="JS_DefineFunction exposes a C/C++ function to scripts by defining a new method on an existing JavaScript object. It creates the new Function object as though by calling JS_NewFunction, then makes it a method of obj as though by calling JS_DefineProperty. JS_DefineUCFunction is the Unicode version of the function."><code>JS_DefineFunction</code></a></li><li><a href="JSAPI_reference/JS_DefineFunctions.html" title="JS_DefineFunctions creates zero or more functions and makes them properties (methods) of a specified object, obj, as if by calling JS_DefineFunction repeatedly."><code>JS_DefineFunctions</code></a></li><li><a href="JSAPI_reference/JS_DefineObject.html" title="JS_DefineObject creates a new object of the class clasp and assigns it to a new property of an existing object, obj. name is the property name to assign to obj to hold the new object, and flags contains the property attributes to set for the newly created property."><code>JS_DefineObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DefineOwnProperty.html" title="JS_DefineOwnProperty implements the ECMAScript defined function Object.defineProperty. So the same restrictions apply as for that function (e.g. it is not possible to change a non-configurable property)."><code>JS_DefineOwnProperty</code></a></li><li><a href="JSAPI_reference/JS_DefineProperties.html" title="JS_DefineProperties creates properties on a specified object, obj."><code>JS_DefineProperties</code></a></li><li><a href="JSAPI_reference/JS_DefineProperty.html" title="JS_DefineProperty defines a single property in a specified object, obj. JS_DefineUCProperty is the Unicode version of the function. JS_DefinePropertyById is the same but takes a JS::HandleId for the property name."><code>JS_DefineProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DefinePropertyWithTinyId.html" title="JS_DefinePropertyWithTinyId defines an object property with a tiny id. JS_DefineUCPropertyWithTinyId is the Unicode version of the function. Except for the tinyid parameter, these functions behave exactly as JS_DefineProperty and JS_DefineUCProperty. See those functions for more details."><code>JS_DefinePropertyWithTinyId</code></a></li><li><a href="JSAPI_reference/JS_DeleteElement.html" title="JS_DeleteElement removes a specified element or numeric property, index, from an object, obj. If an object references an element belonging to a prototype, the element reference is removed from the object, but the prototype's element is not deleted. If deletion is successful, JS_DeleteElement returns true. Otherwise it returns false."><code>JS_DeleteElement</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DeleteElement2.html" title="JS_DeleteElement2 removes a specified numeric property, index, from an object, obj. If obj inherits the specified property from a prototype, the property is removed from the object, but not from the prototype. If deletion is successful, JS_DeleteElement2 stores true to *succeeded and returns true. Otherwise it returns false and the value of *succeeded is undefined."><code>JS_DeleteElement2</code></a></li><li><a href="JSAPI_reference/JS_DeleteProperty.html" title="JS_DeleteProperty removes a specified property, name, from an object, obj. JS_DeletePropertyById is the same but takes a jsid for the property name. These functions are identical to JS_DeleteProperty2 and JS_DeletePropertyById2 except that they do not have an out parameter."><code>JS_DeleteProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DeleteProperty2.html" title="JS_DeleteProperty2 removes a specified property, name, from an object, obj, and stores true or false in *succeeded. It behaves like the JavaScript expression delete obj[name]. JS_DeleteUCProperty2 is the Unicode version of the function. JS_DeletePropertyById2 is the same but takes a JS::HandleId for the property name."><code>JS_DeleteProperty2</code></a></li><li><a href="JSAPI_reference/JS_DestroyContext.html" title="These functions destroy a context, cx. JS_DestroyContext additionally performs garbage collection to reclaim any memory that was being used by cx's global object. JS_DestroyContextNoGC does not perform garbage collection. JS_DestroyContextMaybeGC may or may not perform garbage collection; the engine makes an educated guess as to whether enough memory would be reclaimed to justify the work."><code>JS_DestroyContext</code></a></li><li><a href="JSAPI_reference/JS_DestroyIdArray.html" title="JS_DestroyIdArray frees the ID array pointed to by ida."><code>JS_DestroyIdArray</code></a></li><li><a href="JSAPI_reference/JS_DestroyRuntime.html" title="JS_DestroyRuntime frees the specified the JavaScript runtime environment, rt. Call JS_DestroyRuntime after completing all other JS API calls. JS_DestroyRuntime garbage collects and frees the memory previously allocated by JS_NewRuntime."><code>JS_DestroyRuntime</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DestroyScript.html" title="JS_DestroyScript destroys the given compiled script, freeing the memory allocated to it. The script must not be currently executing (in any context, at any level of the stack) and must not be used again afterwards."><code>JS_DestroyScript</code></a></li><li><a href="JSAPI_reference/JS_DoubleIsInt32.html" title="JS_DoubleIsInt32 returns true if d i sequal to *ip."><code>JS_DoubleIsInt32</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DoubleToInt32.html" title="JS_DoubleToInt32 converts a C floating-point number of type double to int32, a signed 32-bit integer."><code>JS_DoubleToInt32</code></a></li><li><a href="JSAPI_reference/JS_DropExceptionState.html" title="This function destroys the specified JSExceptionState object, unrooting as necessary any attached exception object and freeing the memory resources associated with the JSExceptionState object."><code>JS_DropExceptionState</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DumpHeap.html" title="See bug&nbsp;378261 for detail."><code>JS_DumpHeap</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_DumpNamedRoots.html" title="Each call to JS_AddNamedRoot creates a record in a table of named roots maintained by the garbage collector. JS_DumpNamedRoots provides a way for the application to access the contents of that table. It calls the dump function once for each named root in the given runtime rt. In pseudocode:"><code>JS_DumpNamedRoots</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_EncodeCharacters.html" title="JS_EncodeCharacters copies the characters of a jschar array into a char array, converting the 16-bit values to 8-bit values.&nbsp;If SpiderMonkey was built with JS_C_STRINGS_ARE_UTF8 defined or JS_SetCStringsAreUTF8 was called, the string is converted to UTF-8.&nbsp; Otherwise each character is simply truncated to 8 bits."><code>JS_EncodeCharacters</code></a></li><li><a href="JSAPI_reference/JS_EncodeString.html" title="JS_EncodeString and JS_EncodeStringToUTF8 convert the specified JavaScript str to a C string (an array of 8-bit chars)."><code>JS_EncodeString</code></a></li><li><a href="JSAPI_reference/JS_EncodeStringToBuffer.html" title="JS_EncodeStringToBuffer converts the specified JavaScript str to a C string (an array of 8-bit chars) and fills the specified buffer with up to length bytes of the string in UTF-8 format. It returns the length of the whole string encoding or (size_t)-1 if the string can't be encoded as bytes. If the returned value is greater than the length you specified, the string was truncated."><code>JS_EncodeStringToBuffer</code></a></li><li><a href="JSAPI_reference/JS_EnterCompartment.html" title=""><code>JS_EnterCompartment</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_EnterCrossCompartmentCall.html" title=""><code>JS_EnterCrossCompartmentCall</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_EnterLocalRootScope.html" title="Scoped local root management allows native functions, getter/setters, etc. to avoid calling JS_AddRoot and JS_RemoveRoot to manage global roots temporarily."><code>JS_EnterLocalRootScope</code></a></li><li><a href="JSAPI_reference/JS_Enumerate.html" title="JS_Enumerate gets the ids of all own properties of the specified object, obj, that have the JSPROP_ENUMERATE attribute. (The term own property refers to a property that is not inherited from the object's prototype.) This is not quite the same behavior as a JavaScript for...in loop, which converts all property ids to strings and also enumerates inherited properties."><code>JS_Enumerate</code></a></li><li><a href="JSAPI_reference/JS_EnumerateDiagnosticMemoryRegions.html" title="JS_EnumerateDiagnosticMemoryRegions enumerates memory regions that contain diagnostic information intended to be included in crash report minidumps."><code>JS_EnumerateDiagnosticMemoryRegions</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_EnumerateResolvedStandardClasses.html" title="JS_EnumerateResolvedStandardClasses enumerates any already-resolved standard class ids into ida, or into a new JSIdArray if ida is NULL. Return the augmented array on success, NULL on failure with ida (if it was non-null on entry) destroyed."><code>JS_EnumerateResolvedStandardClasses</code></a></li><li><a href="JSAPI_reference/JS_EnumerateStandardClasses.html" title="The global object's class's enumerate op should call JS_EnumerateStandardClasses(cx, obj), to define eagerly during for...in loops any classes not yet resolved lazily."><code>JS_EnumerateStandardClasses</code></a></li><li><a href="JSAPI_reference/JS_ErrorFromException.html" title="If obj is an exception object, the exception will have (or be able to lazily create) an error report struct, and JS_ErrorFromException will return the address of that struct. Otherwise, it returns nullptr. The lifetime of the error report struct that might be returned is the same as the lifetime of the exception object."><code>JS_ErrorFromException</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_EvaluateScript.html" title="JS_EvaluateScript compiles and executes a script in the specified scope, obj. JS_EvaluateUCScript is the Unicode version of the function."><code>JS_EvaluateScript</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_EvaluateScriptForPrincipals.html" title=""><code>JS_EvaluateScriptForPrincipals</code></a></li><li><a href="JSAPI_reference/JS_ExecuteRegExp.html" title="JS_ExecuteRegExp and JS_NewRegExpObjectNoStatics execute the RegExp object, reobj, to the specified input string, chars, from *indexp index."><code>JS_ExecuteRegExp</code></a></li><li><a href="JSAPI_reference/JS_ExecuteScript.html" title="JS_ExecuteScript executes a previously-compiled script, script."><code>JS_ExecuteScript</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ExecuteScriptPart.html" title="JS_ExecuteScriptPart executes part of a previously compiled script, script. The part parameter must be either JSEXEC_PROLOG to execute the script prolog or JSEXEC_MAIN to execute the main section of the script."><code>JS_ExecuteScriptPart</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ExecuteScriptVersion.html" title="JS_ExecuteScript executes a previously-compiled script, script."><code>JS_ExecuteScriptVersion</code></a></li><li><a href="JSAPI_reference/JS_FORGET_STRING_FLATNESS.html" title="JS_FORGET_STRING_FLATNESS converts JSFlatString * to JSString *."><code>JS_FORGET_STRING_FLATNESS</code></a></li><li><a href="JSAPI_reference/JS_FS.html" title="Use these macros to define an array of JSFunctionSpecs to pass to JS_DefineFunctions or JS_InitClass."><code>JS_FS</code></a></li><li><a href="JSAPI_reference/JS_FileEscapedString.html" title="JS_FileEscapedString writes str into file fp escaping any non-printable or non-ASCII character. If quote is not 0, it must be a single or double quote character that will quote the output."><code>JS_FileEscapedString</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_Finish.html" title="JS_Finish is obsolete. Use JS_DestroyRuntime instead."><code>JS_Finish</code></a></li><li><a href="JSAPI_reference/JS_FlattenString.html" title="JS_FlattenString flattens a string str and returns a pointer to JSFlatString."><code>JS_FlattenString</code></a></li><li><a href="JSAPI_reference/JS_FlushCaches.html" title="."><code>JS_FlushCaches</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ForgetLocalRoot.html" title="This function is used to interact with scoped local root management. See JS_EnterLocalRootScope for more on this topic."><code>JS_ForgetLocalRoot</code></a></li><li><a href="JSAPI_reference/JS_ForwardGetPropertyTo.html" title="JS_ForwardGetPropertyTo is the base implementation of JS_GetProperty, JS_GetUCProperty, JS_GetPropertyById etc, where onBehalfOf is same to obj."><code>JS_ForwardGetPropertyTo</code></a></li><li><a href="JSAPI_reference/JS_FreezeObject.html" title="Freezes an object. This means that other code cannot delete, add or change any properties on the object. See ES5's Object.freeze method."><code>JS_FreezeObject</code></a></li><li><a href="JSAPI_reference/JS_GC.html" title="JS_GC performs garbage collection of JS objects, strings and other internal data structures that are no longer reachable in the specified runtime. Garbage collection frees memory so that it can be reused by the system."><code>JS_GC</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GET_CLASS.html" title="JS_GET_CLASS returns a pointer to the JSClass associated with a specified JS object, obj. The application must treat the JSClass as read-only."><code>JS_GET_CLASS</code></a></li><li><a href="JSAPI_reference/JS_GetArrayLength.html" title="JS_GetArrayLength gets the .length property of obj as though by calling JS_GetProperty and converts it to a 32-bit unsigned integer. If obj is an array (see JS_IsArrayObject), this is guaranteed to succeed, because the .length property of an array is always a number and can't be deleted or redefined."><code>JS_GetArrayLength</code></a></li><li><a href="JSAPI_reference/JS_GetArrayPrototype.html" title="JS_GetArrayPrototype() retrieves the original Array.prototype of a specified object, obj.&nbsp; If an error occurs, it returns NULL."><code>JS_GetArrayPrototype</code></a></li><li><a href="JSAPI_reference/JS_GetClass.html" title="JS_GetClass returns a pointer to the JSClass associated with a specified JS object, obj. The application must treat the JSClass as read-only. If obj has no JSClass, this returns NULL."><code>JS_GetClass</code></a></li><li><a href="JSAPI_reference/JS_GetClassObject.html" title="JS_GetClassObject gets the builtin class costructor for the specified prototype key."><code>JS_GetClassObject</code></a></li><li><a href="JSAPI_reference/JS_GetClassPrototype.html" title="JS_GetClassPrototype gets the builtin class costructor for the specified prototype key."><code>JS_GetClassPrototype</code></a></li><li><a href="JSAPI_reference/JS_GetCompartmentPrivate.html" title="Please provide a description for this function."><code>JS_GetCompartmentPrivate</code></a></li><li><a href="JSAPI_reference/JS_GetConstructor.html" title="JS_GetConstructor retrieves the constructor property of a given object, obj. If the result is a Function object, JS_GetConstructor returns a pointer to that object. Otherwise, it reports an error and returns NULL."><code>JS_GetConstructor</code></a></li><li><a href="JSAPI_reference/JS_GetContextPrivate.html" title="Each JSContext has two fields of type void * which the application may use for any purpose. They are especially useful for storing data needed by callbacks. JS_GetContextPrivate and JS_GetSecondContextPrivate get this field and JS_SetContextPrivate and JS_SetSecondContextPrivate set it. The field is initially NULL."><code>JS_GetContextPrivate</code></a></li><li><a href="JSAPI_reference/JS_GetContextThread.html" title="Returns the ID of the associated thread for a context."><code>JS_GetContextThread</code></a></li><li><a href="JSAPI_reference/JS_GetDefaultFreeOp.html" title="JS_GetDefaultFreeOp returns default JSFreeOp for the runtime."><code>JS_GetDefaultFreeOp</code></a></li><li><a href="JSAPI_reference/JS_GetElement.html" title="JS_GetElement examines a specified JS object, obj, and its prototype chain, for an element or numeric property numbered index."><code>JS_GetElement</code></a></li><li><a href="JSAPI_reference/JS_GetEmptyString.html" title="The returned empty string has the length 0."><code>JS_GetEmptyString</code></a></li><li><a href="JSAPI_reference/JS_GetEmptyStringValue.html" title="JS_GetEmptyStringValue returns the empty string as a JS::Value."><code>JS_GetEmptyStringValue</code></a></li><li><a href="JSAPI_reference/JS_GetErrorPrototype.html" title="JS_GetErrorPrototype returns the original value of Error.prototype from the global object of the current compartment of cx."><code>JS_GetErrorPrototype</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetExternalStringClosure.html" title="To determine if a string was created as an external string, you can call JS_IsExternalString."><code>JS_GetExternalStringClosure</code></a></li><li><a href="JSAPI_reference/JS_GetExternalStringFinalizer.html" title="JS_GetExternalStringFinalizer returns the fin parameter passed to JS_NewExternalString."><code>JS_GetExternalStringFinalizer</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetFlatStringChars.html" title=""><code>JS_GetFlatStringChars</code></a></li><li><a href="JSAPI_reference/JS_GetFunctionArity.html" title="JS_GetFunctionArity returns the number of formal parameters of a function, fun. This is the same as the function object's arity property, if that property has not been overwritten. Specifically, if fun is a native function, the result is the value that was passed to the nargs parameter of JS_DefineFunction. Otherwise fun is implemented in JavaScript, and the result is the number of identifiers in its formal parameter list (see ECMA 262-3 §13)."><code>JS_GetFunctionArity</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetFunctionCallback.html" title="Returns the callback currently configured to be called when JavaScript functions are invoked or exited, as established by a prior call to JS_SetFunctionCallback."><code>JS_GetFunctionCallback</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetFunctionFlags.html" title="JS_GetFunctionFlags retrieves the function flags of a given JavaScript function, fun. These flags are for the JavaScript engine’s internal use. Most applications can’t do anything useful with them."><code>JS_GetFunctionFlags</code></a></li><li><a href="JSAPI_reference/JS_GetFunctionId.html" title="JS_GetFunctionId returns the name of a function, fun, as a JSString, or NULL if fun is unnamed. The returned string lives as long as fun, so you don't need to root a saved reference to it if fun is well-connected or rooted, and provided you bound the use of the saved reference by fun's lifetime."><code>JS_GetFunctionId</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetFunctionName.html" title="JS_GetFunctionName retrieves the function name associated with a function pointer, fun. The return value is either the name of a function, or the string &quot;anonymous&quot;, which indicates that the function was not assigned a name when created."><code>JS_GetFunctionName</code></a></li><li><a href="JSAPI_reference/JS_GetFunctionObject.html" title="JS_GetFunctionObject returns the JavaScript Function object for a specified function pointer, fun."><code>JS_GetFunctionObject</code></a></li><li><a href="JSAPI_reference/JS_GetFunctionPrototype.html" title="JS_GetFunctionPrototype() retrieves the original Function.prototype of a specified object, obj.&nbsp; If an error occurs, it returns NULL."><code>JS_GetFunctionPrototype</code></a></li><li><a href="JSAPI_reference/JS_GetFunctionScript.html" title="JS_GetFunctionScript returns a pointer to JSScript for the specified function, fun. If fun is a native function, it returns NULL."><code>JS_GetFunctionScript</code></a></li><li><a href="JSAPI_reference/JS_GetGCParameter.html" title="JS_GetGCParameter returns the current parameter of the garbage collection."><code>JS_GetGCParameter</code></a></li><li><a href="JSAPI_reference/JS_GetGlobalForCompartmentOrNull.html" title="JS_GetGlobalForCompartmentOrNull() returns the global object for the context and the compartment. This may return NULL if c never had a global (e.g., the atoms compartment), or if c's global has been collected."><code>JS_GetGlobalForCompartmentOrNull</code></a></li><li><a href="JSAPI_reference/JS_GetGlobalForObject.html" title="JS_GetGlobalForObject returns the last non-null object on the parent chain of the input object."><code>JS_GetGlobalForObject</code></a></li><li><a href="JSAPI_reference/JS_GetGlobalForObject3.html" title="This page was auto-generated because a user created a sub-page to this page."><code>JS_GetGlobalForObject3</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetGlobalForScopeChain.html" title="JS_GetGlobalForScopeChain() returns the global object for whatever function is currently running on the context. In other words, it returns the global object on the current scope chain."><code>JS_GetGlobalForScopeChain</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetGlobalObject.html" title="This function is obsolete: use JS_GetGlobalForObject or JS_GetGlobalForScopeChain instead. The concept of a global object belonging to a context will likely be phased out in future versions of SpiderMonkey."><code>JS_GetGlobalObject</code></a></li><li><a href="JSAPI_reference/JS_GetImplementationVersion.html" title="JS_GetImplementationVersion returns a hard-coded, English language string that specifies the version number of the JS engine currently in use, and its release date."><code>JS_GetImplementationVersion</code></a></li><li><a href="JSAPI_reference/JS_GetInstancePrivate.html" title="JS_GetInstancePrivate determines if a JavaScript object, obj, is an instance of a given JSClass, clasp, and if it is, returns a pointer to the object's private data. Otherwise it returns NULL."><code>JS_GetInstancePrivate</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetInternedStringChars.html" title="JS_GetInternedStringChars returns a pointer to the interned string."><code>JS_GetInternedStringChars</code></a></li><li><a href="JSAPI_reference/JS_GetLatin1FlatStringChars.html" title="JS_GetLatin1FlatStringChars and JS_GetTwoByteFlatStringChars return a pointer to the string."><code>JS_GetLatin1FlatStringChars</code></a></li><li><a href="JSAPI_reference/JS_GetLatin1InternedStringChars.html" title="JS_GetLatin1InternedStringChars and JS_GetTwoByteInternedStringChars gets the characters of the string, str."><code>JS_GetLatin1InternedStringChars</code></a></li><li><a href="JSAPI_reference/JS_GetLatin1StringCharsAndLength.html" title="JS_GetLatin1StringCharsAndLength and JS_GetTwoByteStringCharsAndLength get the characters and the length of the string, str."><code>JS_GetLatin1StringCharsAndLength</code></a></li><li><a href="JSAPI_reference/JS_GetLocaleCallbacks.html" title="JS_SetLocaleCallbacks establishes locale callbacks. The pointer must persist as long as the JSRuntime. Passing nullptr restores the default behaviour."><code>JS_GetLocaleCallbacks</code></a></li><li><a href="JSAPI_reference/JS_GetNaNValue.html" title="JS_GetNaNValue returns a value of type JS::Value that represents an IEEE floating-point quiet Not-a-Number (NaN)."><code>JS_GetNaNValue</code></a></li><li><a href="JSAPI_reference/JS_GetObjectPrototype.html" title="JS_GetObjectPrototype() retrieves the original Object.prototype of a specified object, obj.&nbsp; If an error occurs, it returns NULL."><code>JS_GetObjectPrototype</code></a></li><li><a href="JSAPI_reference/JS_GetObjectRuntime.html" title="JS_GetObjectRuntime retrieves a pointer to the JSRuntime for a specified JSObject."><code>JS_GetObjectRuntime</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetOptions.html" title="JS_GetOptions retrieves the option flags of a given JS context cx."><code>JS_GetOptions</code></a></li><li><a href="JSAPI_reference/JS_GetOwnPropertyDescriptor.html" title="JS_GetOwnPropertyDescriptor and JS_GetOwnPropertyDescriptorById get a detailed description of that property (returned in desc-&gt;obj). If desc-&gt;obj is null, then this property was not found on the prototype chain."><code>JS_GetOwnPropertyDescriptor</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetParent.html" title="JS_GetParent retrieves the parent object of obj, or NULL if obj does not have a parent."><code>JS_GetParent</code></a></li><li><a href="JSAPI_reference/JS_GetParentRuntime.html" title="JS_GetParentRuntime retrieves a pointer to the parent JSRuntime of the runtime for a specified JSContext. If the cx's runtime has no parent runtime, JS_GetParentRuntime returns cx's runtime itself."><code>JS_GetParentRuntime</code></a></li><li><a href="JSAPI_reference/JS_GetPendingException.html" title="If an exception has been thrown in the context cx, and it has not yet been caught or cleared, JS_GetPendingException stores the exception object in *vp and returns true."><code>JS_GetPendingException</code></a></li><li><a href="JSAPI_reference/JS_GetPositiveInfinityValue.html" title="JS_GetPositiveInfinityValue returns a JS::Value that represents an IEEE floating-point positive infinity. JS_GetNegativeInfinityValue returns the corresponding negative infinity."><code>JS_GetPositiveInfinityValue</code></a></li><li><a href="JSAPI_reference/JS_GetPrivate.html" title="JS_GetPrivate accesses an object's private data field. obj must be an instance of a class that has the JSCLASS_HAS_PRIVATE flag."><code>JS_GetPrivate</code></a></li><li><a href="JSAPI_reference/JS_GetProperty.html" title="JS_GetProperty examines a specified JS object obj and its prototype chain for a property with the specified name. It behaves like the JavaScript expression obj[name]. JS_GetUCProperty is the Unicode version of the function. JS_GetPropertyById is the same but takes a JS::HandleId for the property name."><code>JS_GetProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetPropertyAttributes.html" title="JS_GetPropertyAttributes retrieves the property attributes of the property with the given name on a given object, obj. JS_GetUCPropertyAttributes is the Unicode version of the function."><code>JS_GetPropertyAttributes</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetPropertyAttrsGetterAndSetter.html" title="See JS_GetPropertyAttributes for details about these functions. The only difference is that on success, these functions also get the getter and setter functions for the property."><code>JS_GetPropertyAttrsGetterAndSetter</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetPropertyDefault.html" title="JS_GetPropertyDefault examines a specified JS object obj and its prototype chain for a property with the specified name."><code>JS_GetPropertyDefault</code></a></li><li><a href="JSAPI_reference/JS_GetPropertyDescriptor.html" title="JS_GetPropertyDescriptor and JS_GetPropertyDescriptorById find a specified property of an object and gets a detailed description of that property on the prototype chain (returned in desc-&gt;obj). If desc-&gt;obj is null, then this property was not found on the prototype chain."><code>JS_GetPropertyDescriptor</code></a></li><li><a href="JSAPI_reference/JS_GetPrototype.html" title="JS_GetPrototype retrieves the prototype of a specified object, obj. A prototype object provides properties inherited by similar JS objects. This is the equivalent of Object.getPrototypeOf(obj) from javascript."><code>JS_GetPrototype</code></a></li><li><a href="JSAPI_reference/JS_GetRegExpFlags.html" title="JS_GetRegExpFlags returns flags of the specified object, obj."><code>JS_GetRegExpFlags</code></a></li><li><a href="JSAPI_reference/JS_GetRegExpSource.html" title="JS_GetRegExpSource returns a source string of the specified object, obj."><code>JS_GetRegExpSource</code></a></li><li><a href="JSAPI_reference/JS_GetReservedSlot.html" title="If a JSClass has JSCLASS_HAS_RESERVED_SLOTS(n) in its flags, with n &gt; 0, or has a non-null JSClass.reserveSlots callback, then objects of that class have n reserved slots in which the application may store data. These fields are not directly exposed to scripts."><code>JS_GetReservedSlot</code></a></li><li><a href="JSAPI_reference/JS_GetRuntime.html" title="JS_GetRuntime retrieves a pointer to the JSRuntime with which a specified JSContext, cx, is associated. Each context is associated with a particular JSRuntime when it is created (see JS_NewContext); JS_GetRuntime provides a convenient, programmatic way to look up the association."><code>JS_GetRuntime</code></a></li><li><a href="JSAPI_reference/JS_GetRuntimePrivate.html" title="Each JSRuntime has a field of type void * which the application may use for any purpose. It is especially useful for storing data which callbacks may then easily access. JS_GetRuntimePrivate gets the value of this field and JS_SetRuntimePrivate sets it. The field is initially NULL."><code>JS_GetRuntimePrivate</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetScopeChain.html" title="JS_GetScopeChain returns the first JSObject on the scope chain for the JavaScript code currently running in the given context, cx."><code>JS_GetScopeChain</code></a></li><li><a href="JSAPI_reference/JS_GetSecurityCallbacks.html" title="JS_SetSecurityCallbacks sets the runtime's security callbacks to callbacks. It allows the embedding to control certain aspects of JS code execution based on security settings of the global object the code is executed in. If callbacks is NULL, it sets callbacks to default value."><code>JS_GetSecurityCallbacks</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetStringBytes.html" title="JS_GetStringBytes and JS_GetStringBytesZ convert the specified JavaScript string, str, to a C string (an array of 8-bit chars). If JS_CStringsAreUTF8 is true, then the returned string is UTF-8, and the conversion is lossless. Otherwise the high byte is simply dropped from each jschar. On success, the return value is a pointer to the char array, which is null-terminated. On failure, JS_GetStringBytes returns a pointer to a null-terminated empty string; JS_GetStringBytesZ returns NULL."><code>JS_GetStringBytes</code></a></li><li><a href="JSAPI_reference/JS_GetStringCharAt.html" title="JS_GetStringCharAt and JS_GetFlatStringCharAt get the specified character from the string str."><code>JS_GetStringCharAt</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetStringChars.html" title="JS_GetStringChars&nbsp;Obsolete since JavaScript 1.8.5 returns a pointer to the first element of an array of jschars. Warnings:"><code>JS_GetStringChars</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetStringCharsAndLength.html" title="JS_GetStringCharsAndLength gets the characters and the length of the string, str"><code>JS_GetStringCharsAndLength</code></a></li><li><a href="JSAPI_reference/JS_GetStringEncodingLength.html" title="JS_GetStringEncodingLength returns the length of the specified string in bytes, regardless of its encoding. You can use this value to create a buffer to encode the string into using the JS_EncodeStringToBuffer function."><code>JS_GetStringEncodingLength</code></a></li><li><a href="JSAPI_reference/JS_GetStringLength.html" title="JS_GetStringLength reports the length, in 16-bit code units, of the string str. This is the same as the length property of the string. This is the same as the length of the array returned by JS_GetStringChars, in char16_ts (not bytes)."><code>JS_GetStringLength</code></a></li><li><a href="JSAPI_reference/JS_GetTwoByteExternalStringChars.html" title="JS_GetTwoByteExternalStringChars gets the characters of the string, str."><code>JS_GetTwoByteExternalStringChars</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_GetTypeName.html" title="JS_GetTypeName returns a pointer to a string literal description of a specified JS data type, type. The following table lists JSTypes and the string literals reported by JS_GetTypeName:"><code>JS_GetTypeName</code></a></li><li><a href="JSAPI_reference/JS_GetVersion.html" title="JS_GetVersion returns the JavaScript version currently used by the given JSContext, cx. The result is one of the JSVersion constants."><code>JS_GetVersion</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_HasArrayLength.html" title="JS_HasArrayLength determines if an object, obj, has a length property. If the property exists, JS_HasArrayLength stores the current value of the property in *lengthp."><code>JS_HasArrayLength</code></a></li><li><a href="JSAPI_reference/JS_HasElement.html" title="JS_HasElement examines a specified JS object, obj, and its prototype chain, for an element or numeric property numbered index."><code>JS_HasElement</code></a></li><li><a href="JSAPI_reference/JS_HasInstance.html" title="JS_HasInstance determines if a specified JS value, v, is an instance of JS object, obj. This function is equivalent to v instanceof obj test in JavaScript.  On success, JS_HasInstance stores the result of the instanceof test in *bp and returns true. On error or exception, it returns false, and the value left in *bp is undefined."><code>JS_HasInstance</code></a></li><li><a href="JSAPI_reference/JS_HasOwnProperty-2.html" title="JS_HasOwnProperty searches an object, obj, for an own property with the specified name. It behaves like the JavaScript expression Object.hasOwnProperty(obj, name). JS_HasOwnPropertyById is the same but takes a JS::HandleId for the property name."><code>JS_HasOwnProperty</code></a></li><li><a href="JSAPI_reference/JS_HasProperty.html" title="JS_HasProperty searches an object, obj, and its prototype chain, for a property with the specified name. It behaves like the JavaScript expression name in obj. JS_HasUCProperty is the corresponding Unicode API. JS_HasPropertyById is the same but takes a JS::HandleId for the property name."><code>JS_HasProperty</code></a></li><li><a href="JSAPI_reference/JS_IdArrayGet.html" title="JS_IdArrayGet gets the item in the specified index of the ID array pointed to by ida."><code>JS_IdArrayGet</code></a></li><li><a href="JSAPI_reference/JS_IdArrayLength.html" title="JS_IdArrayLength gets the length of the ID array pointed to by ida."><code>JS_IdArrayLength</code></a></li><li><a href="JSAPI_reference/JS_IdToProtoKey.html" title="JS_IdToProtoKey converts a specified JS ID, id, to a prototype key. On success, JS_IdToProtoKey returns a JSProtoKey. Otherwise it returns JSProto_Null."><code>JS_IdToProtoKey</code></a></li><li><a href="JSAPI_reference/JS_IdToValue.html" title="JS_IdToValue converts a specified JS ID, id, to a JS value. On success, JS_IdToValue stores the converted value in *vp and returns true. Otherwise it returns false."><code>JS_IdToValue</code></a></li><li><a href="JSAPI_reference/JS_Init.html" title="Initialize SpiderMonkey, returning true only if initialization succeeded. Once this method has succeeded, it is safe to call JS_NewRuntime and other JSAPI methods."><code>JS_Init</code></a></li><li><a href="JSAPI_reference/JS_InitCTypesClass.html" title="Initialize the ctypes object on a global object. The ctypes object will be frozen."><code>JS_InitCTypesClass</code></a></li><li><a href="JSAPI_reference/JS_InitClass.html" title="JS_InitClass initializes a JSClass and (optionally) makes it visible to JavaScript code."><code>JS_InitClass</code></a></li><li><a href="JSAPI_reference/JS_InitStandardClasses.html" title="JS_InitStandardClasses initializes the built-in JavaScript global properties. These include all the standard ECMAScript global properties defined in ECMA 262-3 §15.1:"><code>JS_InitStandardClasses</code></a></li><li><a href="JSAPI_reference/JS_InstanceOf.html" title="JS_InstanceOf can be used to check whether an object obj is of a particular JSClass. To use it this way, pass NULL for argv. JS_InstanceOf returns true if obj is of the given class and false otherwise. That is, it returns JS_GetClass(obj) == clasp."><code>JS_InstanceOf</code></a></li><li><a href="JSAPI_reference/JS_InternJSString.html" title="JS_InternJSString converts a string str to interned string (interned atom) and returns the result string as JSString *."><code>JS_InternJSString</code></a></li><li><a href="JSAPI_reference/JS_InternString.html" title=""><code>JS_InternString</code></a></li><li><a href="JSAPI_reference/JS_IsArrayObject.html" title="JS_IsArrayObject determines if a specified object, obj or value, is an Array object. If so, JS_IsArrayObject returns true. Otherwise it returns false."><code>JS_IsArrayObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_IsAssigning.html" title="JS_IsAssigning returns true if a script is executing and its current bytecode is a set (assignment) operation, even if there are native (no script) stack frames between the script and the caller to JS_IsAssigning."><code>JS_IsAssigning</code></a></li><li><a href="JSAPI_reference/JS_IsBuiltinEvalFunction.html" title="JS::IsCallable returns whether the given function is the global eval function."><code>JS_IsBuiltinEvalFunction</code></a></li><li><a href="JSAPI_reference/JS_IsBuiltinFunctionConstructor.html" title="JS::IsCallable returns whether the given function is the global Function constructor."><code>JS_IsBuiltinFunctionConstructor</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_IsConstructing.html" title="JS_IsConstructing must be called only from a JSNative called from the engine. cx and vp must be the arguments that the engine passed to that JSNative."><code>JS_IsConstructing</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_IsConstructing_PossiblyWithGivenThisObject.html" title="In the case of a constructor called from JS_ConstructObject and JS_InitClass where the class has the JSCLASS_CONSTRUCT_PROTOTYPE flag set, SpiderMonkey passes the constructor a non-standard this object. In such cases, the following example would provide the additional information of whether a special this was supplied."><code>JS_IsConstructing_PossiblyWithGivenThisObject</code></a></li><li><a href="JSAPI_reference/JS_IsConstructor.html" title="JS_IsConstructor determines if a specified function, fun is a valid constructor object. If so, JS_IsConstructor returns true. Otherwise it returns false."><code>JS_IsConstructor</code></a></li><li><a href="JSAPI_reference/JS_IsExceptionPending.html" title="JS_IsExceptionPending returns true if an exception has been thrown in the context cx and the exception has not yet been caught or cleared. Otherwise, it returns false"><code>JS_IsExceptionPending</code></a></li><li><a href="JSAPI_reference/JS_IsExtensible.html" title="JS_IsExtensible queries [[Extensible]] property of the specified object, obj."><code>JS_IsExtensible</code></a></li><li><a href="JSAPI_reference/JS_IsExternalString.html" title="JS_IsExternalString returns true if the string is an external string; otherwise it's false."><code>JS_IsExternalString</code></a></li><li><a href="JSAPI_reference/JS_IsGlobalObject.html" title="JS_IsGlobalObject returns true if obj is a global object, false otherwise."><code>JS_IsGlobalObject</code></a></li><li><a href="JSAPI_reference/JS_IsIdentifier.html" title="JS_IsIdentifier tests if the given string is a valid ECMAScript identifier. On successful, JS_IsIdentifier stores the test result to *isIdentifier and returns true, otherwise returns false and the value of *isIdentifier is undefined."><code>JS_IsIdentifier</code></a></li><li><a href="JSAPI_reference/JS_IsNative.html" title="JS_IsNative returns true if the object is a native object."><code>JS_IsNative</code></a></li><li><a href="JSAPI_reference/JS_IsNativeFunction.html" title="JS_IsNativeFunction determines if a specified function object, funobj equals a specified native function, call. If so, JS_IsNativeFunction returns true. Otherwise it returns false."><code>JS_IsNativeFunction</code></a></li><li><a href="JSAPI_reference/JS_IsRunning.html" title="JS_IsRunning determines if a script or function is currently executing in a specified JSContext, cx. If a script is executing, JS_IsRunning returns true. Otherwise it returns false."><code>JS_IsRunning</code></a></li><li><a href="JSAPI_reference/JS_IsStopIteration.html" title="JS_IsStopIteration returns true if v is StopIteration, otherwise false."><code>JS_IsStopIteration</code></a></li><li><a href="JSAPI_reference/JS_IterateCompartments.html" title="JS_IterateCompartments calls compartmentCallback on every compartment. Beware that there is no guarantee that the compartment will survive after the callback returns. Also, barriers are disabled via the TraceSession."><code>JS_IterateCompartments</code></a></li><li><a href="JSAPI_reference/JS_LeaveCompartment.html" title=""><code>JS_LeaveCompartment</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_LeaveCrossCompartmentCall.html" title=""><code>JS_LeaveCrossCompartmentCall</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_LeaveLocalRootScope.html" title="See JS_EnterLocalRootScope for an explanation of local root scopes."><code>JS_LeaveLocalRootScope</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_LeaveLocalRootScopeWithResult.html" title="See JS_EnterLocalRootScope for an explanation of local root scopes."><code>JS_LeaveLocalRootScopeWithResult</code></a></li><li><a href="JSAPI_reference/JS_LinkConstructorAndPrototype.html" title="JS_LinkConstructorAndPrototype sets the prototype property of class constructor function, ctor, to prototype object, proto with JSPROP_PERMANENT | JSPROP_READONLY flags, and sets the constructor property of proto to ctor with no flag."><code>JS_LinkConstructorAndPrototype</code></a></li><li><a href="JSAPI_reference/JS_Lock.html" title="Lock the JS run-time environment."><code>JS_Lock</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_LockGCThing.html" title="JS_LockGCThing is a deprecated function that protects a specified item, thing, associated with an executable script context, cx, from garbage collection. thing is a pointer to a jsdouble, JSString, or JSObject."><code>JS_LockGCThing</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_LookupElement.html" title="JS_LookupElement examines a specified JavaScript object, obj, for a numeric property numbered index."><code>JS_LookupElement</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_LookupProperty.html" title="The functions JS_LookupProperty, JS_LookupUCProperty, JS_LookupPropertyById, JS_LookupPropertyWithFlags, and JS_LookupPropertyWithFlagsById search a specified object, obj, for a property with the given name. These functions all have similar behavior:"><code>JS_LookupProperty</code></a></li><li><a href="JSAPI_reference/JS_LooselyEqual.html" title="JS_LooselyEqual determines if v1 is loosely equal to v2 under the JavaScript == operator, as specified in ECMA 262-3 §11.9.3.  If the comparison attempt was successful, the method returns JS_TRUE  and stores the result in *equal; otherwise it returns JS_FALSE."><code>JS_LooselyEqual</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_MakeStringImmutable.html" title="A string's characters can never be changed, but SpiderMonkey uses two string optimization techniques behind the scenes:"><code>JS_MakeStringImmutable</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_MapGCRoots.html" title="Call JS_MapGCRoots to map the GC's roots table using map(rp, name, data). The root is pointed at by rp; if the root is unnamed, name is null; data is supplied from the third parameter to JS_MapGCRoots."><code>JS_MapGCRoots</code></a></li><li><a href="JSAPI_reference/JS_MaybeGC.html" title="JS_MaybeGC tries to determine whether garbage collection in cx's runtime would free up enough memory to be worth the amount of time it would take. If so, it performs some garbage collection."><code>JS_MaybeGC</code></a></li><li><a href="JSAPI_reference/JS_New.html" title="JS_New creates a new object as though by using the new operator, as described in ECMA 262-3 §11.2.2."><code>JS_New</code></a></li><li><a href="JSAPI_reference/JS_NewArrayObject.html" title="JS_NewArrayObject with contents parameter creates a new array object with the specified contents elements. JS_NewArrayObject defines an enumerable array element with the value contents[i] on the new array."><code>JS_NewArrayObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NewCompartmentAndGlobalObject.html" title=""><code>JS_NewCompartmentAndGlobalObject</code></a></li><li><a href="JSAPI_reference/JS_NewContext.html" title="JS_NewContext creates a new JSContext in the runtime rt. On success, it returns a pointer to the new context. Otherwise it returns NULL. For more details about contexts, see JSContext. For sample code that creates and initializes a JSContext, see JSAPI User Guide."><code>JS_NewContext</code></a></li><li><a href="JSAPI_reference/JS_NewDateObject.html" title="Creates and returns a new JSObject representing a JavaScript Date object, which is pre-configured using the specified values."><code>JS_NewDateObject</code></a></li><li><a href="JSAPI_reference/JS_NewDateObjectMsec.html" title="The returned JSObject is a standard JavaScript Date."><code>JS_NewDateObjectMsec</code></a></li><li><a href="JSAPI_reference/JS_NewDependentString.html" title="JS_NewDependentString creates a new string as a substring of an existing JavaScript string, str. The new string contains the same characters as if it were created with the JavaScript method str.substr(start, length)."><code>JS_NewDependentString</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NewDouble.html" title="JS_NewDouble allocates a copy of the number d on the JavaScript garbage collection heap. This function is not very useful. To convert a jsdouble to a jsval, use JS_NewNumberValue instead."><code>JS_NewDouble</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NewDoubleValue.html" title="JS_NewDoubleValue creates a floating-point jsval."><code>JS_NewDoubleValue</code></a></li><li><a href="JSAPI_reference/JS_NewExternalString.html" title="JS_NewExternalString and JS_NewExternalStringWithClosure create a new JSString whose characters are stored in external memory, i.e., memory allocated by the application, not the JavaScript engine. Since the program allocated the memory, it will need to free it; this happens in an external string finalizer indicated by the type parameter."><code>JS_NewExternalString</code></a></li><li><a href="JSAPI_reference/JS_NewFunction.html" title="JS_NewFunction creates a new JavaScript function implemented in C/C++. (To create a new function implemented in JavaScript, use JS_CompileFunction instead.)"><code>JS_NewFunction</code></a></li><li><a href="JSAPI_reference/JS_NewGlobalObject.html" title="JS_NewGlobalObject creates a new global object based on the specified class."><code>JS_NewGlobalObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NewNumberValue.html" title="JS_NewNumberValue converts a C floating-point number of type jsdouble to jsval, the type of JavaScript values."><code>JS_NewNumberValue</code></a></li><li><a href="JSAPI_reference/JS_NewObject.html" title="JS_NewObject creates a new object based on a specified class. cx is a pointer to a context associated with the runtime in which to establish the new object. clasp is a pointer to an existing class to use for internal methods, such as finalize. The JavaScript engine selects a prototype object for you. JS_NewObject attempts to assign the new object the prototype object belonging to clasp, if one is defined there. Otherwise, it creates an empty object stub for the prototype."><code>JS_NewObject</code></a></li><li><a href="JSAPI_reference/JS_NewObjectForConstructor.html" title="JS_NewObjectForConstructor creates a new object exactly as the given constructor would if invoked with new. This function does not run the code of the constructor function--it just creates the object."><code>JS_NewObjectForConstructor</code></a></li><li><a href="JSAPI_reference/JS_NewPlainObject.html" title="JS_NewPlainObject creates a new plain object, like new Object(), with Object.prototype as [[Prototype]]."><code>JS_NewPlainObject</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NewPropertyIterator.html" title="Create an object to iterate over the enumerable own properties of obj, in arbitrary order. (This differs from longstanding for..in loop order, which uses the order in which obj's properties were defined. Note also that while for..in includes properties inherited from prototypes, iterator objects do not.)"><code>JS_NewPropertyIterator</code></a></li><li><a href="JSAPI_reference/JS_NewRegExpObject.html" title="JS_NewRegExpObject and JS_NewUCRegExpObject create a new RegExp instance. The flags from the built-in RegExp constructor properties ignoreCase, global, multiline, and sticky are OR'd in with the provided flags parameter."><code>JS_NewRegExpObject</code></a></li><li><a href="JSAPI_reference/JS_NewRuntime.html" title="JS_NewRuntime initializes the JavaScript runtime environment. Call JS_NewRuntime before making any other API calls except JS_Init. JS_NewRuntime allocates memory for the JSRuntime and initializes certain internal runtime structures. maxbytes specifies the number of allocated bytes after which garbage collection is run. If parentRuntime is specified, the resulting runtime shares significant amounts of read-only state (the self-hosting and initial atoms compartments). It is recommended to make use of this for every runtime in a process after the first one."><code>JS_NewRuntime</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NewScriptObject.html" title="JS_NewScriptObject returns the script object associated with the given JSScript."><code>JS_NewScriptObject</code></a></li><li><a href="JSAPI_reference/JS_NewStringCopyN.html" title="JS_NewStringCopyN allocates space for a JavaScript string and its underlying storage, and copies n characters from a C character array, s, into the new JSString. JS_NewUCStringCopyN is the Unicode version of the function. The two functions differ only in the type of the character array s; both functions create ordinary JavaScript strings, and all JavaScript strings are made up of 16-bit characters."><code>JS_NewStringCopyN</code></a></li><li><a href="JSAPI_reference/JS_NewStringCopyZ.html" title="JS_NewStringCopyZ allocates space for a new JavaScript string and its underlying storage, and then copies the contents of a null-terminated character array, s, into the new string. On success, JS_NewStringCopyZ returns a pointer to the new JavaScript string. On error, it returns NULL."><code>JS_NewStringCopyZ</code></a></li><li><a href="JSAPI_reference/JS_NewString.html" title="JS_NewString creates and returns a new string, using the memory starting at buf and ending at buf + length as the character storage. JS_NewUCString is the Unicode version of the function."><code>JS_NewUCString</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_NextProperty.html" title="On success, JS_NextProperty returns true, with *idp containing the id of the next enumerable own property to visit using iterobj, or JSID_VOID if there is no such property left to visit. On error, it returns false, and the value left in *idp is undefined."><code>JS_NextProperty</code></a></li><li><a href="JSAPI_reference/JS_Now.html" title="JS_Now returns microseconds since the epoch, midnight, January 1, 1970 UTC."><code>JS_Now</code></a></li><li><a href="JSAPI_reference/JS_NumberValue.html" title="JS_NumberValue converts a C floating-point number of type double to JS::Value, the type of JavaScript values."><code>JS_NumberValue</code></a></li><li><a href="JSAPI_reference/JS_ObjectIsDate.html" title="JS_ObjectIsDate() can be used to check if you are dealing with a Date object, or a Date object used across compartments (or windows or sites, in the browser embedding).&nbsp; This function returns true if the object is a Date."><code>JS_ObjectIsDate</code></a></li><li><a href="JSAPI_reference/JS_ObjectIsFunction.html" title="JS_ObjectIsFunction tests whether obj is a function object (faster than comparing obj's class name to Function, but equivalent unless someone has overwritten the Function identifier with a different constructor and then created instances using that constructor that might be passed in as obj)."><code>JS_ObjectIsFunction</code></a></li><li><a href="JSAPI_reference/JS_ObjectIsRegExp.html" title="JS_ObjectIsRegExp determines if a specified object, obj, is a RegExp object. If so, JS_ObjectIsRegExp returns true. Otherwise it returns false."><code>JS_ObjectIsRegExp</code></a></li><li><a href="JSAPI_reference/JS_PSGS.html" title="These macros encapsulate the definition of JSNative-backed JSPropertySpecs, by defining the JSNativeWrappers for them."><code>JS_PSGS</code></a></li><li><a href="JSAPI_reference/JS_ParseJSON.html" title="Parse a string using the JSON syntax described in ECMAScript 5 and return the corresponding value."><code>JS_ParseJSON</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_PopArguments.html" title="JS_PopArguments frees the stack frame pointer previously allocated by JS_PushArguments and unroots the jsvals which have been associated with it (those returned by JS_PushArguments as well)."><code>JS_PopArguments</code></a></li><li><a href="JSAPI_reference/JS_PreventExtensions.html" title="All JavaScript objects recognize the concept of extensibility: whether new properties may be added to the object.&nbsp; In some situations, it may be convenient to prohibit new properties.&nbsp; In JavaScript this may be accomplished using the Object.preventExtensions method.&nbsp; The similar JSAPI method is JS_PreventExtensions."><code>JS_PreventExtensions</code></a></li><li><a href="JSAPI_reference/JS_PropertyStub.html" title="The stub functions are not designed to be called directly by a JSAPI application. Rather, they are convenient stand-ins anywhere the JSAPI requires callbacks of certain types. Examples at JSClass illustrate how stub functions can be used."><code>JS_PropertyStub</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_PushArguments.html" title="JS_PushArguments provides a convenient way to translate a series of native C/C++ values to jsvals with a single function call."><code>JS_PushArguments</code></a></li><li><a href="JSAPI_reference/JS_PutEscapedString.html" title="JS_PutEscapedString and JS_PutEscapedString write str into buffer escaping any non-printable or non-ASCII character using \escapes for JS string literals. Guarantees that a NUL is at the end of the buffer unless size is 0. Returns the length of the written output, NOT including the NUL. Thus, a return value of size or more means that the output was truncated. If buffer is null, just returns the length of the output. If quote is not 0, it must be a single or double quote character that will quote the output."><code>JS_PutEscapedString</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_RemoveRoot.html" title="JS_RemoveRoot removes the variable that rp points to from the garbage collector's root set."><code>JS_Remove*Root</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_RemoveExternalStringFinalizer.html" title="Remove finalizer from the global GC finalizers table, returning its type code if found, -1 if not found."><code>JS_RemoveExternalStringFinalizer</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_RemoveRootRT.html" title="Unregisters a pointer to a GC thing so that it is no longer a member of the garbage collector's root set. This enables any pointed-at GC thing to be garbage collected as needed."><code>JS_RemoveRootRT</code></a></li><li><a href="JSAPI_reference/JS_ReportError.html" title="JS_ReportError is the simplest JSAPI function for reporting errors. First it builds an error message from the given sprintf-style format string and any additional arguments passed after it. The resulting error message is passed to the context's JSErrorReporter callback, if any."><code>JS_ReportError</code></a></li><li><a href="JSAPI_reference/JS_ReportErrorNumber.html" title="These functions create a JSErrorReport, populate it with an error message obtained from the given JSErrorCallback, and either report it to the current error reporter callback or create an Error object and set it as the pending exception."><code>JS_ReportErrorNumber</code></a></li><li><a href="JSAPI_reference/JS_ReportOutOfMemory.html" title="Call JS_ReportOutOfMemory to report that an operation failed because the system is out of memory. When the JavaScript engine tries to allocate memory and allocation fails, it reports an error as though by calling this function."><code>JS_ReportOutOfMemory</code></a></li><li><a href="JSAPI_reference/JS_ReportPendingException.html" title="If an exception is pending in the context cx, JS_ReportPendingException converts the exception to a string and reports it to the current error reporter."><code>JS_ReportPendingException</code></a></li><li><a href="JSAPI_reference/JS_ResolveStandardClass.html" title="JS_ResolveStandardClass resolves id, which must contain either a string or an int, to a standard class name in obj if possible, defining the class's constructor and/or prototype and storing true in *resolved. If id does not name a standard class or a top-level property induced by initializing a standard class, store false in *resolved and just return true. Return false on error, as usual for bool result-typed API entry points."><code>JS_ResolveStandardClass</code></a></li><li><a href="JSAPI_reference/JS_RestoreExceptionState.html" title="This function permits to restore any previously saved exception state which was saved into a JSExceptionState object created by the JS_SaveExceptionState function."><code>JS_RestoreExceptionState</code></a></li><li><a href="JSAPI_reference/JS_SET_TRACING_DETAILS.html" title="Set debugging information about the next thing to be traced by a JSTracer."><code>JS_SET_TRACING_DETAILS</code></a></li><li><a href="JSAPI_reference/JS_SameValue.html" title="SameValue slightly differs from strict equality (===) in that +0 and -0 are not the same and in that NaN is the same as NaN. The SameValue algorithm is equivalent to the following JavaScript:"><code>JS_SameValue</code></a></li><li><a href="JSAPI_reference/JS_SaveExceptionState.html" title="Saves the current exception state (that is, any pending exception, or a cleared exception state) associated with the specified context cx, and returns a JSExceptionState object holding this state. That object may then be used to restore again the context using JS_RestoreExceptionState, or discarded using JS_DropExceptionState. Either of those two functions frees any memory used by the JSExceptionState."><code>JS_SaveExceptionState</code></a></li><li><a href="JSAPI_reference/JS_SaveFrameChain.html" title="These two functions are used to set aside cx's call stack while that stack is inactive. After a call to JS_SaveFrameChain, it looks as if there is no code running on cx. Before calling JS_RestoreFrameChain, cx's call stack must be balanced and all nested calls to JS_SaveFrameChain must have had matching JS_RestoreFrameChain calls."><code>JS_SaveFrameChain</code></a></li><li><a href="JSAPI_reference/JS_ScheduleGC.html" title="JS_ScheduleGC sets the nextScheduled parameter of GC."><code>JS_ScheduleGC</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SealObject.html" title="JS_SealObject prevents all write access to the object, either to add a new property, delete an existing property, or set the value or attributes of an existing property."><code>JS_SealObject</code></a></li><li><a href="JSAPI_reference/JS_SetAllNonReservedSlotsToUndefined.html" title="JS_SetAllNonReservedSlotsToUndefined assignes undefined to all of obj's own properties, except the special __proto__ and __parent__ properties, in a single operation. Properties belonging to objects on obj's prototype chain are not affected."><code>JS_SetAllNonReservedSlotsToUndefined</code></a></li><li><a href="JSAPI_reference/JS_SetArrayLength.html" title="JS_SetArrayLength sets the .length property of an object obj. length indicates the number of elements. JS_SetArrayLength(cx, obj, n) is exactly the same as setting the length property of obj to n using JS_SetProperty. This is true even if obj is not an Array object."><code>JS_SetArrayLength</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetBranchCallback.html" title="If the callback returns JS_TRUE, the JS engine continues to execute the script."><code>JS_SetBranchCallback</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetCallReturnValue2.html" title="Calling JS_SetCallReturnValue2 indicates to the runtime that the native will return a value of type Reference."><code>JS_SetCallReturnValue2</code></a></li><li><a href="JSAPI_reference/JS_SetCheckObjectAccessCallback.html" title="Set the runtime-wide check-object-access callback. This function is deprecated. In SpiderMonkey 1.8.1 and later, use JS_SetRuntimeSecurityCallbacks instead."><code>JS_SetCheckObjectAccessCallback</code></a></li><li><a href="JSAPI_reference/JS_SetCompartmentNameCallback.html" title="JS_SetCompartmentNameCallback sets callback function which will be called to name the compartment. If the runtime has no JSCompartmentNameCallback, a compartment will be named &quot;&lt;unknown&gt;&quot;&lt;/unknown&gt;."><code>JS_SetCompartmentNameCallback</code></a></li><li><a href="JSAPI_reference/JS_SetContextCallback.html" title="JS_SetContextCallback specifies a callback function that is automatically called when JSContexts are created or destroyed. Only one callback function may be specified per JS runtime. This function returns the previous context callback, if any, else NULL."><code>JS_SetContextCallback</code></a></li><li><a href="JSAPI_reference/JS_SetDefaultLocale.html" title="JS_SetDefaultLocale sets the default locale for the ECMAScript Internationalization API (Intl.Collator, Intl.NumberFormat, Intl.DateTimeFormat)."><code>JS_SetDefaultLocale</code></a></li><li><a href="JSAPI_reference/JS_SetDestroyCompartmentCallback.html" title="JS_SetDestroyCompartmentCallback sets callback function which will be called when sweeping each compartment of the runtime, before deleting the compartment."><code>JS_SetDestroyCompartmentCallback</code></a></li><li><a href="JSAPI_reference/JS_SetElement.html" title="JS_SetElement assigns a value to a numeric property of an object. It behaves like the JavaScript expression obj[index] = v."><code>JS_SetElement</code></a></li><li><a href="JSAPI_reference/JS_SetErrorReporter.html" title="JS_SetErrorReporter enables you to define and use your own error reporting mechanism in your applications. The reporter you define is automatically passed a JSErrorReport structure when an error occurs and has been parsed by JS_ReportError. JS_SetErrorReporter"><code>JS_SetErrorReporter</code></a></li><li><a href="JSAPI_reference/JS_SetExtraGCRoots.html" title="Register externally maintained GC roots."><code>JS_SetExtraGCRoots</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetFunctionCallback.html" title="JS_SetFunctionCallback sets a C function to be called each time a JavaScript function is invoked or exits."><code>JS_SetFunctionCallback</code></a></li><li><a href="JSAPI_reference/JS_SetGCCallback.html" title="JS_SetGCCallback sets a callback function which the garbage collector calls at several points during garbage collection. rt is the runtime in which you specify the callback. cb is a pointer to the new callback function to use."><code>JS_SetGCCallback</code></a></li><li><a href="JSAPI_reference/JS_SetGCParametersBasedOnAvailableMemory.html" title="JS_SetGCParametersBasedOnAvailableMemory adjusts the parameters of the garbage collection based on available memory."><code>JS_SetGCParametersBasedOnAvailableMemory</code></a></li><li><a href="JSAPI_reference/JS_SetGCZeal.html" title="JS_SetGCZeal sets the level of additional garbage collection to perform for a runtime, for the purpose of finding or reproducing bugs."><code>JS_SetGCZeal</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetGlobalObject.html" title="This function is obsolete; see also JS_GetGlobalObject."><code>JS_SetGlobalObject</code></a></li><li><a href="JSAPI_reference/JS_SetICUMemoryFunctions.html" title="Sets the memory allocation and deallocation functions used by the ICU internationalization library."><code>JS_SetICUMemoryFunctions</code></a></li><li><a href="JSAPI_reference/JS_SetInterruptCallback.html" title="These functions allow setting an interrupt callback that will be called from the JS thread some time after any thread triggered the callback using JS_RequestInterruptCallback.
 To schedule the GC and for other activities the engine internally triggers interrupt callbacks. The embedding should thus not rely on callbacks being triggered through the external API only."><code>JS_SetInterruptCallback</code></a></li><li><a href="JSAPI_reference/JS_SetNativeStackQuota.html" title=""><code>JS_SetNativeStackQuota</code></a></li><li><a href="JSAPI_reference/JS_SetObjectPrincipalsFinder.html" title="Set the runtime-wide object-principals-finder callback. This function is deprecated. In SpiderMonkey 1.8.1 or later, use JS_SetRuntimeSecurityCallbacks instead."><code>JS_SetObjectPrincipalsFinder</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetOperationCallback.html" title="These functions allow setting an operation callback that will be called from the JS thread some time after any thread triggered the callback using JS_TriggerOperationCallback.
 To schedule the GC and for other activities the engine internally triggers operation callbacks. The embedding should thus not rely on callbacks being triggered through the external API only."><code>JS_SetOperationCallback</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetOptions.html" title="JS_SetOptions sets the option flags of a given JS context cx. This function returns a uint32 value containing the previous values of the flags."><code>JS_SetOptions</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetParent.html" title="JS_SetParent sets an object's parent."><code>JS_SetParent</code></a></li><li><a href="JSAPI_reference/JS_SetPendingException.html" title="JS_SetPendingException sets the current exception being thrown within a context. If an exception is already being thrown, it is replaced with the new one given."><code>JS_SetPendingException</code></a></li><li><a href="JSAPI_reference/JS_SetPrincipalsTranscoder.html" title="Set the runtime-wide principals transcoder callback. This function is deprecated. In SpiderMonkey 1.8.1 or later, use JS_SetRuntimeSecurityCallbacks instead."><code>JS_SetPrincipalsTranscoder</code></a></li><li><a href="JSAPI_reference/JS_SetPrivate.html" title="If a JSClass has the JSCLASS_HAS_PRIVATE flag, each object of that class has a private field of type void * which the application may use for any purpose. It is especially useful for storing C/C++ data that should not be directly visible to scripts. For example, a Socket class might use the private data field to store the socket handle."><code>JS_SetPrivate</code></a></li><li><a href="JSAPI_reference/JS_SetProperty.html" title="JS_SetProperty assigns the value v to the property name of the object obj. It behaves like the JavaScript expression obj[name] = v. JS_SetUCProperty is the Unicode version of the function. JS_SetPropertyById is the same but takes a JS::HandleId for the property name."><code>JS_SetProperty</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetPropertyAttributes.html" title="JS_SetPropertyAttributes sets the attributes for a specified property, name of an object obj. JS_SetUCPropertyAttributes is the Unicode version of the function."><code>JS_SetPropertyAttributes</code></a></li><li><a href="JSAPI_reference/JS_SetPrototype.html" title="JS_SetPrototype sets the prototype object for a specified object. A prototype object provides properties that are shared by similar JS object instances. Ordinarily you set a prototype for an object when you create the object with JS_NewObject, but if you do not set a prototype at that time, you can later call JS_SetPrototype to do so."><code>JS_SetPrototype</code></a></li><li><a href="JSAPI_reference/JS_SetRegExpInput.html" title="JS_SetRegExpInput sets the pending input string of the built-in RegExp object to the specified input string. The JSREG_MULTILINE is set to multiline parameter, and other flags are all reset."><code>JS_SetRegExpInput</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetScriptStackQuota.html" title="Set the quota on the number of bytes that stack-like data structures can use when the runtime compiles and executes scripts. These structures also consume heap space, so JS_SetThreadStackLimit does not bound their size. The default quota is 32MB which is quite generous."><code>JS_SetScriptStackQuota</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetThreadStackLimit.html" title=""><code>JS_SetThreadStackLimit</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_SetVersion.html" title="JS_SetVersion attempts to set the version of JavaScript to version for a specified executable script context, cx. The version comes from the JSVersion enumerated type."><code>JS_SetVersion</code></a></li><li><a href="JSAPI_reference/JS_SetVersionForCompartment.html" title="JS_SetVersionForCompartment attempts to set the version of JavaScript to version for a specified compartment, compartment. The version comes from the JSVersion enumerated type."><code>JS_SetVersionForCompartment</code></a></li><li><a href="JSAPI_reference/JS_ShutDown.html" title="Destroys all free-standing resources allocated by SpiderMonkey, not associated with any JSRuntime, JSContext, or other structure."><code>JS_ShutDown</code></a></li><li><a href="JSAPI_reference/JS_StrictlyEqual.html" title="JS_StrictlyEqual determines if v1 is strictly equal to v2 under the JavaScript === operator, as specified in ECMA 262-3 §11.9.6. If the comparison attempt was successful, the method returns true and stores the result in *equal; otherwise it returns false."><code>JS_StrictlyEqual</code></a></li><li><a href="JSAPI_reference/JS_StringEqualsAscii.html" title="JS_StringEqualsAscii and JS_FlatStringEqualsAscii compare string str and ASCII string asciiBytes."><code>JS_StringEqualsAscii</code></a></li><li><a href="JSAPI_reference/JS_StringHasBeenInterned.html" title="JS_StringHasBeenInterned returns true if the string str is interned."><code>JS_StringHasBeenInterned</code></a></li><li><a href="JSAPI_reference/JS_StringHasLatin1Chars.html" title="JS_StringHasLatin1Chars returns true iff the string's characters are stored as Latin1."><code>JS_StringHasLatin1Chars</code></a></li><li><a href="JSAPI_reference/JS_StringIsFlat.html" title="JS_StringIsFlat returns true if the string is flattened."><code>JS_StringIsFlat</code></a></li><li><a href="JSAPI_reference/JS_StringToVersion.html" title="JS_StringToVersion attempts to convert the version string to a JSVersion value. JS_StringToVersion may return any of the following values:"><code>JS_StringToVersion</code></a></li><li><a href="JSAPI_reference/JS_SuspendRequest.html" title="Suspends the calling thread's current request, if any, to allow the thread to block or perform time-consuming calculations."><code>JS_SuspendRequest</code></a></li><li><a href="JSAPI_reference/JS_THREADSAFE.html" title="JS_THREADSAFE was a compile-time option that enables support for running multiple threads of JavaScript code concurrently as long as no objects or strings are shared between them."><code>JS_THREADSAFE</code></a></li><li><a href="JSAPI_reference/JS_ThrowStopIteration.html" title="JS_ThrowStopIteration throws the appropriate StopIteration object for the function currently executing in cx."><code>JS_ThrowStopIteration</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ToggleOptions.html" title="JS_ToggleOptions toggles context-wide options. It is equivalent to JS_SetOptions(cx, JS_GetOptions(cx) ^ options)."><code>JS_ToggleOptions</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_TracerInit.html" title="JS_TraceChildren and other tracing APIs call the tracer callback for each traceable thing directly referenced by a particular object or runtime structure. It is the callback's responsibility to ensure the traversal of the full object graph, if desired, by eventually calling JS_TraceChildren on the passed thing. In this case the callback must be prepared to deal with cycles in the traversal graph."><code>JS_TracerInit</code></a></li><li><a href="JSAPI_reference/JS_TypeOfValue.html" title="JS_TypeOfValue examines a specified JS value, v, and returns its JS data type. The return value is always one of JSTYPE_VOID, JSTYPE_OBJECT, JSTYPE_FUNCTION, JSTYPE_STRING, JSTYPE_NUMBER, or JSTYPE_BOOLEAN."><code>JS_TypeOfValue</code></a></li><li><a href="JSAPI_reference/JS_Unlock.html" title="Unlock a previously locked JS run-time environment."><code>JS_Unlock</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ValueToBoolean.html" title="JS_ValueToBoolean converts a specified JavaScript value, v, to a boolean value. It implements the ToBoolean operator specified in ECMA 262-3 §9.2. On success, JS_ValueToBoolean stores the converted value in *bp and returns JS_TRUE. On error or exception, it returns JS_FALSE, and the value left in *bp is undefined."><code>JS_ValueToBoolean</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ValueToECMAInt32.html" title="JS_ValueToECMAInt32, JS_ValueToECMAUint32, and JS_ValueToUint16 convert a JavaScript value to various integer types as specified in the ECMAScript specification."><code>JS_ValueToECMAInt32</code></a></li><li><a href="JSAPI_reference/JS_ValueToFunction.html" title="Convert a JS::Value to a JSFunction."><code>JS_ValueToFunction</code></a></li><li><a href="JSAPI_reference/JS_ValueToId.html" title="JS_ValueToId converts a specified JS::Value, v, to a jsid. If v is an integer, *idp receives an integer jsid. Otherwise, if E4X support is enabled and v is an object, *idp receives an object jsid. Otherwise, *idp receives an interned string jsid based on the value of v. If v is not a string, it is converted to a string as if by calling JS_ValueToString."><code>JS_ValueToId</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ValueToInt32.html" title="JS_ValueToInt32 converts a specified JS value, v, to a 32-bit signed integer (-2147483648 to 2147483647). First it converts v to a floating-point number as if by calling JS::ToNumber. If the result is NaN, an infinity, or a number outside the 32-bit range, JS_ValueToInt32 reports an error and conversion fails. Otherwise, the floating-point number is rounded to the nearest integer value."><code>JS_ValueToInt32</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ValueToNumber.html" title="JS_ValueToNumber converts a JavaScript value to a number. It implements the ToNumber operator described in ECMA 262-3 §9.3."><code>JS_ValueToNumber</code></a></li><li><a href="JSAPI_reference/JS_ValueToObject.html" title="JS_ValueToObject converts a specified JavaScript value, v, to an object. On success, this function stores either NULL or a pointer to the resulting object in *objp and returns true. Otherwise it returns false and the value left in *objp is unspecified."><code>JS_ValueToObject</code></a></li><li><a href="JSAPI_reference/JS_ValueToSource.html" title="JS_ValueToSource converts a specified JavaScript value, v, to a JavaScript source."><code>JS_ValueToSource</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/JS_ValueToString.html" title="JS_ValueToString converts a specified JavaScript value, v, to a string. It implements the ToString operator specified in ECMA 262-3 §9.8. The result is like the JavaScript expression &quot;&quot;+v."><code>JS_ValueToString</code></a></li><li><a href="JSAPI_reference/JS_VersionToString.html" title="JS_VersionToString attempts to convert the version to a const char * string representation. JS_VersionToString may return any of the following values:"><code>JS_VersionToString</code></a></li><li><a href="JSAPI_reference/JS_YieldRequest.html" title="Momentarily suspend the current JSAPI request, allowing garbage collection to run if another thread has requested it."><code>JS_YieldRequest</code></a></li><li><a href="JSAPI_reference/JS_freeop.html" title="JS_freeop is a wrapper for js_free(p) that may delay js_free(p) invocation as a performance optimization as specified by the given JSFreeOp instance."><code>JS_freeop</code></a></li><li><a href="JSAPI_reference/JS_malloc.html" title="JS_malloc allocates a region of memory nbytes in size. On success, JS_malloc returns a pointer to the beginning of the region. As with the standard C function malloc, memory allocated by JS_malloc is uninitialized."><code>JS_malloc</code></a></li><li><a href="JSAPI_reference/JS_updateMallocCounter.html" title="JS_updateMallocCounter decrements malloc counter of GC and the zone of the context."><code>JS_updateMallocCounter</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/OBJECT_TO_JSVAL.html" title="OBJECT_TO_JSVAL casts obj from type JSObject * to jsval. If obj is NULL, the result is JSVAL_NULL."><code>OBJECT_TO_JSVAL</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/PRIVATE_TO_JSVAL.html" title="With PRIVATE_TO_JSVAL(), an application can store a private data pointer, p, as a jsval. This can be useful with reserved slots."><code>PRIVATE_TO_JSVAL</code></a></li><li><a href="JSAPI_reference/Property_attributes.html" title="Some property attributes are defined in the ECMAScript standard, in ECMA 262-3 §8.6.1. SpiderMonkey additionally defines several non-standard property attributes."><code>Property attributes</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/STRING_TO_JSVAL.html" title="STRING_TO_JSVAL casts a given JSString * to jsval. str must be a non-null pointer of type JSString *. The conversion always succeeds."><code>STRING_TO_JSVAL</code></a></li><li><a href="JSAPI_reference/Stored_value.html" title="In the JSAPI, the stored value of an object property is its last known value. For a data property, this is exactly the same thing as the property's current value."><code>Stored value</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/jschar.html" title="jschar, a typedef for the standard C++ type char16_t, will be removed in JSAPI 38. Functions that use jschar will use char16_t directly. Embedder code should use char16_t, too. (See bug&nbsp;1063962.)"><code>jschar</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/jsdouble.html" title="jsdouble is a C floating-point number type. It is defined to be a 64-bit, IEEE 754 compliant type. See ECMA 262-3 §8.5. Arithmetic on jsdouble values in C should behave exactly like the floating-point arithmetic in JavaScript, except that C and JavaScript may treat not-a-number values differently."><code>jsdouble</code></a></li><li><a href="JSAPI_reference/jsid.html" title="jsid is either a 31-bit signed integer, interned string or object."><code>jsid</code></a></li><li><span class="sidebar-icon"><span title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><a href="JSAPI_reference/jsint.html" title="jsint and jsuint are 32-bit integer types."><code>jsint</code></a></li></ol> 
  </li> 
  <li data-default-state="closed"><a href="../../../Tools/Debugger-API.html">Debugger-API</a> 
    <ol><li><a href="../../../Tools/Debugger-API/Debugger.html">Debugger.Object</a></li><li><a href="../../../Tools/Debugger-API/Conventions.html">Tools/Debugger-API/Conventions</a></li><li><a href="../../../Tools/Debugger-API/Debugger-2.html">Tools/Debugger-API/Debugger</a></li><li><a href="../../../Tools/Debugger-API/Debugger-3.html">Tools/Debugger-API/Debugger.Environment</a></li><li><a href="../../../Tools/Debugger-API/Debugger-4.html">Tools/Debugger-API/Debugger.Frame</a></li><li><a href="../../../Tools/Debugger-API/Debugger-5.html">Tools/Debugger-API/Debugger.Memory</a></li><li><a href="../../../Tools/Debugger-API/Debugger-6.html">Tools/Debugger-API/Debugger.Script</a></li><li><a href="../../../Tools/Debugger-API/Debugger-7.html">Tools/Debugger-API/Debugger.Source</a></li><li><a href="../../../Tools/Debugger-API/Tutorial-Debugger-Statement.html">Tools/Debugger-API/Tutorial-Debugger-Statement</a></li><li><a href="../../../Tools/Debugger-API/Tutorial-Allocation-Log-Tree.html">Tutorial: Show Allocations Per Call Path</a></li></ol> 
  </li> 
   
  <li><strong>Guides:</strong></li> 
  <li data-default-state="open"><a href="#">General</a> 
   <ol> 
    <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Build_Documentation">Build documentation</a></li> 
    <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Introduction_to_the_JavaScript_shell">Introduction to the JavaScript shell</a></li> 
    <li><a href="JSAPI_User_Guide.html">JSAPI user guide</a></li> 
    <li><a href="JSAPI_Cookbook.html">JSAPI cookbook</a></li> 
    <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/How_to_embed_the_JavaScript_engine">How to embed the JavaScript engine</a></li> 
    <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/GC_Rooting_Guide">GC Rooting Guide</a></li> 
   </ol> 
  </li> 
    <li data-default-state="closed"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals">SpiderMonkey internals</a> 
      <ol><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/64-bit_Compatibility">64-bit Compatibility</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Bytecode">Bytecode Descriptions</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Bytecodes">Bytecodes</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Functions">Functions</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Garbage_collection">Garbage collection</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Invariants">Invariants</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Property_cache">Property cache</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/self-hosting">Self-hosted builtins in SpiderMonkey</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Thread_Safety">SpiderMonkey Internals: Thread Safety</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Internals/Tracing_JIT">Tracing JIT</a></li></ol> 
    </li> 
   
  <li><strong>Contributing to SpiderMonkey:</strong></li> 
  <li data-default-state="closed"><a href="#">Getting started</a> 
   <ol> 
       <li><a href="https://wiki.mozilla.org/JavaScript:New_to_SpiderMonkey">New to SpiderMonkey</a></li> 
       <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Setting_up_CDT_to_work_on_SpiderMonkey">Setting up CDT to work on SpiderMonkey</a></li> 
       <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Hacking_Tips">Hacking tips</a></li> 
   </ol> 
  </li> 
  <li data-default-state="closed"><a href="#">Tests</a> 
   <ol> 
      <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Running_Automated_JavaScript_Tests">Running Automated JavaScript Tests</a></li> 
      <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Creating_JavaScript_tests">Creating JavaScript tests</a></li> 
      <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Running_Parsemark">Running Parsemark</a></li> 
   </ol> 
  </li> 
 
  <li><strong>Releases:</strong></li> 
    <li data-default-state="closed"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases">Release notes</a> 
      <ol><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/38">SpiderMonkey 38</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/31">SpiderMonkey 31</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/24">SpiderMonkey 24</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/17">SpiderMonkey 17</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/1.8.8">SpiderMonkey 1.8.8</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/1.8.7">SpiderMonkey 1.8.7</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/1.8.5">SpiderMonkey 1.8.5</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/1.8">SpiderMonkey 1.8</a></li></ol> 
    </li> 
   
  <li><strong><a href="https://developer.mozilla.org/en-US/docs/MDN">Documentation:</a></strong></li> 
  <li data-default-state="closed"><a href="#">Useful lists</a> 
   <ol> 
    <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Index">All pages index</a></li> 
    <li><a href="https://developer.mozilla.org/en-US/docs/tag/SpiderMonkey">Pages tagged "SpiderMonkey"</a></li> 
   </ol> 
  </li> 
  <li data-default-state="closed"><a href="#">Contribute</a> 
   <ol> 
    <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Doc_status/SpiderMonkey">SpiderMonkey doc status</a></li> 
    <li><a href="https://developer.mozilla.org/en-US/docs/MDN">The MDN project</a></li> 
   </ol> 
  </li> 
   
 </ol> 

  </div>
                

                <!-- approvals -->
                

              

              </div>
            
          </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide$edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide$history" label="View page history"></menuitem>
  </menu>

  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
        
        <div class="contentinfo">
          <p>© 2005-2016 Mozilla Developer Network and individual contributors.</p> <p>Content is available under <a href="https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p>
          <ul>
            <li><a href="https://developer.mozilla.org/docs/MDN/About">About MDN</a></li>
            <li><a href="http://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/">Privacy</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li>
            <li><a href="http://github.com/mozilla/kuma">Contribute to the code</a></li>
          </ul>
        <p></p>
        
        </div>
      </div>
      <div class="column-strip">
        
          
  
    <form class="languages go" method="get" action="https://developer.mozilla.org/en-US/docs/Web">
      <label for="language">Other languages:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide" selected="">
          English (US)
        </option>
        
          <option value="/ja/docs/Embedding_SpiderMonkey">
            日本語
          </option>
          <option value="/pt-BR/docs/SpiderMonkey/JSAPI_User_Guide">
            Português (do&nbsp;Brasil)
          </option>
          <option value="/zh-CN/docs/Mozilla/Projects/SpiderMonkey/JavaScript-C%E5%BC%95%E6%93%8E%E5%B5%8C%E5%85%A5%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97">
            中文 (简体)
          </option>
      </select>
      <noscript>&lt;button type="submit"&gt;Go&lt;/button&gt;</noscript>
    </form>
  

        
      </div>
    </div>
  </div></footer>

  <!-- site js -->
  
    
    <!--[if lte IE 8]><script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/selectivizr.091e18cf669b.js" charset="utf-8"></script><![endif]-->

    <form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/signin" data-csrf-token-url="/users/persona/csrf" data-request="{&quot;siteName&quot;: &quot;Mozilla Developer Network&quot;, &quot;siteLogo&quot;: &quot;/static/img/opengraph-logo.png&quot;}" data-persona-script="../../../../../../login.persona.org/include.js">
  <input type="hidden" name="csrfmiddlewaretoken" value="" id="_persona_csrf_token">
  <input type="hidden" name="next" value="" id="_persona_next_url">
  <input type="hidden" name="process" value="" id="_persona_process">
  <input type="hidden" name="assertion" id="_persona_assertion">
</form>

    <script type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/main.a7b27a25fb9c.js" charset="utf-8"></script>

      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>

    
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.4fef8f9a3076.js"></script>
  
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/syntax-prism-min.js" charset="utf-8"></script><script type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.4fef8f9a3076.js"></script>
  
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/wiki.bd71ca9fd27d.js" charset="utf-8" id="wikiscript"></script>

  

  <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/helpfulness.7b208a764d28.js" charset="utf-8"></script>

  



<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 May 2016 19:58:57 GMT -->
</body></html>