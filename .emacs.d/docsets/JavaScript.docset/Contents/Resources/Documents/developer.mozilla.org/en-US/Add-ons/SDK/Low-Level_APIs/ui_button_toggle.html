<html><!-- Mirrored from developer.mozilla.org/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_toggle by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 18:20:22 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"><script async="" src="../../../../../www.google-analytics.com/analytics.js"></script>
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
        
    <title>ui/button/toggle</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

              <link rel="stylesheet" media="all" href="../../../../../developer.cdn.mozilla.net/static/css/mdn-min2bff.css?build=2aab9d6">

      
    <link rel="stylesheet" media="all" href="../../../../../developer.cdn.mozilla.net/static/css/wiki-min2bff.css?build=2aab9d6">

    
                  <link rel="stylesheet" type="text/css" href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons$styles">
          
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.png">
  <meta name="twitter:site" content="@MozDevNet">
  <meta name="twitter:creator" content="@MozDevNet">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../developer.cdn.mozilla.net/static/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../developer.cdn.mozilla.net/static/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../developer.cdn.mozilla.net/static/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../developer.cdn.mozilla.net/static/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="../../../../../developer.cdn.mozilla.net/static/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/static/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle$json">
  <link rel="canonical" href="ui_button_toggle.html">

            <link rel="alternate" hreflang="zh-CN" href="https://developer.mozilla.org/zh-CN/docs/Add-ons/SDK/Low-Level_APIs/ui_button_toggle" title="切换按钮">
      
  <!-- document-specific social tags -->
  <meta property="og:title" content="ui/button/toggle">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle">
  <meta name="twitter:title" content="ui/button/toggle">
    <meta property="og:description" content="Add a toggle button to the Firefox user interface.">
  <meta name="description" content="Add a toggle button to the Firefox user interface.">
  <meta name="twitter:description" content="Add a toggle button to the Firefox user interface.">
  
      
  </head>
<body data-slug="Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle" contextmenu="edit-history-menu" data-search-url="" class="document zone ">

  <script type="text/javascript">
    

(function (globals) {

  var django = globals.django || (globals.django = {});

  
  django.pluralidx = function (count) { return (count == 1) ? 0 : 1; };
  

  
  /* gettext identity library */

  django.gettext = function (msgid) { return msgid; };
  django.ngettext = function (singular, plural, count) { return (count == 1) ? singular : plural; };
  django.gettext_noop = function (msgid) { return msgid; };
  django.pgettext = function (context, msgid) { return msgid; };
  django.npgettext = function (context, singular, plural, count) { return (count == 1) ? singular : plural; };
  

  django.interpolate = function (fmt, obj, named) {
    if (named) {
      return fmt.replace(/%\(\w+\)s/g, function(match){return String(obj[match.slice(2,-2)])});
    } else {
      return fmt.replace(/%s/g, function(match){return String(obj.shift())});
    }
  };


  /* formatting library */

  django.formats = {
    "DATETIME_FORMAT": "N j, Y, P", 
    "DATETIME_INPUT_FORMATS": [
      "%Y-%m-%d %H:%M:%S", 
      "%Y-%m-%d %H:%M:%S.%f", 
      "%Y-%m-%d %H:%M", 
      "%Y-%m-%d", 
      "%m/%d/%Y %H:%M:%S", 
      "%m/%d/%Y %H:%M:%S.%f", 
      "%m/%d/%Y %H:%M", 
      "%m/%d/%Y", 
      "%m/%d/%y %H:%M:%S", 
      "%m/%d/%y %H:%M:%S.%f", 
      "%m/%d/%y %H:%M", 
      "%m/%d/%y"
    ], 
    "DATE_FORMAT": "N j, Y", 
    "DATE_INPUT_FORMATS": [
      "%Y-%m-%d", 
      "%m/%d/%Y", 
      "%m/%d/%y"
    ], 
    "DECIMAL_SEPARATOR": ".", 
    "FIRST_DAY_OF_WEEK": "0", 
    "MONTH_DAY_FORMAT": "F j", 
    "NUMBER_GROUPING": "3", 
    "SHORT_DATETIME_FORMAT": "m/d/Y P", 
    "SHORT_DATE_FORMAT": "m/d/Y", 
    "THOUSAND_SEPARATOR": ",", 
    "TIME_FORMAT": "P", 
    "TIME_INPUT_FORMATS": [
      "%H:%M:%S", 
      "%H:%M:%S.%f", 
      "%H:%M"
    ], 
    "YEAR_MONTH_FORMAT": "F Y"
  };

  django.get_format = function (format_type) {
    var value = django.formats[format_type];
    if (typeof(value) == 'undefined') {
      return format_type;
    } else {
      return value;
    }
  };

  /* add to global namespace */
  globals.pluralidx = django.pluralidx;
  globals.gettext = django.gettext;
  globals.ngettext = django.ngettext;
  globals.gettext_noop = django.gettext_noop;
  globals.pgettext = django.pgettext;
  globals.npgettext = django.npgettext;
  globals.interpolate = django.interpolate;
  globals.get_format = django.get_format;

}(this));



    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'compat_api': false,'header_feedback': true,'helpfulness': false,'kumaediting': false,'mdn10_logo': true,'mdn10_tile': true,'page_move': false,'registration_disabled': false,'search_suggestions': false,'share_links': false,'wiki_samples': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': false,'store_revision_ips': true,'dumb_doc_urls': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        
        // This represents the site configuration
        win.mdn = {
            build: '2aab9d6',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to static assets (images, CSS, JS) in MDN
            staticPath: 'https://developer.cdn.mozilla.net/static/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
                        notifications: [],
                        // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            }
        };
    })(this);
</script>
    <div class="global-notice">
    <div class="wrap center">
              <p><bdi>Join MDN and developers like you at Mozilla's View Source conference, November 2-4 in Portland, Oregon. Learn more at <a href="https://viewsourceconf.org/">https://viewsourceconf.org/</a>.</bdi></p>
          </div>
  </div>


  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
          <li><a href="#q" id="skip-search">Skip to search</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div id="tabzilla">
        <a href="http://www.mozilla.org/" class="no-track">mozilla</a>
    </div>

    <div class="clear header-clear"></div>

            <a href="https://developer.mozilla.org/en-US/" class="logo logo-mdn10">Mozilla Developer Network</a>
    
    <div id="nav-sec">
                          <ul>
                  <li>
    
    <form>
      <div class="oauth-login-container">
          <div class="oauth-login-options" tabindex="0">
              <span class="oauth-login-options-text">
                <span class="oauth-login-options-text-icons">Sign in with</span>
                <span class="oauth-login-options-text-no-icons">Sign in</span>
              </span>
              <span class="oauth-icon oauth-persona launch-persona-login wait-for-persona disabled" data-service="Persona" data-next="/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_toggle" title="Persona"><i class="icon-user" aria-hidden="true"></i></span>
              <span class="oauth-icon oauth-github" data-service="GitHub" data-href="/users/github/login/?next=%2Fen-US%2FAdd-ons%2FSDK%2FLow-Level_APIs%2Fui_button_toggle" title="GitHub"><i class="icon-github" aria-hidden="true"></i></span>
          </div>
          <div class="oauth-login-picker" aria-hidden="true">
              <ul>
                  <li class="wait-for-persona disabled"><a href="https://developer.mozilla.org/en-US/users/signin" class="login-link launch-persona-login" data-next="/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_toggle" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                  <li><a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2FAdd-ons%2FSDK%2FLow-Level_APIs%2Fui_button_toggle" class="login-link" data-service="GitHub"><i class="icon-github" aria-hidden="true"></i>GitHub</a></li>
              </ul>
          </div>
      </div>
    </form>
</li>
                </ul>
            </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-cols-2 js-submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="../../../docs/Web/API.html">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References &amp; Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learn the Web</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Mozilla Docs<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a></li><li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li><li><a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-contact-submenu">
          <div class="submenu-column">
            <ul>
                <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li>
                <li><a href="http://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a></li>
              <li><a href="https://bugzilla.mozilla.org/form.doc">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li>
              <li><a href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
          </div>
        </div>

      </li><li class="nav-search-link"><a href="https://developer.mozilla.org/en-US/search" title="Search"><i aria-hidden="true" class="icon-search"></i></a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="">
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
                <div class="zone-article-header" id="document-main"><div class="center">
          <!-- zone title -->
          <div class="zone-title"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></div>
          <!-- zone image -->
          <div class="zone-image"></div>
        </div></div>
      
     <!-- end is_zone -->


    <div class="wiki-main-content"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
        
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                                                <li><bdi><a rel="internal" href="https://developer.mozilla.org/zh-CN/docs/Add-ons/SDK/Low-Level_APIs/ui_button_toggle" title="切换按钮">中文 (简体)</a></bdi></li>
                              
                              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li>
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu js-submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle$history" rel="nofollow, noindex">History</a></li>
                                                                
                
                                                                <li class="page-print"><a href="#" onclick="return window.print();">Print this page</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons" rel="v:url" property="v:title">Add-ons</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK" rel="v:url" property="v:title">Add-on SDK</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../Low-Level_APIs.html" rel="v:url" property="v:title">Low-Level APIs</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">ui/button/toggle</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc submenu">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>

        <h1>ui/button/toggle</h1>

        
                <div class="contributor-avatars" data-all-text="Show all…&lt;span class='hidden'&gt;contributors&lt;/span&gt;">
            <span class="quickstat">
            by 2 contributors:            </span>
            <ul>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/wbamberg" title="View profile: wbamberg">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="wbamberg" data-src="../../../../../secure.gravatar.com/avatar/576b94c81f8ad97e58d63f12e5fdb00c6aac.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">wbamberg</noscript></a>
                </li>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Rob W" title="View profile: Rob W">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Rob W" data-src="../../../../../secure.gravatar.com/avatar/c916d92c098426d84778a7910cc32b396aac.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">Rob W</noscript></a>
                </li>
                        </ul>
        </div>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-present">

                    <!-- additional controls row; hidden unless needed -->
          <div id="wiki-controls" class="column-container column-container-reverse">
            <div class="column-strip">
              <!-- Show TOC "show" link -->
            </div>
            <div class="column-half">
            </div>
            <div class="column-strip quick-links hidden">
              <a href="#show-quick-links" class="title smaller" id="show-quick-links"><i aria-hidden="true" class="icon-caret-down"></i>Show Sidebar</a>
            </div>
          </div>
          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable" data-closed="true">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <li><a href="#Usage" rel="internal">Usage</a><ol><li><a href="#Creating_buttons" rel="internal">Creating buttons</a></li><li><a href="#Badged_buttons" rel="internal">Badged buttons</a></li><li><a href="#Specifying_multiple_icons" rel="internal">Specifying multiple icons</a></li><li><a href="#Responding_to_click_events" rel="internal">Responding to click events</a></li><li><a href="#Attaching_panels_to_buttons" rel="internal">Attaching panels to buttons</a></li><li><a href="#Disabling_buttons" rel="internal">Disabling buttons</a></li><li><a href="#Updating_state" rel="internal">Updating state</a></li><li><a href="#Updating_checked" rel="internal">Updating <code>checked</code></a></li><li><a href="#Destroying_buttons" rel="internal">Destroying buttons</a></li></ol></li><li><a href="#Globals" rel="internal">Globals</a><ol><li><a href="#Constructors" rel="internal">Constructors</a><ol><li><a href="#ToggleButton(options)" rel="internal"><code>ToggleButton(options)</code></a></li></ol></li></ol></li><li><a href="#ToggleButton" rel="internal">ToggleButton</a><ol><li><a href="#Methods" rel="internal">Methods</a><ol><li><a href="#click()" rel="internal"><code>click()</code></a></li><li><a href="#state()" rel="internal"><code>state()</code></a></li><li><a href="#on()" rel="internal"><code>on()</code></a></li><li><a href="#once()" rel="internal"><code>once()</code></a></li><li><a href="#removeListener()" rel="internal"><code>removeListener()</code></a></li><li><a href="#destroy()" rel="internal"><code>destroy()</code></a></li></ol></li><li><a href="#Properties" rel="internal">Properties</a><ol><li><a href="#id" rel="internal"><code>id</code></a></li><li><a href="#label" rel="internal"><code>label</code></a></li><li><a href="#icon" rel="internal"><code>icon</code></a></li><li><a href="#disabled" rel="internal"><code>disabled</code></a></li><li><a href="#checked" rel="internal"><code>checked</code></a></li><li><a href="#badge" rel="internal"><code>badge</code></a></li><li><a href="#badgeColor" rel="internal"><code>badgeColor</code></a></li></ol></li><li><a href="#Events" rel="internal">Events</a><ol><li><a href="#click" rel="internal"><code>click</code></a></li><li><a href="#change" rel="internal"><code>change</code></a></li></ol></li></ol></li>
                </ol>
                              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-half wiki-column text-content">

              
              
                                                                                          
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <div class="note">
 <p>Experimental</p>
</div>
<p><span class="seoSummary">Add a toggle button to the Firefox user interface.</span> With this module you can create buttons that function like a check box, representing an on/off choice.</p>
<p>Toggle buttons have all the same features as <a href="ui_button_action.html">action buttons</a>: they can display icons and respond to click events. Like action buttons, you can control their state on a per-window or per-tab basis as well as globally. Toggle buttons have two extra features:</p>
<ul>
 <li>they emit a <code>change</code> event when clicked, as well as a <code>click</code> event.</li>
 <li>they have an extra attribute <code>checked</code> that is automatically toggled when the button is clicked. When a button is checked it gets a "pressed" look in the user interface (note that the "Pressed" look currently does not work in Mac OS X).</li>
</ul>
<h2 id="Usage">Usage</h2>
<h3 id="Creating_buttons">Creating buttons</h3>
<p>To create a button you must give it an ID, an icon, and a label:</p>
<pre class="brush: js">var { ToggleButton } = require("sdk/ui/button/toggle");

var button = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button",
&nbsp;&nbsp;&nbsp; label: "my button",
&nbsp;&nbsp;&nbsp; icon: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "16": "./firefox-16.png",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "32": "./firefox-32.png"
&nbsp;&nbsp;&nbsp; },
&nbsp;&nbsp;&nbsp; onChange: function(state) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; console.log(state.label + " checked state: " + state.checked);
&nbsp;&nbsp;&nbsp; }
&nbsp; });</pre>
<p>By default, the button appears in the Firefox toolbar:</p>
<p><img src="../../../../../mdn.mozillademos.org/files/6803/action-button-toolbar.png" style="width: 381px; height: 201px; display: block; margin-left: auto; margin-right: auto;" alt="">However, users can move it to the Firefox menu panel:</p>
<p><img src="../../../../../mdn.mozillademos.org/files/6809/action-button-menu.png" style="width: 381px; height: 573px; display: block; margin-left: auto; margin-right: auto;" alt=""></p>
<h3 id="Badged_buttons">Badged buttons</h3>
<div class="geckoVersionNote">
 <p>New in Firefox 36.</p>
</div>
<p>You can add a "badge" to a button using its <code>badge</code> property. This can contain a number or a string, and you can update it at any time. By default the badge's color is red, but you can set your own color using the <code>badgeColor</code> property, specified as a CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value"><code>&lt;color&gt;</code></a> value:</p>
<pre class="brush: js">var { ToggleButton } = require("sdk/ui/button/toggle");

var button = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button1",
&nbsp;&nbsp;&nbsp; label: "my button1",
&nbsp;&nbsp;&nbsp; icon: "./icon-16.png",
&nbsp;&nbsp;&nbsp; onChange: changed,
&nbsp;&nbsp;&nbsp; badge: 0,
&nbsp;&nbsp;&nbsp; badgeColor: "#00AAAA"
&nbsp; });

function changed(state) {
&nbsp; button.badge = state.badge + 1;
&nbsp; if (state.checked) {
&nbsp;&nbsp;&nbsp; button.badgeColor = "#AA00AA";
&nbsp; }
&nbsp; else {
&nbsp;&nbsp;&nbsp; button.badgeColor = "#00AAAA";
&nbsp; }
}</pre>
<p><img src="../../../../../mdn.mozillademos.org/files/9805/badge.png" style="width: 384px; height: 168px; display: block; margin-left: auto; margin-right: auto;" alt=""></p>
<h3 id="Specifying_multiple_icons">Specifying multiple icons</h3>
<p>You can specify just one icon, or multiple icons in different sizes.</p>
<p>If you specify multiple icons, Firefox will select the best-fitting icon based on the device screen resolution and the place the icon appears. For example, in the screenshots above, Firefox uses the small icon when the button is in the toolbar and the large icon when the button is in the menu panel. Read more about specifying icons in the reference documentation for the <a href="ui_button_toggle.html#ToggleButton(options)"><code>ToggleButton</code> constructor</a>.</p>
<h3 id="Responding_to_click_events">Responding to click events</h3>
<p>You can respond to click events by assigning a listener to the button's <a href="ui_button_toggle.html#click"><code>click</code></a> or <a href="ui_button_toggle.html#change"><code>change</code></a> events. You can do this in the button's constructor, by assigning the listener to the <code>onClick</code> or <code>onChange</code> option. You can also add, or change, the listener afterwards:</p>
<pre class="brush: js">var { ToggleButton } = require("sdk/ui/button/toggle");

var button = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button",
&nbsp;&nbsp;&nbsp; label: "my button",
&nbsp;&nbsp;&nbsp; icon: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "16": "./firefox-16.png",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "32": "./firefox-32.png"
&nbsp;&nbsp;&nbsp; },
&nbsp;&nbsp;&nbsp; onClick: firstClick,
&nbsp;&nbsp; &nbsp;onChange: firstChange
&nbsp; });

function firstClick(state) {
&nbsp; console.log("You clicked '" + state.label + "'");
&nbsp; button.removeListener("click", firstClick);
&nbsp; button.on("click", subsequentClicks);
}

function subsequentClicks(state) {
&nbsp; console.log("You clicked '" +&nbsp; state.label + "' again");
}

function firstChange(state) {
&nbsp; console.log("You changed '" + state.label + "'");
&nbsp; button.removeListener("change", firstChange);
&nbsp; button.on("change", subsequentChanges);
}

function subsequentChanges(state) {
&nbsp; console.log("You changed '" +&nbsp; state.label + "' again");
}</pre>
<p>The listener is passed a <code>state</code> object that contains all the button's <a href="ui_button_toggle.html#Properties">properties</a>.</p>
<p>You can generate click and change events programmatically with the button's <a href="ui_button_toggle.html#click()"><code>click()</code></a> method.</p>
<h3 id="Attaching_panels_to_buttons">Attaching panels to buttons</h3>
<p>You can attach panels to buttons by passing the button as the <code>position</code> option to the panel's <a href="../High-Level_APIs/panel.html#show(options)"><code>show()</code></a> method or the panel's constructor:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');
var panels = require("sdk/panel");
var self = require("sdk/self");

var button = ToggleButton({
  id: "my-button",
  label: "my button",
  icon: {
    "16": "./icon-16.png",
    "32": "./icon-32.png",
    "64": "./icon-64.png"
  },
  onChange: handleChange
});

var panel = panels.Panel({
  contentURL: self.data.url("panel.html"),
  onHide: handleHide
});

function handleChange(state) {
  if (state.checked) {
    panel.show({
      position: button
    });
  }
}

function handleHide() {
  button.state('window', {checked: false});
}
</pre>
<p><img src="../../../../../mdn.mozillademos.org/files/7617/panel-button.png" style="width: 397px; height: 332px; display: block; margin-left: auto; margin-right: auto;" alt=""></p>
<h3 id="Disabling_buttons">Disabling buttons</h3>
<p>You can disable a button by setting its <a href="ui_button_toggle.html#disabled"><code>disabled</code></a> property to <code>true</code>. A disabled button will not generate click or change events and its icon will appear disabled:</p>
<p><img src="../../../../../mdn.mozillademos.org/files/6805/action-button-toolbar-disabled.png" style="width: 381px; height: 201px; display: block; margin-left: auto; margin-right: auto;" alt=""></p>
<h3 id="Updating_state">Updating state</h3>
<p>You can update all the button's <a href="ui_button_toggle.html#Properties">properties</a>, except for its <code><a href="ui_button_toggle.html#id">id</a></code>.</p>
<p>Depending on your application, you might want a button to have different state in different browser windows or different tabs. For example, you might want to give it a different appearance when the current page is being served over HTTPS. The button API handles this by defining a tree of potential states. At the root is the global state, then there's a state you can set for each window, then a state you can set for each tab.</p>
<p>More-specific states override less-specific states. For example, suppose the browser has two windows (W1 and W2), and each window has two tabs. Initially the buttons in all tabs and windows will display the label value inherited from the global state:</p>
<ul class="directory-tree">
 <li>Browser: label = "my default"
  <ul>
   <li>W1
    <ul>
     <li>T1&nbsp;&nbsp; &gt; displays "my default"</li>
     <li>T2&nbsp;&nbsp; &gt; displays "my default"</li>
    </ul>
   </li>
   <li>W2
    <ul>
     <li>T3&nbsp;&nbsp; &gt; displays "my default"</li>
     <li>T4&nbsp;&nbsp; &gt; displays "my default"</li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p>If you then set a label specific to T3 as "my T3 label", then set a label state specific to W2 as "my W2 label", then the button displayed when T3 is the active tab will still show "my T3 label", but the button displayed when T4 is the active tab will show "my W2 label":</p>
<ul class="directory-tree">
 <li>Browser: label = "my default"
  <ul>
   <li>W1
    <ul>
     <li>T1&nbsp;&nbsp; &gt; displays "my default"</li>
     <li>T2&nbsp;&nbsp; &gt; displays "my default"</li>
    </ul>
   </li>
   <li>W2
    <ul>
     <li>T3&nbsp;&nbsp; &gt; displays "my T3 label"</li>
     <li>T4&nbsp;&nbsp; &gt; displays "my W2 label"</li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p>Setting the properties on the button instance sets the button's global state:</p>
<pre class="brush: js">button.label = "my new label";</pre>
<p>You can set state to be specific to a window or tab using the button's <a href="ui_button_toggle.html#state()"><code>state()</code></a> method. To set state like this, call <code>state()</code> with 2 parameters:</p>
<ul>
 <li>the first parameter is a <a href="../High-Level_APIs/windows.html"><code>window</code></a> or <a href="../High-Level_APIs/tabs.html#Tab"><code>tab</code></a> object or as a shorthand, the string "window" for the currently active window, or the string "tab" for the currently active tab</li>
 <li>the second parameter is an object containing the state properties you wish to update.</li>
</ul>
<p>Here's an add-on with a button that disables itself when you click it, but only for the currently active window:</p>
<pre class="brush: js">var { ToggleButton } = require("sdk/ui/button/toggle");

var button = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button",
&nbsp;&nbsp;&nbsp; label: "my button",
&nbsp;&nbsp;&nbsp; icon: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "16": "./firefox-16.png",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "32": "./firefox-32.png"
&nbsp;&nbsp;&nbsp; },
&nbsp;&nbsp;&nbsp; onClick: disableForThisWindow
&nbsp; });

function disableForThisWindow(state) {
&nbsp; button.state("window", {
&nbsp;&nbsp;&nbsp; disabled: true
&nbsp; });
}</pre>
<p>To fetch the state for a specific window or tab, call <code>state()</code>, passing in the window or tab you are interested in, and it will return the state:</p>
<pre class="brush: js">var labelForActiveTab = button.state("tab").label;</pre>
<p>To learn more about this, see the API documentation for <a href="ui_button_toggle.html#state()"><code>state()</code></a>.</p>
<h3 id="Updating_checked">Updating <code>checked</code></h3>
<p>You can update a toggle button's <code>checked</code> property in just the same way you update its other properties, but there's one extra thing you need to keep in mind.</p>
<p>The <code>checked</code> property is not only updated directly by assignment, but is also updated when the user clicks the button (or when some code calls <code>button.click()</code>). When that happens,&nbsp; the button is updated for the window whose button was clicked. Because window-specific state overrides global state, if you try to update <code>checked</code> by direct assignment to the button, this will be overridden by the user clicking the button.</p>
<p>If you want to change this default behavior, you can delete the window-specific state in your button's <code>onChange</code> handler. For example, here's a button that makes click events update checked globally, and not just for the current window:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');

var globalToggle = ToggleButton({
  id: 'my-global-toggle',
  label: 'global',
  icon: './foo.png',
  onChange: function() {
    // delete the window state for the current window,
    // automatically set when the user click on the button
    this.state('window', null);
    
    // now that the state hierarchy is clean, set the global state
    this.checked = !this.checked;
  }
});</pre>
<p>Here's a button that makes click events update only the current tab:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');

var tabToggle = ToggleButton({
  id: 'my-tab-toggle',
  label: 'tab-specific',
  icon: './foo.png',
  onChange: function() {
    // delete the window state for the current window,
    // automatically set when the user click on the button
    this.state('window', null);
    
    // now that the state hierarchy is clean, set the
    // tab state for the current tab
    let { checked } = this.state('tab');
    this.state('tab', {checked: !checked});
  }
});</pre>
<h3 id="Destroying_buttons">Destroying buttons</h3>
<p>When you've finished with a button, destroy it by calling its <a href="ui_button_toggle.html#destroy()"><code>destroy()</code></a> method. After that, any attempts to access any of its properties or to call any of its methods will throw exceptions.</p>
<h2 id="Globals">Globals</h2>
<h3 id="Constructors">Constructors</h3>
<h4 id="ToggleButton(options)" class="addon-sdk-api-name"><code>ToggleButton(options)</code></h4>
<p>Creates a toggle button.</p>
<h5 id="Parameters">Parameters</h5>
<p><strong>options : object</strong><br>
 Required options:</p>
<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col">Type</th>
   <th scope="col">&nbsp;</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>id</td>
   <td>string</td>
   <td>
    <p>The button's ID. This is used internally to keep track of this button. The ID must be unique within your add-on.</p>
   </td>
  </tr>
  <tr>
   <td>label</td>
   <td>string</td>
   <td>
    <p>The button's human-readable label. When the button is in the toolbar, this appears in a tooltip, and when the button is in the menu, it appears underneath the button as a legend.</p>
   </td>
  </tr>
  <tr>
   <td>icon</td>
   <td>url, string, object</td>
   <td>
    <p>One or more icons for the button. You can specify this in one of three ways:&nbsp;</p>
    <ul>
     <li><strong>as a resource:// URL</strong> pointing at an icon file in your add-on's "data" directory, typically constructed using <em><code>self.data.url(iconfile)</code></em></li>
     <li><strong>as a relative path</strong>: a string in the form "./iconfile", where "iconfile" is a relative path to the icon file beginning in your add-on's "data" directory</li>
     <li><strong>as an object, or dictionary of key-value pairs</strong>. Here you can specify a range of sizes for your button's icon. Each key-value pair specifies an icon:
      <ul>
       <li>each value specifies an image file as a resource:// URL or relative path.</li>
       <li>each key must be a numeric string such as "16", or "32", which represents the size in pixels of the corresponding image.</li>
      </ul>
     </li>
    </ul>
    <pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');
var self = require("sdk/self");

var button1 = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button1",
&nbsp;&nbsp;&nbsp; label: "my button1",
&nbsp;&nbsp;&nbsp; icon: self.data.url("firefox-16.png")
&nbsp; });

var button2 = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button2",
&nbsp;&nbsp;&nbsp; label: "my button2",
&nbsp;&nbsp;&nbsp; icon: "./firefox-16.png"
&nbsp; });

var button3 = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "my-button3",
&nbsp;&nbsp;&nbsp; label: "my button3",
&nbsp;&nbsp;&nbsp; icon: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "16" : "./firefox-16.png",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "32" : "./firefox-32.png",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "64" : "./firefox-64.png"
&nbsp;&nbsp;&nbsp; }
&nbsp; });</pre>
    <p>If you use the final form, Firefox will automatically choose the best-fit icon for your button, depending on the device screen resolution and where the button is in the UI. On a device with a "normal" screen resolution, the toolbar has space for 18 x 18 pixels and the menu panel has space for 32 x 32 pixels. On a high resolution screen (such as a <a href="https://en.wikipedia.org/wiki/Retina_Display" class="external">HiDPI</a> display), these are doubled to 36 x 36 and 64 x 64 pixels, respectively. So you can supply three icon files:</p>
    <pre class="brush: js">icon: {
  "16": "./addon16.png",
  "32": "./addon32.png",
  "64": "./addon64.png"
}</pre>
    <p>This will look fine in both toolbar and menu panel, and for both screen resolutions. However, the icons in the toolbar will not quite fill the space available, so you can instead supply four icons:</p>
    <pre class="brush: js">icon: {
  "18": "./addon18.png", // toolbar icon non HiDPI
  "32": "./addon32.png", // menu panel icon non HiDPI
  "36": "./addon36.png", // toolbar icon HiDPI
  "64": "./addon64.png"  // menu panel icon HiDPI
}
</pre>
   </td>
  </tr>
 </tbody>
</table>
<p>Optional options:</p>
<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col">Type</th>
   <th scope="col">&nbsp;</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>disabled</td>
   <td>boolean</td>
   <td>
    <p>Determines whether the button is disabled. Disabled buttons appear disabled in the UI, and do not respond to clicks. Defaults to false.</p>
   </td>
  </tr>
  <tr>
   <td>onClick</td>
   <td>function</td>
   <td>
    <p>Click handler for the button.</p>
   </td>
  </tr>
  <tr>
   <td>badge</td>
   <td>Number or String</td>
   <td>
    <div class="geckoVersionNote">
     <p>New in Firefox 36.</p>
    </div>
    <p><a href="ui_button_toggle.html#Badged_buttons">Badge</a> to attach to the button.</p>
    <p>The badge can contain as many characters (or digits) as you like, but only the first four will be displayed.</p>
   </td>
  </tr>
  <tr>
   <td>badgeColor</td>
   <td>CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">&lt;color&gt;</a> value</td>
   <td>
    <div class="geckoVersionNote">
     <p>New in Firefox 36.</p>
    </div>
    <p>Color for the <a href="ui_button_toggle.html#Badged_buttons">badge</a>. If <code>badgeColor</code> is omitted and <code>badge</code> is specified, then the badge is red.</p>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="ToggleButton">ToggleButton</h2>
<h3 id="Methods">Methods</h3>
<h4 id="click()" class="addon-sdk-api-name"><code>click()</code></h4>
<p>Click the button. This will cause the button to generate the <code>click</code> event:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');

var button = ToggleButton({
  id: "my-button",
  label: "my button",
  icon: {
    "16": "./firefox-16.png",
    "32": "./firefox-32.png"
  },
  onClick: function(state) {
      console.log("You clicked '" + state.label + "'");
  }
});

button.click();
</pre>
<h4 id="state()" class="addon-sdk-api-name"><code>state()</code></h4>
<p>Get or set the button's state for a specific window or tab.</p>
<p>By default, a button's <a href="ui_button_toggle.html#Properties">properties</a> are global, meaning that they are the same across all open windows and tabs, and that if you update these properties, then they are updated across all windows and tabs. But sometimes you want a button attached to one window (or tab) to have a different state to a button attached to a different window (or tab). That's what <code>state()</code> is for.</p>
<p>To set a button's properties for a specific window or tab, call <code>state()</code>, passing it the <a href="../High-Level_APIs/windows.html"><code>window</code></a> or <a href="../High-Level_APIs/tabs.html"><code>tab</code></a> you want the property to apply to, and the property value to set. A special shortcut allows you to pass the string "window" or "tab" to select the currently active window or tab.</p>
<p>For example, if you have a button like this:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');

var button = ToggleButton({
  id: "my-button",
  label: "default",
  icon: "./firefox-16.png"
});</pre>
<p>You can change its label for only the currently active window like this:</p>
<pre class="brush: js">button.state("window", {
  "label" : "window-specific label"
});</pre>
<p>You can change its label for only the currently active tab like this:</p>
<pre class="brush: js">button.state("tab", {
  "label" : "tab-specific label"
});
</pre>
<p>To fetch the button state for a specific window or tab, call <code>state()</code>, passing it the window or tab you're interested in, and it will return a state object containing the <code>id</code>, <code>label</code>, <code>icon</code>, and <code>disabled</code> properties for the button associated with that window or tab. Again. you can use the strings "window" or "tab" as shortcuts. For example, this add-on:</p>
<ul>
 <li>creates a button with a default label</li>
 <li>opens a new tab</li>
 <li>sets a new label only for the new tab</li>
 <li>logs the result of accessing the global label, the window-specific label, and each of the 2 tab-specific labels</li>
</ul>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');
var tabs = require("sdk/tabs");

var button = ToggleButton({
&nbsp; id: "my-button",
&nbsp; label: "default label",
&nbsp; icon: "./firefox-16.png"
});

tabs.open({
&nbsp; url: "https://mozilla.org/",
&nbsp; onOpen: onNewTab
});

function onNewTab(tab) {
&nbsp; // Modify the label only for the new tab
&nbsp; button.state(tab, {
&nbsp;&nbsp;&nbsp; "label" : "tab-specific label"
&nbsp; });

&nbsp; // access the global label -&gt; "default label"
&nbsp; console.log(button.label);

&nbsp; // access the window's label -&gt; "default label"
&nbsp; console.log(button.state("window").label);

&nbsp; // access the first tab's label -&gt; "default label"
&nbsp; console.log(button.state(tabs[0]).label);

&nbsp; // access the second tab's label -&gt; "tab-specific label"
&nbsp; console.log(button.state(tabs[1]).label);
}</pre>
<p>Setting a property won't affect a more-specific property setting. For example, if you have a window with two tabs, and you set a tab-specific label, then set the window-specific label, this will not overwrite the tab-specific label:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');
var tabs = require("sdk/tabs");

var button = ToggleButton({
&nbsp; id: "my-button",
&nbsp; label: "default label",
&nbsp; icon: "./firefox-16.png"
});

tabs.open({
&nbsp; url: "https://mozilla.org/",
&nbsp; onOpen: onNewTab
});

function onNewTab(tab) {
&nbsp; // Modify the label only for the new tab
&nbsp; button.state(tab, {
&nbsp;&nbsp;&nbsp; "label" : "tab-specific label"
&nbsp; });

&nbsp; // Modify the label for the window
&nbsp; button.state("window", {
&nbsp;&nbsp;&nbsp; "label" : "window-specific label"
&nbsp; });

&nbsp; // access the global label -&gt; "default label"
&nbsp; console.log(button.label);

&nbsp; // access the window's label -&gt; "window-specific label"
&nbsp; console.log(button.state("window").label);

&nbsp; // access the first tab's label -&gt; "window-specific label"
&nbsp; console.log(button.state(tabs[0]).label);

&nbsp; // access the second tab's label -&gt; "tab-specific label"
&nbsp; console.log(button.state(tabs[1]).label);
}</pre>
<p>The best way to think of this is as a tree: the global state is the root, followed by the state for each window, followed by the state for each tab in a window. If a property value for a node in the tree has not been set explicitly using <code>state()</code>, then it inherits its value from the next level up. So if you have one window containing two tabs, and have set the button's <code>label</code> only for tab A, then tab B will inherit <code>label</code>'s value from the window, and changing the value for the window will implicitly change the value for tab B.</p>
<p>To delete a tab- or window-specific state, assign <code>null</code> to the property. After that, the property will inherit its value from the less-specific state as before:</p>
<pre class="brush: js">var { ToggleButton } = require('sdk/ui/button/toggle');
var tabs = require("sdk/tabs");

var button = ToggleButton({
  id: "my-button",
  label: "default label",
  icon: "./firefox-16.png"
});

tabs.open({
  url: "https://mozilla.org/",
  onOpen: onNewTab
});

function onNewTab(tab) {
  // Modify the label only for the new tab
  button.state(tab, {
    "label" : "tab-specific label"
  });

  // Modify the label for the window
  button.state("window", {
    "label" : "window-specific label"
  });

  // access the global label -&gt; "default label"
  console.log(button.label);

  // access the window's label -&gt; "window-specific label"
  console.log(button.state("window").label);

  // access the first tab's label -&gt; "window-specific label"
  console.log(button.state(tabs[0]).label);

  // access the second tab's label -&gt; "tab-specific label"
  console.log(button.state(tabs[1]).label);

  // Reset the tab-specific state
  button.state(tab, null);

  // access the second tab's label -&gt; "window-specific label"
  console.log(button.state(tabs[1]).label);
}</pre>
<p>Finally, you can pass the button itself into <code>state()</code>. This is an alternative way to set or get the global state. The reason for using this, rather than setting state properties individually, is that you can define an object with the properties to set in one place, then apply it to the global state with a single line:</p>
<pre class="brush: js">const defaultState = {
&nbsp; "label": "default label",
&nbsp; "icon": "./default.png",
}

const differentState = {
&nbsp; "label": "different label",
&nbsp; "icon": "./different.png",
}

var { ToggleButton } = require("sdk/ui/button/toggle");

var button = ToggleButton({
&nbsp;&nbsp;&nbsp; id: "default-label",
&nbsp;&nbsp;&nbsp; label: "default label",
&nbsp;&nbsp;&nbsp; icon: "./default.png",
&nbsp;&nbsp;&nbsp; onClick: function(state) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (button.label == "default label") {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; button.state(button, differentState);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; button.state(button, defaultState);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; console.log(button.state(button).label);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; console.log(button.state(button).icon);
&nbsp;&nbsp;&nbsp; }
&nbsp; });
</pre>
<h5 id="Parameters_2">Parameters</h5>
<p><strong>target : button, tab, window, string</strong></p>
<ul>
 <li>To set or get the global state, this needs to be the <code>button</code> instance.</li>
 <li>To get or set window-specific state, this needs to be the <a href="../High-Level_APIs/windows.html"><code>window</code></a> object for which you wish to set a specific state, or the string "window" to select the currently active window.</li>
 <li>To get or set tab-specific state this needs to be the <a href="../High-Level_APIs/tabs.html"><code>tab</code></a> object for which you wish to set a specific state, or the string "tab" to select the currently active tab.</li>
</ul>
<p><strong>state : object, null</strong><br>
 Include this parameter only if you are setting state. It is an object containing all the properties you wish to set. For example:</p>
<pre class="brush: js">button.state("tab", {
  "label" : "tab-specific label",
  "icon": "./tab-specific-icon.ico"
});</pre>
<p>To reset state, pass null:</p>
<pre class="brush: js">button.state("tab", null);</pre>
<h5 id="Returns">Returns</h5>
<p><strong>state</strong> : if you have passed the second <code>state</code> argument to make this function a setter, it returns <code>undefined</code>. Otherwise, it functions as a getter and returns the button's state for the specified object. This logs the state for the button associated with the currently active tab:</p>
<pre class="brush: js">console.log(button.state("tab"));</pre>
<p>This object represents a snapshot of the state at the time <code>state()</code> is called. It is not kept up to date with changes made to the button:</p>
<pre class="brush: js">button.label = "foo";
var state = button.state(button);
button.label = "bar";
console.log(state.label) // foo</pre>
<h4 id="on()" class="addon-sdk-api-name"><code>on()</code></h4>
<p>Add a listener to an event emitted by the button.</p>
<pre class="brush: js">button.on("click", handleClick)

function handleClick(state) {
  console.log("button '" + state.label + "' was clicked");
}</pre>
<h5 id="Parameters_3">Parameters</h5>
<p><strong>event : string</strong><br>
 The event to listen for. Toggle buttons emit two types of event, "<a href="ui_button_toggle.html#click"><code>click</code></a>" and "<code><a href="ui_button_toggle.html#change">change</a></code>".</p>
<p><strong>listener : function</strong><br>
 Function that will be called on the event.</p>
<h4 id="once()" class="addon-sdk-api-name"><code>once()</code></h4>
<p>Assign a listener to the first occurrence only of an event emitted by the button. The listener is automatically removed after the first time the event is emitted.</p>
<h5 id="Parameters_4">Parameters</h5>
<p><strong>event : string</strong><br>
 The event to listen for. Toggle buttons emit two types of event, "<a href="ui_button_toggle.html#click"><code>click</code></a>" and "<code><a href="ui_button_toggle.html#change">change</a></code>".</p>
<p><strong>listener : function</strong><br>
 Function that will be called on the event.</p>
<h4 id="removeListener()" class="addon-sdk-api-name"><code>removeListener()</code></h4>
<p>Removes an event listener. For example, this code is equivalent to <a href="ui_button_toggle.html#once()"><code>once()</code></a>:</p>
<pre class="brush: js">button.on("click", handleClick)

function handleClick(state) {
  console.log("button '" + state.label + "' was clicked");
  button.removeListener("click", handleClick);
} </pre>
<h5 id="Parameters_5">Parameters</h5>
<p><strong>event : string</strong><br>
 The event to listener is listening for. Toggle buttons emit two types of event, "<a href="ui_button_toggle.html#click"><code>click</code></a>" and "<code><a href="ui_button_toggle.html#change">change</a></code>".</p>
<p><strong>listener : function</strong><br>
 The listener to remove.</p>
<h4 id="destroy()" class="addon-sdk-api-name"><code>destroy()</code></h4>
<p>Destroy the button. After calling this function, the button will no longer appear in the UI, and accessing any of its properties or methods will throw an error.</p>
<h3 id="Properties">Properties</h3>
<h4 id="id" class="addon-sdk-api-name"><code>id</code></h4>
<p>The button's unique ID. This property is read-only.</p>
<h4 id="label" class="addon-sdk-api-name"><code>label</code></h4>
<p>The button's label.</p>
<h4 id="icon" class="addon-sdk-api-name"><code>icon</code></h4>
<p>The button's icon or icons, as a URL, relative path, or object containing a set of key-value pairs.</p>
<h4 id="disabled" class="addon-sdk-api-name"><code>disabled</code></h4>
<p>Boolean property indicating whether or not the button is disabled.</p>
<h4 id="checked" class="addon-sdk-api-name"><code>checked</code></h4>
<p>Boolean property indicating whether or not the button is checked. It's initialized to <code>false</code>, or the value of the <code>checked</code> option to the button's constructor. It is then flipped, on a per-window basis, whenever the user clicks the button or when the button's <a href="ui_button_toggle.html#click()"><code>click()</code></a> method is called.</p>
<h4 id="badge" class="addon-sdk-api-name"><code>badge</code></h4>
<div class="geckoVersionNote">
 <p>New in Firefox 36.</p>
</div>
<p>Value to attach to the button as a <a href="ui_button_toggle.html#Badged_buttons">badge</a>. May be a number or a string.</p>
<p>The badge can contain as many characters (or digits) as you like, but only the first four will be displayed.</p>
<h4 id="badgeColor" class="addon-sdk-api-name"><code>badgeColor</code></h4>
<div class="geckoVersionNote">
 <p>New in Firefox 36.</p>
</div>
<p>Color for the <a href="ui_button_toggle.html#Badged_buttons">badge</a>, specified as a CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">&lt;color&gt;</a> value.</p>
<h3 id="Events">Events</h3>
<h4 id="click" class="addon-sdk-api-name"><code>click</code></h4>
<p>This event is emitted when a user clicks the button or your add-on calls the button's <code>click()</code> method.</p>
<h5 id="Arguments">Arguments</h5>
<p><strong>state</strong> : The button's state. This includes all the button's <a href="ui_button_toggle.html#Properties">properties</a>.</p>
<h4 id="change" class="addon-sdk-api-name"><code>change</code></h4>
<p>This event is emitted when a user clicks the button or your add-on calls the button's <code>click()</code> method. This event is emitted at the same time as <code>click</code> and its listener receives the same argument. The only purpose of the extra event is that <code>change</code> is a more natural event name for a toggle button, as it matches the <code>change</code> event emitted by elements like <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Input"><code>&lt;input&gt;</code></a>.</p>
<h5 id="Arguments_2">Arguments</h5>
<p><strong>state</strong> : The button's state. This includes all the button's <a href="ui_button_toggle.html#Properties">properties</a>.</p>
                                                </article>

            

              
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                    
                                      <div class="contributors-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong>         <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>,             <a href="https://developer.mozilla.org/en-US/profiles/Rob W">Rob W</a>     </div>                  
                                      <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>,
                      <time datetime="2015-01-08T17:37:14-08:00">Jan 8, 2015, 5:37:14 PM</time>
                    </div>
                                  </div>
                          </div>

                          <!-- quick links and zone subnav strip -->
              <div id="wiki-left" class="column-strip wiki-column">

              
                <a href="#quick-links" class="title smaller" id="quick-links-toggle"><i aria-hidden="true" class="icon-caret-up"></i>Hide Sidebar</a>

                                  <!-- zone subnav -->
                    <nav class="zone-subnav-container" role="navigation">
    <div class="subnav" id="Subnav">
      

<ol>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/Bootstrapped_extensions" title="Restartless extensions">Restartless extensions</a></li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/Overlay_Extensions" title="Legacy extensions">Legacy extensions</a></li>
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK">Add-on SDK</a><ol> 
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tutorials/Installation">Installation</a></li> 
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tutorials">Tutorials</a></li> 
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Guides">Guides</a></li> 
 <li><a href="../High-Level_APIs.html">High-Level APIs</a>  
  
 <ol><li><a href="../High-Level_APIs/url.html">URL</a></li><li><a href="../High-Level_APIs/addon-page.html">addon-page</a></li><li><a href="../High-Level_APIs/base64.html">base64</a></li><li><a href="../High-Level_APIs/clipboard.html">clipboard</a></li><li><a href="../High-Level_APIs/context-menu.html">context-menu</a></li><li><a href="../High-Level_APIs/hotkeys.html">hotkeys</a></li><li><a href="../High-Level_APIs/indexed-db.html">indexed-db</a></li><li><a href="../High-Level_APIs/l10n.html">l10n</a></li><li><a href="../High-Level_APIs/notifications.html">notifications</a></li><li><a href="../High-Level_APIs/page-mod.html">page-mod</a></li><li><a href="../High-Level_APIs/page-worker.html">page-worker</a></li><li><a href="../High-Level_APIs/panel.html">panel</a></li><li><a href="../High-Level_APIs/passwords.html">passwords</a></li><li><a href="../High-Level_APIs/private-browsing.html">private-browsing</a></li><li><a href="../High-Level_APIs/querystring.html">querystring</a></li><li><a href="../High-Level_APIs/request.html">request</a></li><li><a href="../High-Level_APIs/selection.html">selection</a></li><li><a href="../High-Level_APIs/self.html">self</a></li><li><a href="../High-Level_APIs/simple-prefs.html">simple-prefs</a></li><li><a href="../High-Level_APIs/simple-storage.html">simple-storage</a></li><li><a href="../High-Level_APIs/system.html">system</a></li><li><a href="../High-Level_APIs/tabs.html">tabs</a></li><li><a href="../High-Level_APIs/timers.html">timers</a></li><li><a href="../High-Level_APIs/ui.html">ui</a></li><li><a href="../High-Level_APIs/widget.html">widget</a></li><li><a href="../High-Level_APIs/windows.html">windows</a></li></ol> 
  
 </li> 
 <li><a href="../Low-Level_APIs.html">Low-Level APIs</a>  
  
 <ol><li><a href="_loader.html">/loader</a></li><li><a href="chrome.html">chrome</a></li><li><a href="console_plain-text.html">console/plain-text</a></li><li><a href="console_traceback.html">console/traceback</a></li><li><a href="content_content.html">content/content</a></li><li><a href="content_loader.html">content/loader</a></li><li><a href="content_mod.html">content/mod</a></li><li><a href="content_symbiont.html">content/symbiont</a></li><li><a href="content_worker.html">content/worker</a></li><li><a href="core_heritage.html">core/heritage</a></li><li><a href="core_namespace.html">core/namespace</a></li><li><a href="core_promise.html">core/promise</a></li><li><a href="dev_panel.html">dev/panel</a></li><li><a href="event_core.html">event/core</a></li><li><a href="event_target.html">event/target</a></li><li><a href="frame_hidden-frame.html">frame/hidden-frame</a></li><li><a href="frame_utils.html">frame/utils</a></li><li><a href="fs_path.html">fs/path</a></li><li><a href="io_byte-streams.html">io/byte-streams</a></li><li><a href="io_file.html">io/file</a></li><li><a href="io_text-streams.html">io/text-streams</a></li><li><a href="lang_functional.html">lang/functional</a></li><li><a href="lang_type.html">lang/type</a></li><li><a href="loader_cuddlefish.html">loader/cuddlefish</a></li><li><a href="loader_sandbox.html">loader/sandbox</a></li><li><a href="net_url.html">net/url</a></li><li><a href="net_xhr.html">net/xhr</a></li><li><a href="places_bookmarks.html">places/bookmarks</a></li><li><a href="places_favicon.html">places/favicon</a></li><li><a href="places_history.html">places/history</a></li><li><a href="platform_xpcom.html">platform/xpcom</a></li><li><a href="preferences_event-target.html">preferences/event-target</a></li><li><a href="preferences_service.html">preferences/service</a></li><li><a href="remote_child.html">remote/child</a></li><li><a href="remote_parent.html">remote/parent</a></li><li><a href="stylesheet_style.html">stylesheet/style</a></li><li><a href="stylesheet_utils.html">stylesheet/utils</a></li><li><a href="system_child_process.html">system/child_process</a></li><li><a href="system_environment.html">system/environment</a></li><li><a href="system_events.html">system/events</a></li><li><a href="system_runtime.html">system/runtime</a></li><li><a href="system_unload.html">system/unload</a></li><li><a href="system_xul-app.html">system/xul-app</a></li><li><a href="tabs_utils.html">tabs/utils</a></li><li><a href="test_assert.html">test/assert</a></li><li><a href="test_harness.html">test/harness</a></li><li><a href="test_httpd.html">test/httpd</a></li><li><a href="test_runner.html">test/runner</a></li><li><a href="test_utils.html">test/utils</a></li><li><a href="ui_button_action.html">ui/button/action</a></li><li><a href="ui_button_toggle.html">ui/button/toggle</a></li><li><a href="ui_frame.html">ui/frame</a></li><li><a href="ui_id.html">ui/id</a></li><li><a href="ui_sidebar.html">ui/sidebar</a></li><li><a href="ui_toolbar.html">ui/toolbar</a></li><li><a href="util_array.html">util/array</a></li><li><a href="util_collection.html">util/collection</a></li><li><a href="util_deprecate.html">util/deprecate</a></li><li><a href="util_list.html">util/list</a></li><li><a href="util_match-pattern.html">util/match-pattern</a></li><li><a href="util_object.html">util/object</a></li><li><a href="util_uuid.html">util/uuid</a></li><li><a href="window_utils.html">window/utils</a></li></ol> 
 
 </li> 
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools">Tools Reference</a> 
  <ol> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/jpm">jpm</a></li> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/jpm-mobile">jpm-mobile</a></li> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/jpmignore">jpmignore</a></li> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/console">console</a></li> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/cfx_to_jpm">cfx to jpm</a></li> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/package_json">package.json</a></li> 
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Add-on_Debugger">The Add-on Debugger</a></li> 
  </ol> 
 </li> 
 <li><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Release_notes">Release notes</a></li> 
</ol></li>
 <li><a href="#">Techniques</a>
  <ol>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Techniques/Promises">Promises</a></li>
  </ol>
 </li>
 <li><a href="#">Recommended practices</a>
  <ol>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Performance_best_practices_in_extensions" title="Performance">Performance</a></li>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Security_best_practices_in_extensions" title="Security">Security</a></li>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Extension_etiquette" title="Etiquette">Etiquette</a></li>
  </ol>
 </li>
 <li><a href="#">Themes</a>
  <ol>
   <li><a href="https://developer.mozilla.org/Add-ons/Themes/Background" title="Lightweight themes">Lightweight themes</a></li>
   <li><a href="https://developer.mozilla.org/Add-ons/Themes/Background/FAQ" title="Lightweight themes FAQ">Lightweight themes FAQ</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Themes" title="Complete themes">Complete themes</a></li>
  </ol>
 </li>
 <li><a href="#">Legacy Plugins </a>
  <ol>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Plug-in_Basics">Plug-in Basics</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Plug-in_Development_Overview">Plug-in Development Overview</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Initialization_and_Destruction">Initialization and Destruction</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Drawing_and_Event_Handling">Drawing and Event Handling</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Streams">Streams</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/URLs">URLs</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Memory">Memory</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Version%2C_UI%2C_and_Status_Information">Version, UI, and Status Information</a></li>
   <li><a href="../../../docs/Plugins/Guide/Plug-in_Side_Plug-in_API.html">Plug-in side Plug-in API</a>
    <ol>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_Destroy">NPP_Destroy</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_DestroyStream">NPP_DestroyStream</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_GetValue">NPP_GetValue</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NP_GetValue">NP_GetValue</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_HandleEvent">NPP_HandleEvent</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NP_Initialize">NP_Initialize</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_New">NPP_New</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_NewStream">NPP_NewStream</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_Print">NPP_Print</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_SetValue">NPP_SetValue</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_SetWindow">NPP_SetWindow</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NP_Shutdown">NP_Shutdown</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_StreamAsFile">NPP_StreamAsFile</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_URLNotify">NPP_URLNotify</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_Write">NPP_Write</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPP_WriteReady">NPP_WriteReady</a></li>
    </ol>
   </li>
   <li><a href="../../../docs/Plugins/Guide/Browser_Side_Plug-in_API.html">Browser Side Plug-in API</a>
    <ol>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_DestroyStream" title="Closes and deletes a stream.">NPN_DestroyStream</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_ForceRedraw" title="Asks the plugin host to immediately (synchronously) repaint invalid areas.">NPN_ForceRedraw</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetAuthenticationInfo" title="The function is called by plugins to get HTTP authentication information from the browser.">NPN_GetAuthenticationInfo</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetURL" title="Asks the browser to create a stream for the specified URL.">NPN_GetURL</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetURLNotify" title="Requests creation of a new stream with the contents of the specified URL; gets notification of the result.">NPN_GetURLNotify</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetValue" title="Allows the plug-in to query the browser for information.">NPN_GetValue</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetValueForURL" title="Provides information to a plugin which is associated with a given URL, for example the cookies or preferred proxy.">NPN_GetValueForURL</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_InvalidateRect" title="Invalidates the specified portion of the plugin's drawing area, adding it to the region that needs to be redrawn when the plugin next repaints its contents.">NPN_InvalidateRect</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_InvalidateRegion" title="Invalidates the specified drawing region prior to repainting or refreshing a windowless plug-in.">NPN_InvalidateRegion</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_MemAlloc" title="Allocates memory from the browser's memory space.">NPN_MemAlloc</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_MemFlush" title="Requests that the browser free a specified amount of memory.">NPN_MemFlush</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_MemFree" title="Deallocates a block of allocated memory.">NPN_MemFree</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_NewStream" title="Requests the creation of a new data stream produced by the plug-in and consumed by the browser.">NPN_NewStream</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_PluginThreadAsyncCall" title="Thread safe way to request that the browser calls a plug-in function on the browser or plugin thread (the thread on which the plug-in was initiated).">NPN_PluginThreadAsyncCall</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_PostURL" title="Posts data to a URL.">NPN_PostURL</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference//NPN_PostURLNotify" title="Posts data to a URL, and receives notification of the result.">NPN_PostURLNotify</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_ReloadPlugins" title="Reloads all of the installed plugins.">NPN_ReloadPlugins</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_RequestRead" title="Requests a range of bytes from a seekable stream. This initiates a read operation; the actual data is received through subsequent calls to NPP_WriteReady() and NPP_Write().">NPN_RequestRead</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_SetValue" title="Implemented by browsers. This call is used to inform the browser of variable information controlled by the plugin.">NPN_SetValue</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_SetValueForURL" title="Allows a plugin to change the stored information associated with a URL, in particular its cookies. (While the API theoretically allows the preferred proxy for a given URL to be changed, doing so does not have much meaning given how proxies are configured, and is not supported.)">NPN_SetValueForURL</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_Status" title="Lets a plug-in display a message on the browser's status line.">NPN_Status</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_UserAgent" title="Returns the browser's user agent field. This can be used to handle variations in different browsers (or versions thereof) when implementing your plug-in.">NPN_UserAgent</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/docs/NPN_Version" title="Lets plugins obtain version information, both of the plug-in API and of the browser itself.">NPN_Version</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_Write" title="Pushes data into a stream produced by the plug-in and consumed by the browser.">NPN_Write</a></li>
    </ol>
   </li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Scripting_plugins">Scripting plugins</a>
    <ol>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPString">NPString</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPVariant">NPVariant</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_ReleaseVariantValue">NPN_ReleaseVariantValue</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetStringIdentifier">NPN_GetStringIdentifier</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetStringIdentifiers">NPN_GetStringIdentifiers</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetIntIdentifier">NPN_GetIntIdentifier</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_IdentifierIsString">NPN_IdentifierIsString</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_UTF8FromIdentifier">NPN_UTF8FromIdentifier</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_IntFromIdentifier">NPN_IntFromIdentifier</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPObject">NPObject</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_CreateObject">NPN_CreateObject</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_RetainObject">NPN_RetainObject</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_ReleaseObject">NPN_ReleaseObject</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_Invoke">NPN_Invoke</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_InvokeDefault">NPN_InvokeDefault</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_Evaluate">NPN_Evaluate</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_GetProperty">NPN_GetProperty</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_SetProperty">NPN_SetProperty</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_RemoveProperty">NPN_RemoveProperty</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_HasProperty">NPN_HasProperty</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_HasMethod">NPN_HasMethod</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPN_SetException">NPN_SetException</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/Reference/NPClass">NPClass</a></li>
    </ol>
   </li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Structures">Structures</a></li>
   <li><a href="https://developer.mozilla.org/en-US/docs/Plugins/Guide/Constants">Constants</a></li>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Plugins/External_resources_for_plugin_creation">External Resources</a></li>
  </ol>
 </li>
 <li><a href="#">Publishing add-ons</a>
  <ol>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/Distribution">Signing and distributing your add-on</a></li>
   <li><a href="https://addons.mozilla.org/developers/addon/submit/">Submit a new add-on</a></li>
   <li><a href="https://developer.mozilla.org/en-US/Add-ons/AMO/Policy">Policies</a>
    <ol>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/AMO/Policy/Extensions">Extensions</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/AMO/Policy/Agreement">Developer Agreement</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/AMO/Policy/Reviews">Review Process</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/Add-on_guidelines">Add-on guidelines</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/AMO/Policy/Featured">Featured Add-ons</a></li>
     <li><a href="https://developer.mozilla.org/en-US/Add-ons/AMO/Policy/Contact">Contacting Us</a></li>
    </ol>
   </li>
  </ol>
 </li>
 <li><a href="#">Community and Support</a>
  <ol>
   <li><a href="https://blog.mozilla.org/addons">Add-ons Blog</a></li>
   <li><a href="https://discourse.mozilla-community.org/c/add-ons">Add-on Forums</a></li>
   <li><a href="http://stackoverflow.com/questions/tagged/firefox-addon">Stack Overflow</a></li>
   <li><a href="https://groups.google.com/forum/#!forum/mozilla.dev.extensions">Development Newsgroup</a></li>
   <li><a href="irc://irc.mozilla.org/extdev">IRC Channel</a></li>
  </ol>
 </li>
</ol>
    </div>
  </nav>&nbsp;
                
                
                <!-- approvals -->
                
              
              </div>
                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle$edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle$history" label="View page history"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <div class="contentinfo">
          <p>© 2005-2015 Mozilla Developer Network and individual contributors.</p> <p>Content is available under <a href="https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p>          <ul>
            <li><a href="https://developer.mozilla.org/docs/MDN/About">About MDN</a></li>
            <li><a href="http://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/">Privacy</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li>
            <li><a href="http://github.com/mozilla/kuma">Contribute to the code</a></li>
          </ul>
        <p></p>
                </div>
      </div>
      <div class="column-strip">
                        <form class="languages go" method="get" action="https://developer.mozilla.org/en-US/docs/Web">
      <label for="language">Other languages:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/en-US/docs/Mozilla/Add-ons/SDK/Low-Level_APIs/ui_button_toggle" selected="">
          English (US)
        </option>
                  <option value="/zh-CN/docs/Add-ons/SDK/Low-Level_APIs/ui_button_toggle">
            中文 (简体)
          </option>      </select>
      <noscript>&lt;button type="submit"&gt;Go&lt;/button&gt;</noscript>
    </form>
                </div>
    </div>
  </div></footer>

  <!-- site js -->
          <!--[if lte IE 8]><script src="https://developer.cdn.mozilla.net/static/js/libs/selectivizr-1.0.2/selectivizr-build.js"></script><![endif]-->

    <form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/signin" data-csrf-token-url="/users/persona/csrf" data-request="{&quot;siteName&quot;: &quot;Mozilla Developer Network&quot;, &quot;siteLogo&quot;: &quot;/static/img/opengraph-logo.png&quot;}" data-persona-script="../../../../../login.persona.org/include.js">
  <input type="hidden" name="csrfmiddlewaretoken" value="" id="_persona_csrf_token">
  <input type="hidden" name="next" value="" id="_persona_next_url">
  <input type="hidden" name="process" value="" id="_persona_process">
  <input type="hidden" name="assertion" id="_persona_assertion">
</form>

    <script src="../../../../../developer.cdn.mozilla.net/static/js/main-min2bff.js?build=2aab9d6"></script>

      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>

      
    <script src="../../../../../developer.cdn.mozilla.net/static/js/wiki-min2bff.js?build=2aab9d6" async="" id="wikiscript"></script>

    <script type="text/javascript">
            mdn.optimizely.push(['activate', 2796520257]);
  </script>

  
  


<!-- Mirrored from developer.mozilla.org/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_toggle by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 18:20:23 GMT -->
</body></html>