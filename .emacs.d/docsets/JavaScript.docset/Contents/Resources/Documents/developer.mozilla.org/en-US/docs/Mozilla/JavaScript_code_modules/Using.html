<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 May 2016 17:07:42 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script async="" src="../../../../../www.google-analytics.com/analytics.js"></script><script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
  
    
  

  
  <title>Using JavaScript code modules</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

  
    
    
    <link href="../../../../../developer.cdn.mozilla.net/static/build/styles/mdn.593f20d8c365.css" rel="stylesheet" type="text/css">

    
  
    <link href="../../../../../developer.cdn.mozilla.net/static/build/styles/wiki.13dd9abdfb62.css" rel="stylesheet" type="text/css">

    

    

  <!-- common social tags -->
  
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.dc4e08e2f6af.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.dc4e08e2f6af.png">
  <meta name="twitter:site" content="@MozDevNet">
  <meta name="twitter:creator" content="@MozDevNet">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../developer.cdn.mozilla.net/static/img/favicon144.a6e4162070f4.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../developer.cdn.mozilla.net/static/img/favicon114.0e9fabd44f85.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../developer.cdn.mozilla.net/static/img/favicon72.8ff9d87c82a0.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../developer.cdn.mozilla.net/static/img/favicon57.a2490b9a2d76.png">
  <!-- basic favicon -->
  
    
  
  <link rel="shortcut icon" href="../../../../../developer.cdn.mozilla.net/static/img/favicon32.e02854fdcf73.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/html5shiv.3948ccddab6f.js" charset="utf-8"></script>
  <![endif]-->

  
  <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using$json">
  <link rel="canonical" href="Using.html">

  
    
      <link rel="alternate" hreflang="ca" href="https://developer.mozilla.org/ca/docs/Fent_servir_mòduls_de_codi_Javascript" title="Fent servir mòduls de codi Javascript">
    
      <link rel="alternate" hreflang="es" href="https://developer.mozilla.org/es/docs/JavaScript_code_modules/Using" title="Usando módulos de código JavaScript">
    
      <link rel="alternate" hreflang="fr" href="https://developer.mozilla.org/fr/docs/Utilisation_de_modules_de_code_JavaScript" title="Utilisation de modules de code JavaScript">
    
      <link rel="alternate" hreflang="ja" href="https://developer.mozilla.org/ja/docs/Mozilla/JavaScript_code_modules/Using" title="JavaScript コードモジュールの利用">
    
      <link rel="alternate" hreflang="pl" href="https://developer.mozilla.org/pl/docs/Mozilla/JavaScript_code_modules/Zastosowanie_modułów_JavaScript" title="Zastosowanie modułów JavaScript">
    
      <link rel="alternate" hreflang="zh-CN" href="https://developer.mozilla.org/zh-CN/docs/Mozilla/JavaScript_code_modules/Using" title="使用 JavaScript 代码 modules 模式">
    
  

  <!-- document-specific social tags -->
  <meta property="og:title" content="Using JavaScript code modules">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using">
  <meta name="twitter:title" content="Using JavaScript code modules">
  
  <meta property="og:description" content="JavaScript code modules are a concept introduced in Gecko&nbsp;1.9 and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using Components.utils.import() or Components.utils[&quot;import&quot;]().">
  <meta name="description" content="JavaScript code modules are a concept introduced in Gecko&nbsp;1.9 and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using Components.utils.import() or Components.utils[&quot;import&quot;]().">
  <meta name="twitter:description" content="JavaScript code modules are a concept introduced in Gecko&nbsp;1.9 and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using Components.utils.import() or Components.utils[&quot;import&quot;]().">
  

  
    



  
</head>
<body data-slug="Mozilla/JavaScript_code_modules/Using" contextmenu="edit-history-menu" data-search-url="" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

        
            (function(){
  var FLAGS = {
    'compat_api': false,'kumaediting': false,'page_move': false,'registration_disabled': false,'search_suggestions': false,'section_edit': false,'spam_admin_override': false,'spam_checks_enabled': true,'spam_spammer_override': false,'spam_submissions_enabled': false,'spam_testing_mode': false,'wiki_samples': true,'wiki_spam_exempted': false,'wiki_spam_training': true
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': true,'store_revision_ips': true,'dumb_doc_urls': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        

        // This needs to be set before ckeditor.js loads
        window.CKEDITOR_BASEPATH = 'https://developer.mozilla.org/static/js/libs/ckeditor/build/ckeditor/';

        // This represents the site configuration
        win.mdn = {
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to static assets (images, CSS, JS) in MDN
            staticPath: 'https://developer.cdn.mozilla.net/static/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            
            notifications: [],
            
            // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            },
            // Assets that need to be dynamically injected
            assets_disabled: {
                css: {
                    'editor-content': ['https://developer.cdn.mozilla.net/static/build/styles/editor-content.3d79df72080d.css',],
                    'wiki-compat-tables': ['https://developer.cdn.mozilla.net/static/build/styles/wiki-compat-tables.f3a3bfce97a1.css',]
                },
                js: {
                    'syntax-prism': ['https://developer.cdn.mozilla.net/static/build/js/syntax-prism.7a66ddfa68bf.js',],
                    'wiki-compat-tables': ['https://developer.cdn.mozilla.net/static/build/js/wiki-compat-tables.14ce5dcb2c3d.js',]
                }
            }
        };
    })(this);
</script>

  

  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
    
      <li><a href="#q" id="skip-search">Skip to search</a></li>
    
  </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div id="tabzilla">
        <a href="http://www.mozilla.org/" class="no-track">mozilla</a>
    </div>

    <div class="clear header-clear"></div>

    <a href="https://developer.mozilla.org/en-US/" class="logo">Mozilla Developer Network</a>

    <div id="nav-sec">
        
                  <ul>
                  <li>

    

    <form>
      <div class="oauth-login-container">
          <div class="oauth-login-options" tabindex="0">
              <span class="oauth-login-options-text">
                Sign in
              </span>
              <span class="oauth-icon oauth-github" data-service="GitHub" data-href="/users/github/login/?next=%2Fen-US%2Fdocs%2FMozilla%2FJavaScript_code_modules%2FUsing" title="GitHub"><i class="icon-github" aria-hidden="true"></i></span>
              <span class="oauth-icon oauth-persona launch-persona-login wait-for-persona disabled" data-service="Persona" data-next="/en-US/docs/Mozilla/JavaScript_code_modules/Using" title="Persona"><i class="icon-user" aria-hidden="true"></i></span>
          </div>
          <div class="oauth-login-picker" aria-hidden="true">
              <ul>
                  <li class="wait-for-persona disabled"><a href="https://developer.mozilla.org/en-US/users/signin" class="login-link launch-persona-login" data-next="/en-US/docs/Mozilla/JavaScript_code_modules/Using" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                  <li><a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2Fdocs%2FMozilla%2FJavaScript_code_modules%2FUsing" class="login-link" data-service="GitHub"><i class="icon-github" aria-hidden="true"></i>GitHub</a></li>
              </ul>
              
          </div>
      </div>
    </form>
</li>
                </ul>
        
    </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-cols-2 js-submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="../../Web/API.html">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References &amp; Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learn the Web</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Mozilla Docs<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a></li><li><a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-contact-submenu">
          <div class="submenu-column">
            <ul>
                <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li>
                <li><a href="http://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a></li>
              <li><a href="https://bugzilla.mozilla.org/form.doc">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li>
              <li><a href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
          </div>
        </div>

      </li><li class="nav-search-link"><a href="https://developer.mozilla.org/en-US/search" title="Search"><i aria-hidden="true" class="icon-search"></i></a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="">
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  

   <!-- end is_zone -->

    <div class="wiki-main-content" id="document-main"><div class="center">
      
      <div class="article-meta">
        <!-- action buttons -->
        

  
    
  

  
    
  

  

  <ul class="page-buttons" data-sticky="false">
      
      <li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
              
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/ca/docs/Fent_servir_mòduls_de_codi_Javascript" title="Fent servir mòduls de codi Javascript">Català</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/es/docs/JavaScript_code_modules/Using" title="Usando módulos de código JavaScript">Español</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/fr/docs/Utilisation_de_modules_de_code_JavaScript" title="Utilisation de modules de code JavaScript">Français</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/ja/docs/Mozilla/JavaScript_code_modules/Using" title="JavaScript コードモジュールの利用">日本語</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/pl/docs/Mozilla/JavaScript_code_modules/Zastosowanie_modułów_JavaScript" title="Zastosowanie modułów JavaScript">Polski</a></bdi></li>
                
                  <li><bdi><a rel="internal" href="https://developer.mozilla.org/zh-CN/docs/Mozilla/JavaScript_code_modules/Using" title="使用 JavaScript 代码 modules 模式">中文 (简体)</a></bdi></li>
                
              

              
                <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li>
              
            </ul>
          </div>
        </div>
      </li>

      <li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li>

        

        <li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>
        <div class="submenu js-submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using$history" rel="nofollow, noindex">History</a></li>
                
                
                
                

                

                
                
                
                <li class="page-print"><a href="#" onclick="return window.print();">Print this article</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
        
  <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules" rel="v:url" property="v:title">JavaScript code modules</a></li>
    
    <li class="crumb" typeof="v:Breadcrumb" property="v:title">Using JavaScript code modules</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc submenu">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>

        
        <div class="contributor-avatars" data-all-text="see all contributors" data-alternate-message="hide contributors" data-has-hidden="1">
            <ul>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/wbamberg" title="View profile: wbamberg">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="wbamberg" data-src="../../../../../secure.gravatar.com/avatar/576b94c81f8ad97e58d63f12e5fdb00c6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">wbamberg</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/chrmod" title="View profile: chrmod">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="chrmod" data-src="../../../../../secure.gravatar.com/avatar/8434b59c8bb7354ac486a8e71ab570516c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">chrmod</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/bbondy" title="View profile: bbondy">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="bbondy" data-src="../../../../../secure.gravatar.com/avatar/82225a3207f65f60feed80dc24cf48786c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">bbondy</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/kscarfone" title="View profile: kscarfone">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="kscarfone" data-src="../../../../../secure.gravatar.com/avatar/89c1e54a9703125168e40d22316d2b496c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">kscarfone</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Nitish" title="View profile: Nitish">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Nitish" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Nitish</noscript></a>
                </li>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/nabelputraprem" title="View profile: nabelputraprem">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="nabelputraprem" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">nabelputraprem</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/jlongster" title="View profile: jlongster">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="jlongster" data-src="../../../../../secure.gravatar.com/avatar/6bb149ad2abfeb95fc367813910ba35e6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">jlongster</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Noitidart" title="View profile: Noitidart">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Noitidart" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Noitidart</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/robamler" title="View profile: robamler">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="robamler" data-src="../../../../../secure.gravatar.com/avatar/4c141b985d098cc4ae75acf6cbef475f6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">robamler</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/ethertank" title="View profile: ethertank">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="ethertank" data-src="../../../../../secure.gravatar.com/avatar/abac73ba2093b500bf7599c76d80280c6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">ethertank</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/trevorh" title="View profile: trevorh">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="trevorh" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">trevorh</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/teoli" title="View profile: teoli">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="teoli" data-src="../../../../../secure.gravatar.com/avatar/d0d90148e08e3b64ccf75c46f31442c56c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">teoli</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/kmaglione" title="View profile: kmaglione">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="kmaglione" data-src="../../../../../secure.gravatar.com/avatar/3bed1d05aaaecb772cbe11bebdca7eff6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">kmaglione</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Wladimir_Palant" title="View profile: Wladimir_Palant">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Wladimir_Palant" data-src="../../../../../secure.gravatar.com/avatar/7806629160a492b05d21fd738953a4cf6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Wladimir_Palant</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Hans.Hokke" title="View profile: Hans.Hokke">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Hans.Hokke" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Hans.Hokke</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Blake_Binkley" title="View profile: Blake_Binkley">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Blake_Binkley" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Blake_Binkley</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/mattflaschen" title="View profile: mattflaschen">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="mattflaschen" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">mattflaschen</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/berkerpeksag" title="View profile: berkerpeksag">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="berkerpeksag" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">berkerpeksag</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Sheppy" title="View profile: Sheppy">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Sheppy" data-src="../../../../../secure.gravatar.com/avatar/945076feb88f2d7003891ffbf06f32bf6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Sheppy</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/wellington7" title="View profile: wellington7">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="wellington7" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">wellington7</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Nmaier" title="View profile: Nmaier">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Nmaier" data-src="../../../../../secure.gravatar.com/avatar/0a101fa3b951d550f1c3bb8ac29b0d236c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Nmaier</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Nickolay" title="View profile: Nickolay">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Nickolay" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Nickolay</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Johnjbarton" title="View profile: Johnjbarton">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Johnjbarton" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Johnjbarton</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/andre.selm" title="View profile: andre.selm">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="andre.selm" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">andre.selm</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Morn" title="View profile: Morn">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Morn" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Morn</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/user01" title="View profile: user01">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="user01" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">user01</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/DaveG" title="View profile: DaveG">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="DaveG" data-src="../../../../../secure.gravatar.com/avatar/22be27c046228a3d9ad141cb5a9d94f26c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">DaveG</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Brettz9" title="View profile: Brettz9">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Brettz9" data-src="../../../../../secure.gravatar.com/avatar/4c750582e23fcf068bdde51cc50416d16c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Brettz9</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/ericjung" title="View profile: ericjung">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="ericjung" data-src="../../../../../secure.gravatar.com/avatar/83917d19137fd6bd1d4ea877482f484e6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">ericjung</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Jorge.villalobos" title="View profile: Jorge.villalobos">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Jorge.villalobos" data-src="../../../../../secure.gravatar.com/avatar/4427e5efdb40ea1b1f931aa19f2802046c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Jorge.villalobos</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/GG" title="View profile: GG">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="GG" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">GG</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Dietrich" title="View profile: Dietrich">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Dietrich" data-src="../../../../../secure.gravatar.com/avatar/5481d2a340d45c788bb772bc65ddf9546c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Dietrich</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Sevenspade" title="View profile: Sevenspade">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Sevenspade" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Sevenspade</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/MarkFinkle" title="View profile: MarkFinkle">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="MarkFinkle" data-src="../../../../../secure.gravatar.com/avatar/390a2d7c539a05a1bf9d3d1b2ccb2e5a6c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">MarkFinkle</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/WPWoodJr" title="View profile: WPWoodJr">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="WPWoodJr" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">WPWoodJr</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Varmaa" title="View profile: Varmaa">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Varmaa" data-src="../../../../../secure.gravatar.com/avatar/b6c1ebb35d0c41dfe0728dd0dc6ae5b16c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Varmaa</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Mgjbot" title="View profile: Mgjbot">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Mgjbot" data-src="../../../../../i2.wp.com/developer.cdn.mozilla.net/media/img/avatareb45.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Mgjbot</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/drry" title="View profile: drry">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="drry" data-src="../../../../../secure.gravatar.com/avatar/ea1e5844bb643b44f51d3c6762a511f86c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">drry</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/MykMelez" title="View profile: MykMelez">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="MykMelez" data-src="../../../../../secure.gravatar.com/avatar/c8a27f1c79d0e7fafc8faa2c5ab6df3a6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">MykMelez</noscript></a>
                </li>
            
                <li class="hidden">
                <a href="https://developer.mozilla.org/en-US/profiles/Gomita" title="View profile: Gomita">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Gomita" data-src="../../../../../secure.gravatar.com/avatar/2df4580a6a33c37554fadf3fa5b133056c02.png?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Gomita</noscript></a>
                </li>
            
            </ul>
        </div>
        

        <h1>Using JavaScript code modules</h1>

      </div>
      

      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

            
              <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
              
              <!-- table of contents -->
              <div id="toc" class="toc toggleable" data-closed="true">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <li><a href="#Creating_a_JavaScript_code_module" rel="internal">Creating a JavaScript code module</a><ol><li><a href="#The_URL_for_a_code_module" rel="internal">The URL for a code module</a></li><li><a href="#Sharing_objects_using_code_modules" rel="internal">Sharing objects using code modules</a></li></ol></li><li><a href="#Unloading_code_modules" rel="internal">Unloading code modules</a><ol><li><a href="#Examples" rel="internal">Examples</a></li></ol></li><li><a href="#Extending_resource_URLs" rel="internal">Extending resource: URLs</a><ol><li><a href="#Using_chrome.manifest" rel="internal">Using chrome.manifest</a></li><li><a href="#Programmatically_adding_aliases" rel="internal">Programmatically adding aliases</a></li></ol></li><li><a href="#Notes" rel="internal">Notes</a><ol><li><a href="#Custom_modules_and_XPCOM_components" rel="internal">Custom modules and XPCOM components</a></li><li><a href="#Packaging_notes" rel="internal">Packaging notes</a></li></ol></li><li><a href="#Importing_CommonJS_modules" rel="internal">Importing CommonJS modules</a></li><li><a href="#See_also" rel="internal">See also</a>
                </li></ol>
              </div>
              
              </div>
            

            
            
              
            

            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              

              

              
                
                
                
              
              

              <!-- just the article content -->
              <article id="wikiArticle">
                
                  
                    <div></div>

<p>JavaScript code modules are a concept introduced in <span title="(Firefox 3)">Gecko&nbsp;1.9</span> and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using <code><a href="https://developer.mozilla.org/en-US/docs/Components.utils.import">Components.utils.import()</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Components.utils.import">Components.utils["import"]()</a></code>.</p>

<h2 id="Creating_a_JavaScript_code_module">Creating a JavaScript code module</h2>

<p>A very simple JavaScript module looks like this:</p>

<pre class="brush: js">var EXPORTED_SYMBOLS = ["foo", "bar"];

function foo() {
  return "foo";
}

var bar = {
  name : "bar",
  size : 3
};

var dummy = "dummy";
</pre>

<p>Notice that the module uses normal JavaScript to create functions, objects, constants, and any other JavaScript type. The module also defines a special Array named <code>EXPORTED_SYMBOLS</code>. Any JavaScript item named in <code>EXPORTED_SYMBOLS</code> will be exported from the module and injected into the importing scope. For example:</p>

<pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(foo());         // displays "foo"
alert(bar.size + 3);  // displays "6"
alert(dummy);         // displays "dummy is not defined" because 'dummy' was not exported from the module
</pre>

<div class="note"><strong>Note:</strong> When you're testing changes to a code module, be sure to change the application's build ID (e.g., the version) before your next test run; otherwise, you may find yourself running the previous version of your module's code.</div>

<h3 id="The_URL_for_a_code_module">The URL for a code module</h3>

<p>As you can see from the example above, you need a URL&nbsp;to import a code module. (The URL in the example is "resource://app/my_module.jsm".)</p>

<p>Code modules can only be loaded using a&nbsp;<strong>chrome:</strong> (), <strong>resource:</strong>, or <strong>file:</strong> URL.</p>

<ul>
 <li>If you're writing an extension for Firefox 4 and already have a <a href="https://developer.mozilla.org/en-US/docs/Chrome_Registration">chrome.manifest</a> with a <code>content</code> instruction in it, you can put the code module in your content folder and reference it like your other content files via <code>chrome://&lt;yourextension&gt;/content/&lt;yourmodule&gt;.jsm.</code></li>
 <li>If your extension or application needs to support Mozilla 1.9.x (Firefox 3.x), you should register a new resource URL. Details on doing this are in the <a href="#Extending_resource.3A_URLs">"Extending resource: URLs" section</a> below.</li>
</ul>

<h3 id="Sharing_objects_using_code_modules">Sharing objects using code modules</h3>

<p>An extremely important behavior of <code><a href="https://developer.mozilla.org/en-US/docs/Components.utils.import">Components.utils.import()</a></code> is that modules are cached when loaded and subsequent imports do not reload a new version of the module, but instead use the previously cached version. This means that a given module will be shared when imported multiple times. Any modifications to data, objects, or functions will be available in any scope that has imported the module. For example, if the simple module were imported into two different JavaScript scopes, changes in one scope can be observed in the other scope.</p>

<p>Scope 1:</p>

<pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(bar.size + 3);  // displays "6"

bar.size = 10;
</pre>

<p>Scope 2:</p>

<pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(foo());         // displays "foo"
alert(bar.size + 3);  // displays "13"
</pre>

<p>This sharing behavior can be used to create singleton objects that can share data across windows and between XUL script and XPCOM components.</p>

<p></p><div class="note"><strong>Note:</strong>&nbsp;Each scope that imports a module receives a by-value copy of the exported symbols in that module. Changes to the symbol's value will not propagate to other scopes (though an object's properties will be manipulated by reference).</div><p></p>

<p>Scope 1:</p>

<pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

bar = "foo";
alert(bar);         // displays "foo"
</pre>

<p>Scope 2:</p>

<pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(bar);         // displays "[object Object]"
</pre>

<p>The main effect of the by-value copy is that global variables of simple types won't be shared across scopes. Always put variables in a wrapper class and export the wrapper (such as <code>bar</code> in the above example).</p>

<p></p><div class="headingWithIndicator"> 
    <h2 id="Unloading_code_modules">Unloading code modules</h2> 
    <span class="indicatorInHeadline minVer geckoMinVerMethod">(Firefox 7.0 / Thunderbird 7.0 / SeaMonkey 2.4)</span> 
</div><p></p>

<p><code><a href="https://developer.mozilla.org/en-US/docs/Components.utils.unload">Components.utils.unload()</a></code> allows you to unload a previously imported code module. Once this method has been called, references to the module will continue to work but any subsequent import of the module will reload it and give a new reference.</p>

<h3 id="Examples">Examples</h3>

<ul>
 <li>A template to download and edit is seen here on <a href="https://gist.github.com/Noitidart/9045387" class="external">GitHub - Gists - _template-BootstrapJSM.xpi</a></li>
</ul>

<h2 id="Extending_resource_URLs">Extending resource: URLs</h2>

<p>Prior to <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko&nbsp;2.0</span>, the most common way to load code modules was using <strong>resource:</strong> URLs. The basic syntax of a resource URL is as follows:</p>

<pre>resource://&lt;alias&gt;/&lt;relative-path&gt;/&lt;file.js|jsm&gt;
</pre>

<p>The <code>&lt;alias&gt;</code> is an alias to a location, usually a physical location relative to the application or XUL runtime. There are multiple pre-defined aliases set up by the XUL runtime:</p>

<ul>
 <li><code>app</code> - Alias to the location of the XUL application</li>
 <li><code>gre</code> - Alias to the location of the XUL runtime</li>
</ul>

<p>The <code>&lt;relative-path&gt;</code> can be multiple levels deep and is always relative to the location defined by the <code>&lt;alias&gt;</code>. The common relative path is "modules" and is used by XUL Runner and Firefox. Code modules are simple JavaScript files with a .js or .jsm extension.</p>

<p><code>&lt;alias&gt;</code> must be unique to your add-on, as the application and other extensions share the same namespace for all aliases.</p>

<h3 id="Using_chrome.manifest">Using chrome.manifest</h3>

<p>The easiest way for extensions and XUL applications to add custom aliases is by registering an alias in the <a href="https://developer.mozilla.org/en-US/docs/Chrome_Registration">chrome manifest</a> using a line like this:</p>

<pre>resource <em>aliasname</em> <em>uri/to/files/</em>
</pre>

<p>For example, if the XPI for your <em>foo</em> extension includes a top-level modules/directory containing the <em>bar.js</em> module (that is, the modules/directory is a sibling to chrome.manifest and install.rdf), you could create an alias to that directory via the instruction:</p>

<pre>resource foo modules/
</pre>

<p>(Don't forget the trailing slash!) You could then import the module into your JavaScript code via the statement:</p>

<pre class="brush: js">Components.utils.import("resource://foo/bar.js");
</pre>

<h3 id="Programmatically_adding_aliases">Programmatically adding aliases</h3>

<p>Custom aliases to paths that can be represented as an <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile" title="">nsILocalFile</a></code> can be programmatically added as well. For example:</p>

<pre class="brush: js">// Import Services.jsm unless in a scope where it's already been imported
Components.utils.import("resource://gre/modules/Services.jsm");

var resProt = Services.io.getProtocolHandler("resource")
                      .QueryInterface(Components.interfaces.nsIResProtocolHandler);

var aliasFile = Components.classes["@mozilla.org/file/local;1"]
                          .createInstance(Components.interfaces.nsILocalFile);
aliasFile.initWithPath("/some/absolute/path");

var aliasURI = Services.io.newFileURI(aliasFile);
resProt.setSubstitution("myalias", aliasURI);

// assuming the code modules are in the alias folder itself
</pre>

<h2 id="Notes">Notes</h2>

<h3 id="Custom_modules_and_XPCOM_components">Custom modules and XPCOM components</h3>

<p>Note that prior to <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko&nbsp;2.0</span> JavaScript XPCOM components are loaded before chrome registration. This means you can't use <code><a href="https://developer.mozilla.org/en-US/docs/Components.utils.import">Components.utils.import()</a></code> with your own resource URL at the top level in a component source. A possible solution is moving the call to <code><a href="https://developer.mozilla.org/en-US/docs/Components.utils.import">Components.utils.import()</a></code> into the XPCOM component constructor (<a href="http://groups.google.com/group/mozilla.dev.apps.firefox/browse_thread/thread/e178d41afa2ccc87?hl=en#" class="external">discussion</a>).</p>

<h3 id="Packaging_notes">Packaging notes</h3>

<p>It's important to note that you should not typically put your JavaScript code modules in a JAR file in your add-on. Firefox 3.6 doesn't support them at all, and there's only one case in which it's remotely useful: a Firefox 4-only add-on which must be installed unpacked. Otherwise placing code modules in a JAR file breaks compatibility unnecessarily.</p>

<h2 id="Importing_CommonJS_modules">Importing CommonJS modules</h2>

<p>The JavaScript code modules described here are not the same thing as <a href="http://www.commonjs.org/specs/modules/1.0/" class="external">CommonJS modules</a>, but you can import CommonJS modules into any scope where you can use <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Language_Bindings/Components.utils.import">Components.utils.import</a>. Just call the following:</p>

<pre class="brush: js line-numbers  language-js"><code class="language-js"><span class="keyword token">const</span> <span class="punctuation token">{</span> require <span class="punctuation token">}</span> <span class="operator token">=</span> Cu<span class="punctuation token">.</span><span class="keyword token">import</span><span class="punctuation token">(</span><span class="string token">"resource://gre/modules/commonjs/toolkit/require.js"</span><span class="punctuation token">,</span> <span class="punctuation token">{</span><span class="punctuation token">}</span><span class="punctuation token">)</span></code></pre>

<p>This will import <code>require()</code> into your scope.</p>

<p>You can then use that to import CommonJS modules. You can import <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/SDK">Add-on SDK</a> modules in just the same way you could from an SDK add-on:</p>

<pre class="brush: js">// import the SDK's base64 module

var base64 = require("sdk/base64");
base64.encode("hello"); // "aGVsbG8="</pre>

<p>You can import other CommonJS modules, too, as long as you know the path to them:</p>

<pre class="brush: js">// import my module

var myModule = require("resource://path/to/my/module.js");</pre>

<p>In this case, though, you might be better off <a href="../../../Add-ons/SDK/Low-Level_APIs/_loader.html">creating your own loader</a>, so you can specify the <code><a href="../../../Add-ons/SDK/Low-Level_APIs/_loader.html#paths">paths</a></code> property yourself.</p>

<h2 name="See_also" id="See_also">See also</h2>

<ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules">JavaScript code modules</a> topic page</li>
</ul>
                  
                
              </article>

              

    
    
    

    
    
    

    <div class="share">
        <strong>Share:</strong>
        <ul>
            <li><a href="http://twitter.com/share?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FJavaScript_code_modules%2FUsing%3Futm_campaign%3Dshare%26utm_medium%3Ddoc%2Bshare%2Blink%26utm_source%3Dtwitter.com&amp;text=I+learned+about+Using+JavaScript+code+modules+on+MDN." target="_blank" data-url="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=twitter.com" data-title="I learned about Using JavaScript code modules on MDN." class="share-link twitter"><i aria-hidden="true" class="icon-twitter"></i>Twitter</a></li>
            <li><a href="http://facebook.com/sharer.php?s=100&amp;p[url]=https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=facebook.com" target="_blank" data-url="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=facebook.com" data-title="I learned about Using JavaScript code modules on MDN." class="share-link facebook"><i aria-hidden="true" class="icon-facebook"></i>Facebook</a></li>
            <li><a href="https://plus.google.com/share?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FJavaScript_code_modules%2FUsing%3Futm_campaign%3Dshare%26utm_medium%3Ddoc%2Bshare%2Blink%26utm_source%3Dplus.google.com" target="_blank" data-url="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using?utm_campaign=share&amp;utm_medium=doc+share+link&amp;utm_source=plus.google.com" data-title="I learned about Using JavaScript code modules on MDN." class="share-link gplus"><i aria-hidden="true" class="icon-google-plus"></i>Google+</a></li>
        </ul>
    </div>

              

                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                  
                  
  <div class="tag-attach-list contributors-sub">
    <i aria-hidden="true" class="icon-tags icon-fw"></i>
    <strong>Tags:</strong>&nbsp;
    <ul class="tags tags-small">
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Add-ons">Add-ons</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/add-ons">add-ons</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Extensions">Extensions</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Guide">Guide</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/JavaScript">JavaScript</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM">XPCOM</a></li>
      
    </ul>
  </div>

                  
                    <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-group icon-fw"></i>&nbsp;<strong>Contributors to this page:</strong> 
        <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/chrmod">chrmod</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/bbondy">bbondy</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Nitish">Nitish</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/nabelputraprem">nabelputraprem</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/jlongster">jlongster</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Noitidart">Noitidart</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/robamler">robamler</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/ethertank">ethertank</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/teoli">teoli</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/kmaglione">kmaglione</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Wladimir_Palant">Wladimir_Palant</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Hans.Hokke">Hans.Hokke</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Blake_Binkley">Blake_Binkley</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/mattflaschen">mattflaschen</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/berkerpeksag">berkerpeksag</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/wellington7">wellington7</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Nmaier">Nmaier</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Nickolay">Nickolay</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Johnjbarton">Johnjbarton</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/andre.selm">andre.selm</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Morn">Morn</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/user01">user01</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/DaveG">DaveG</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Brettz9">Brettz9</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/ericjung">ericjung</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Jorge.villalobos">Jorge.villalobos</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/GG">GG</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Dietrich">Dietrich</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Sevenspade">Sevenspade</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/MarkFinkle">MarkFinkle</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/WPWoodJr">WPWoodJr</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Varmaa">Varmaa</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Mgjbot">Mgjbot</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/drry">drry</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/MykMelez">MykMelez</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Gomita">Gomita</a>
    
                    </div>
                  

                  
                    <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-clock-o icon-fw"></i>&nbsp;<strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>,
                      <time datetime="2015-12-23T10:14:38-08:00">Dec 23, 2015, 10:14:38 AM</time>
                    </div>
                  
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/docs/Mozilla/JavaScript_code_modules/Using$edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Mozilla/JavaScript_code_modules/Using$history" label="View page history"></menuitem>
  </menu>

  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
        
        <div class="contentinfo">
          <p>© 2005-2016 Mozilla Developer Network and individual contributors.</p> <p>Content is available under <a href="https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p>
          <ul>
            <li><a href="https://developer.mozilla.org/docs/MDN/About">About MDN</a></li>
            <li><a href="http://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/">Privacy</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li>
            <li><a href="http://github.com/mozilla/kuma">Contribute to the code</a></li>
          </ul>
        <p></p>
        
        </div>
      </div>
      <div class="column-strip">
        
          
  
    <form class="languages go" method="get" action="https://developer.mozilla.org/en-US/docs/Web">
      <label for="language">Other languages:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/en-US/docs/Mozilla/JavaScript_code_modules/Using" selected="">
          English (US)
        </option>
        
          <option value="/ca/docs/Fent_servir_m%C3%B2duls_de_codi_Javascript">
            Català
          </option>
          <option value="/es/docs/JavaScript_code_modules/Using">
            Español
          </option>
          <option value="/fr/docs/Utilisation_de_modules_de_code_JavaScript">
            Français
          </option>
          <option value="/ja/docs/Mozilla/JavaScript_code_modules/Using">
            日本語
          </option>
          <option value="/pl/docs/Mozilla/JavaScript_code_modules/Zastosowanie_modu%C5%82%C3%B3w_JavaScript">
            Polski
          </option>
          <option value="/zh-CN/docs/Mozilla/JavaScript_code_modules/Using">
            中文 (简体)
          </option>
      </select>
      <noscript>&lt;button type="submit"&gt;Go&lt;/button&gt;</noscript>
    </form>
  

        
      </div>
    </div>
  </div></footer>

  <!-- site js -->
  
    
    <!--[if lte IE 8]><script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/selectivizr.091e18cf669b.js" charset="utf-8"></script><![endif]-->

    <form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/signin" data-csrf-token-url="/users/persona/csrf" data-request="{&quot;siteName&quot;: &quot;Mozilla Developer Network&quot;, &quot;siteLogo&quot;: &quot;/static/img/opengraph-logo.png&quot;}" data-persona-script="../../../../../login.persona.org/include.js">
  <input type="hidden" name="csrfmiddlewaretoken" value="" id="_persona_csrf_token">
  <input type="hidden" name="next" value="" id="_persona_next_url">
  <input type="hidden" name="process" value="" id="_persona_process">
  <input type="hidden" name="assertion" id="_persona_assertion">
</form>

    <script type="text/javascript" src="../../../../../developer.cdn.mozilla.net/static/build/js/main.a7b27a25fb9c.js" charset="utf-8"></script>

      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>

    
    <script async="" type="text/javascript" src="../../../../../developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.4fef8f9a3076.js"></script>
  
    <script async="" type="text/javascript" src="../../../../../developer.cdn.mozilla.net/static/build/js/syntax-prism-min.js" charset="utf-8"></script><script type="text/javascript" src="../../../../../developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.4fef8f9a3076.js"></script>
  
    <script async="" type="text/javascript" src="../../../../../developer.cdn.mozilla.net/static/build/js/wiki.bd71ca9fd27d.js" charset="utf-8" id="wikiscript"></script>

  

  <script async="" type="text/javascript" src="../../../../../developer.cdn.mozilla.net/static/build/js/helpfulness.7b208a764d28.js" charset="utf-8"></script>

  



<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 May 2016 17:07:44 GMT -->
</body></html>