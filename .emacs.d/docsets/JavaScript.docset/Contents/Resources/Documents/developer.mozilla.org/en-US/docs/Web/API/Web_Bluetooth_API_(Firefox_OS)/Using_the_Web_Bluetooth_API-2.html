<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 19:01:00 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"><script async="" src="../../../../../../www.google-analytics.com/analytics.js"></script>
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
        
    <title>Using the Web Bluetooth API</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

              <link rel="stylesheet" media="all" href="../../../../../../developer.cdn.mozilla.net/static/css/mdn-min2bff.css?build=2aab9d6">

      
    <link rel="stylesheet" media="all" href="../../../../../../developer.cdn.mozilla.net/static/css/wiki-min2bff.css?build=2aab9d6">

    
    
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.png">
  <meta name="twitter:site" content="@MozDevNet">
  <meta name="twitter:creator" content="@MozDevNet">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/static/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API$json">
  <link rel="canonical" href="Using_the_Web_Bluetooth_API-2.html">

  
  <!-- document-specific social tags -->
  <meta property="og:title" content="Using the Web Bluetooth API">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_%28Firefox_OS%29/Using_the_Web_Bluetooth_API">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_%28Firefox_OS%29/Using_the_Web_Bluetooth_API">
  <meta name="twitter:title" content="Using the Web Bluetooth API">
    <meta property="og:description" content="The WebBluetooth API is a Firefox OS-only API created to allow control ofa device's low-level Bluetooth functionality via JavaScript. This article explains the basics of how to use the API in a Firefox OS app.">
  <meta name="description" content="The WebBluetooth API is a Firefox OS-only API created to allow control ofa device's low-level Bluetooth functionality via JavaScript. This article explains the basics of how to use the API in a Firefox OS app.">
  <meta name="twitter:description" content="The WebBluetooth API is a Firefox OS-only API created to allow control ofa device's low-level Bluetooth functionality via JavaScript. This article explains the basics of how to use the API in a Firefox OS app.">
  
      
  </head>
<body data-slug="Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API" contextmenu="edit-history-menu" data-search-url="" class="document  ">

  <script type="text/javascript">
    

(function (globals) {

  var django = globals.django || (globals.django = {});

  
  django.pluralidx = function (count) { return (count == 1) ? 0 : 1; };
  

  
  /* gettext identity library */

  django.gettext = function (msgid) { return msgid; };
  django.ngettext = function (singular, plural, count) { return (count == 1) ? singular : plural; };
  django.gettext_noop = function (msgid) { return msgid; };
  django.pgettext = function (context, msgid) { return msgid; };
  django.npgettext = function (context, singular, plural, count) { return (count == 1) ? singular : plural; };
  

  django.interpolate = function (fmt, obj, named) {
    if (named) {
      return fmt.replace(/%\(\w+\)s/g, function(match){return String(obj[match.slice(2,-2)])});
    } else {
      return fmt.replace(/%s/g, function(match){return String(obj.shift())});
    }
  };


  /* formatting library */

  django.formats = {
    "DATETIME_FORMAT": "N j, Y, P", 
    "DATETIME_INPUT_FORMATS": [
      "%Y-%m-%d %H:%M:%S", 
      "%Y-%m-%d %H:%M:%S.%f", 
      "%Y-%m-%d %H:%M", 
      "%Y-%m-%d", 
      "%m/%d/%Y %H:%M:%S", 
      "%m/%d/%Y %H:%M:%S.%f", 
      "%m/%d/%Y %H:%M", 
      "%m/%d/%Y", 
      "%m/%d/%y %H:%M:%S", 
      "%m/%d/%y %H:%M:%S.%f", 
      "%m/%d/%y %H:%M", 
      "%m/%d/%y"
    ], 
    "DATE_FORMAT": "N j, Y", 
    "DATE_INPUT_FORMATS": [
      "%Y-%m-%d", 
      "%m/%d/%Y", 
      "%m/%d/%y"
    ], 
    "DECIMAL_SEPARATOR": ".", 
    "FIRST_DAY_OF_WEEK": "0", 
    "MONTH_DAY_FORMAT": "F j", 
    "NUMBER_GROUPING": "3", 
    "SHORT_DATETIME_FORMAT": "m/d/Y P", 
    "SHORT_DATE_FORMAT": "m/d/Y", 
    "THOUSAND_SEPARATOR": ",", 
    "TIME_FORMAT": "P", 
    "TIME_INPUT_FORMATS": [
      "%H:%M:%S", 
      "%H:%M:%S.%f", 
      "%H:%M"
    ], 
    "YEAR_MONTH_FORMAT": "F Y"
  };

  django.get_format = function (format_type) {
    var value = django.formats[format_type];
    if (typeof(value) == 'undefined') {
      return format_type;
    } else {
      return value;
    }
  };

  /* add to global namespace */
  globals.pluralidx = django.pluralidx;
  globals.gettext = django.gettext;
  globals.ngettext = django.ngettext;
  globals.gettext_noop = django.gettext_noop;
  globals.pgettext = django.pgettext;
  globals.npgettext = django.npgettext;
  globals.interpolate = django.interpolate;
  globals.get_format = django.get_format;

}(this));



    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'compat_api': false,'header_feedback': true,'helpfulness': false,'kumaediting': false,'mdn10_logo': true,'mdn10_tile': true,'page_move': false,'registration_disabled': false,'search_suggestions': false,'share_links': false,'wiki_samples': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': false,'store_revision_ips': true,'dumb_doc_urls': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        
        // This represents the site configuration
        win.mdn = {
            build: '2aab9d6',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to static assets (images, CSS, JS) in MDN
            staticPath: 'https://developer.cdn.mozilla.net/static/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
                        notifications: [],
                        // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            }
        };
    })(this);
</script>
    <div class="global-notice">
    <div class="wrap center">
              <p><bdi>Join MDN and developers like you at Mozilla's View Source conference, November 2-4 in Portland, Oregon. Learn more at <a href="https://viewsourceconf.org/">https://viewsourceconf.org/</a>.</bdi></p>
          </div>
  </div>


  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
          <li><a href="#q" id="skip-search">Skip to search</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div id="tabzilla">
        <a href="http://www.mozilla.org/" class="no-track">mozilla</a>
    </div>

    <div class="clear header-clear"></div>

            <a href="https://developer.mozilla.org/en-US/" class="logo logo-mdn10">Mozilla Developer Network</a>
    
    <div id="nav-sec">
                          <ul>
                  <li>
    
    <form>
      <div class="oauth-login-container">
          <div class="oauth-login-options" tabindex="0">
              <span class="oauth-login-options-text">
                <span class="oauth-login-options-text-icons">Sign in with</span>
                <span class="oauth-login-options-text-no-icons">Sign in</span>
              </span>
              <span class="oauth-icon oauth-persona launch-persona-login wait-for-persona disabled" data-service="Persona" data-next="/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API" title="Persona"><i class="icon-user" aria-hidden="true"></i></span>
              <span class="oauth-icon oauth-github" data-service="GitHub" data-href="/users/github/login/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Bluetooth_API_%28Firefox_OS%29%2FUsing_the_Web_Bluetooth_API" title="GitHub"><i class="icon-github" aria-hidden="true"></i></span>
          </div>
          <div class="oauth-login-picker" aria-hidden="true">
              <ul>
                  <li class="wait-for-persona disabled"><a href="https://developer.mozilla.org/en-US/users/signin" class="login-link launch-persona-login" data-next="/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                  <li><a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWeb_Bluetooth_API_%28Firefox_OS%29%2FUsing_the_Web_Bluetooth_API" class="login-link" data-service="GitHub"><i class="icon-github" aria-hidden="true"></i>GitHub</a></li>
              </ul>
          </div>
      </div>
    </form>
</li>
                </ul>
            </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-cols-2 js-submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="../../API.html">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References &amp; Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learn the Web</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Mozilla Docs<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a></li><li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li><li><a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-contact-submenu">
          <div class="submenu-column">
            <ul>
                <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li>
                <li><a href="http://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a></li>
              <li><a href="https://bugzilla.mozilla.org/form.doc">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li>
              <li><a href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
          </div>
        </div>

      </li><li class="nav-search-link"><a href="https://developer.mozilla.org/en-US/search" title="Search"><i aria-hidden="true" class="icon-search"></i></a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="">
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
   <!-- end is_zone -->


    <div class="wiki-main-content" id="document-main"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
        
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                              <li class="smaller">No translations exist for this article.</li>
              
                              <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li>
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu js-submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API$history" rel="nofollow, noindex">History</a></li>
                                                                
                
                                                                <li class="page-print"><a href="#" onclick="return window.print();">Print this page</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Web" rel="v:url" property="v:title">Web technology for developers</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../../API.html" rel="v:url" property="v:title">Web APIs</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../Web_Bluetooth_API_(Firefox_OS).html" rel="v:url" property="v:title">Web Bluetooth API (Firefox OS)</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">Using the Web Bluetooth API</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc submenu">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>

        <h1>Using the Web Bluetooth API</h1>

        
                <div class="contributor-avatars" data-all-text="Show all…&lt;span class='hidden'&gt;contributors&lt;/span&gt;">
            <span class="quickstat">
            by 1 contributor:            </span>
            <ul>
                            <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/chrisdavidmills" title="View profile: chrisdavidmills">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="chrisdavidmills" data-src="../../../../../../secure.gravatar.com/avatar/deeea0ba82390bd5acc539703c4b0cfb6aac.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2F%2Fimg%2Favatar.png">chrisdavidmills</noscript></a>
                </li>
                        </ul>
        </div>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable" data-closed="true">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <li><a href="#Permissions" rel="internal">Permissions</a></li><li><a href="#Pairing_Bluetooth_devices" rel="internal">Pairing Bluetooth devices</a>
                </li></ol>
                              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              
              
                                                <div class="warning warning-review"><p>This article is in need of a technical review.</p></div>
                                                  <div class="warning warning-review"><p>This article is in need of an editorial review.</p></div>
                                                            
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <p></p><div class="overheadIndicator draft"> 
    <p><strong>Draft</strong><br> 
    This page is not complete.</p> 
</div><p></p>

<p></p><div class="overheadIndicator nonStandard nonStandardHeader"> 
      <p><strong><span title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> Non-standard</strong><br> 
      This feature is non-standard and is not on a standards track. Do not use it on production sites facing the Web: it will not work for every user. There may also be large incompatibilities between implementations and the behavior may change in the future.</p> 
      </div><p></p>

<p></p><div class="warning"> 
    <p style="text-align: center;">This API is available on <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox_OS">Firefox OS</a> for <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox_OS/Security/Application_security">internal applications</a> only.</p> 
</div><p></p>

<p class="summary">The WebBluetooth API is a Firefox OS-only API created to allow control ofa device's low-level Bluetooth functionality via JavaScript. This article explains the basics of how to use the API in a Firefox OS app.</p>

<h2 id="Permissions">Permissions</h2>

<p>Certified/internal applications that want to use the Web Bluetooth API must request the relevant permission within their app manifest.</p>

<pre class="brush: json">"permission": {
  "bluetooth":{}
}</pre>

<p>It is also recommended to ask for the <code>settings</code> permission because currently enabling and disabling Bluetooth has to be done by changing the value of <a href="../Navigator/mozSettings.html" title="Returns a SettingsManager object you can use to access and change the device's settings."><code>navigator.mozSettings</code></a> setting named "bluetooth.enabled". Code to accomplish this would look something like the following:</p>

<pre class="brush: js">var lock = navigator.mozSettings.createLock();
var lockCompleteReq = lock.set({
  'bluetooth.enabled': true
});

result.onsuccess = function() {
  /* do what you need to do now that Bluetooth is on */
}

result.onerror = function() {
  /* deal with the error; Bluetooth was not enabled successfully */
}
</pre>

<h2 id="Pairing_Bluetooth_devices">Pairing Bluetooth devices</h2>

<p>The most important step when dealing with a Bluetooth environment is pairing devices in order to build a Bluetooth micro-network of devices working together in a secure way. Pairing is a procedure by which two Bluetooth devices come to share a common "key", called the "Link Key". Once two devices have been paired, it becomes possible to set up more advanced connections using profiles in order to access specific features of the devices.</p>

<p>The pairing procedure depends on the I/O capabilities of each device.</p>

<p>Each time a remote device wants to be paired with a Firefox OS device, a system message called <code>bluetooth-pairing-request</code> is sent. To intercept that system message, the application in charge of handling the pairing must register the message within its application manifest:</p>

<pre class="brush: json">"messages": [
  { "bluetooth-pairing-request": "/pairing.html" }
]</pre>

<p>It must also register a message handler for that message:</p>

<pre class="brush: js">navigator.mozSetMessageHandler("bluetooth-pairing-request", function (message) {
  // Get the information about the pairing request
  var request = message.detail;

  // Handle the pairing request. For this simple example, we're just logging
  // the name of the remote device that wants to be paired with your device

  console.log(request.name);
});</pre>

<p>The message's <code>detail</code> property contains all the information needed to start pairing the two devices:</p>

<ul>
 <li><code>address</code>: the address of the remote device on the Bluetooth micro-network (see: <a href="../BluetoothDevice_(Firefox_OS)/address-2.html" title="The address property value provides the address of the device on the Bluetooth micro-network."><code>BluetoothDevice.address</code></a>)</li>
 <li><code>name&nbsp;&nbsp; </code>: the name of the remote device (see: <a href="../BluetoothDevice/name.html" title="The name property provides the human readable name of the device."><code>BluetoothDevice.name</code></a>)</li>
 <li><code>icon&nbsp;&nbsp; </code>: An icon name to use (see: <a href="../BluetoothDevice_(Firefox_OS)/icon-2.html" title="The icon property is a string indicating which kind of icon could be used to represent the device."><code>BluetoothDevice.icon</code></a>)</li>
 <li><code>passkey</code>: A pass key the user has to type if the remote device is an input device</li>
 <li><code>method </code>: The pairing method to use, one of <code>confirmation</code>, <code>pincode</code> or <code>passkey</code>.</li>
</ul>

<p>Finalizing the pairing request depends on the specified <code>method</code>. Each method provides a mechanism for ensuring that both devices are controlled by the same user, in order to prevent unauthorized usage.</p>

<dl>
 <dt><code>confirmation</code></dt>
 <dd>Both devices display a 6-digit number on their screens; the user must confirm that both devices show the same number in order to initiate the connection</dd>
 <dt><code>pincode</code></dt>
 <dd>The remote device does not have a screen (for example, it might be a headset or a mouse). The device's manufacturer provides a PIN code which must be entered on the other device to complete pairing.</dd>
 <dt><code>passkey</code></dt>
 <dd>If the remote device is a text input device (such as a keyboard), a 6-digit number may be shown and the user must enter the key using that remote device.</dd>
</dl>

<p>So an application managing pairing must handle three different pairing methods. To send the user answer to the remote device, the Bluetooth API provides the following methods: <a href="../BluetoothAdapter_(Firefox_OS)/setPairingConfirmation-2.html" title="The setPairingConfirmation method is used to send back the pairing confirmation when the device's adapter tries to pair itself with a remote device."><code>BluetoothAdapter.setPairingConfirmation()</code></a>, <a href="../BluetoothAdapter_(Firefox_OS)/setPinCode-2.html" title="The setPinCode method is used to send back the requested PIN code when the device's adapter tries to pair itself with a remote device."><code>BluetoothAdapter.setPinCode()</code></a>, and <a href="../BluetoothAdapter_(Firefox_OS)/setPasskey-2.html" title="The setPasskey method is used to send back the requested Passkey code when the device's adapter tries to pair itself with a remote device."><code>BluetoothAdapter.setPasskey()</code></a></p>

<pre class="brush: js">var adapter;

// Retreving the local device adapter is asynchronous, handle this carefully.
navigator.mozBluetooth.getDefaultAdapter().success = function(evt) {
  adapter = evt.target.result;
}

function onPairing(message) {
  var reponse,
      request = message.detail,
      passkey = request.passkey;

  switch (request.method) {
    case 'confirmation':
      // Make sure the passkey is a string
      passkey = String(passkey);
      // Make sure the string is 6 characters long (pad with 0 if necessary)
      passkey = (new Array((6 - passkey.length) + 1)).join('0') + passkey;
      // Let's prompt the user
      response = confirm('Is that same number visible on the remote device screen: ' + passkey)
      // Let's send the confirmation
      adapter.setPairingConfirmation(request.address, response);
      break;

    case 'pincode':
      // Let's prompt the user
      response = prompt('Thanks to provide the remote device PIN code');
      // Let's send the pin code
      adapter.setPinCode(request.address, response);
      break;

    case 'passkey':
      // Let's prompt the user
      response = alert('Thanks to type the following code on the remote device');
      // Let's send back the passkey
      adapter.setPasskey(request.address, response);
      break;
  }
}

navigator.mozSetMessageHandler("bluetooth-pairing-request", onPairing);
</pre>

<p>Once the pairing operation is complete on both sides, the application is notified of the success or failure of the operation through the <code><a href="../../Events/pairedstatuschanged.html" class="new" title="/en-US/docs/Web/Events/pairedstatuschanged">pairedstatuschanged</a></code> event where the callback handler is getting a <a href="../BluetoothStatusChangedEvent.html" title="The BluetoothStatusChangedEvent API provides access to information regarding any change to the status of a Bluetooth device."><code>BluetoothStatusChangedEvent</code></a>.</p>

<pre class="brush: js">adapter.onpairedstatuschanged = function (evt) {
  if (evt.status) {
    alert("The pairing operation has been successfully completed");
  } else {
    alert("The pairing operation has failed. Please, try again");
  }
}</pre>
                                                </article>

            

              
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                      <div class="tag-attach-list contributors-sub">
    <i aria-hidden="true" class="icon-tags"></i>
    <strong>Tags:</strong>&nbsp;
    <ul class="tags tags-small">
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Adapter">Adapter</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/adapter">adapter</a></li>
              <li><a href="../../../tag/API.html">API</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Bluetooth">Bluetooth</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Guide">Guide</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/key">key</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Key">Key</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/manifest">manifest</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/NeedsContent">NeedsContent</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/pairing">pairing</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/permissions">permissions</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/Permissions">Permissions</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/tag/WebBluetooth">WebBluetooth</a></li>
          </ul>
  </div>

                                      <div class="contributors-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong>         <a href="https://developer.mozilla.org/en-US/profiles/chrisdavidmills">chrisdavidmills</a>     </div>                  
                                      <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/chrisdavidmills">chrisdavidmills</a>,
                      <time datetime="2015-07-15T06:22:32-07:00">Jul 15, 2015, 6:22:32 AM</time>
                    </div>
                                  </div>
                          </div>

                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/docs/Web/API/Web_Bluetooth_API_%28Firefox_OS%29/Using_the_Web_Bluetooth_API$edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Web/API/Web_Bluetooth_API_%28Firefox_OS%29/Using_the_Web_Bluetooth_API$history" label="View page history"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <div class="contentinfo">
          <p>© 2005-2015 Mozilla Developer Network and individual contributors.</p> <p>Content is available under <a href="https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p>          <ul>
            <li><a href="https://developer.mozilla.org/docs/MDN/About">About MDN</a></li>
            <li><a href="http://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/">Privacy</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li>
            <li><a href="http://github.com/mozilla/kuma">Contribute to the code</a></li>
          </ul>
        <p></p>
                </div>
      </div>
      <div class="column-strip">
                                  </div>
    </div>
  </div></footer>

  <!-- site js -->
          <!--[if lte IE 8]><script src="https://developer.cdn.mozilla.net/static/js/libs/selectivizr-1.0.2/selectivizr-build.js"></script><![endif]-->

    <form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/signin" data-csrf-token-url="/users/persona/csrf" data-request="{&quot;siteName&quot;: &quot;Mozilla Developer Network&quot;, &quot;siteLogo&quot;: &quot;/static/img/opengraph-logo.png&quot;}" data-persona-script="../../../../../../login.persona.org/include.js">
  <input type="hidden" name="csrfmiddlewaretoken" value="" id="_persona_csrf_token">
  <input type="hidden" name="next" value="" id="_persona_next_url">
  <input type="hidden" name="process" value="" id="_persona_process">
  <input type="hidden" name="assertion" id="_persona_assertion">
</form>

    <script src="../../../../../../developer.cdn.mozilla.net/static/js/main-min2bff.js?build=2aab9d6"></script>

      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>

      
    <script src="../../../../../../developer.cdn.mozilla.net/static/js/wiki-min2bff.js?build=2aab9d6" async="" id="wikiscript"></script>

    <script type="text/javascript">
            mdn.optimizely.push(['activate', 2796520257]);
  </script>

  
  


<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API_(Firefox_OS)/Using_the_Web_Bluetooth_API by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 19:01:00 GMT -->
</body></html>