<html><!-- Mirrored from mdn.mozillademos.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise$samples/Creating_a_Promise?revision=916971 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 17:53:38 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

        <link rel="stylesheet" type="text/css" href="../../../../../../../../developer.mozilla.org/en-US/docs/Template_CustomSampleCSS2af1.css?raw=1">
            </head>
    <body>
                    <button id="btn">Make a promise!</button>
<div id="log"></div>
                            <script type="text/javascript">
                'use strict';
var promiseCount = 0;

function testPromise() {
    var thisPromiseCount = ++promiseCount;

    var log = document.getElementById('log');
    log.insertAdjacentHTML('beforeend', thisPromiseCount +
        ') Started (<small>Sync code started</small>)<br/>');

    // We make a new promise: we promise the string 'result' (after waiting 3s)
    var p1 = new Promise(
        // The resolver function is called with the ability to resolve or
        // reject the promise
        function(resolve, reject) {
            log.insertAdjacentHTML('beforeend', thisPromiseCount +
                ') Promise started (<small>Async code started</small>)<br/>');
            // This only is an example to create asynchronism
            window.setTimeout(
                function() {
                    // We fulfill the promise !
                    resolve(thisPromiseCount);
                }, Math.random() * 2000 + 1000);
        });

    // We define what to do when the promise is fulfilled
    // but we only call this if the promise is resolved/fulfilled
    p1.then(
        // Just log the message and a value
        function(val) {
            log.insertAdjacentHTML('beforeend', val +
                ') Promise fulfilled (<small>Async code terminated</small>)<br/>');
        })
    .catch(
        // Rejected promises are passed on by Promise.prototype.then(onFulfilled)
        function(reason) {
            console.log('Handle rejected promise ('+reason+') here.');
        });

    log.insertAdjacentHTML('beforeend', thisPromiseCount +
        ') Promise made (<small>Sync code terminated</small>)<br/>');
} if ("Promise" in window) {
  var btn = document.getElementById("btn");
   btn.addEventListener("click",testPromise);
}
else {
  log = document.getElementById('log');
  log.innerHTML = "Live example not available as your browser doesn't support the <code>Promise<code> interface.";
}
            </script>
            

<!-- Mirrored from mdn.mozillademos.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise$samples/Creating_a_Promise?revision=916971 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Oct 2015 17:53:38 GMT -->
</body></html>