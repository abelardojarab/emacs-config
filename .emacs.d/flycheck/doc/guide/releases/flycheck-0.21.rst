===============
 Flycheck 0.21
===============

:date: Oct 26, 2014
:version: 0.21

Flycheck 0.21 is out, with new syntax checkers, many new options, improvements
and bug fixes, and some important breaking changes.

This announcement covers the most important changes.  For details, please refer
to the :ref:`changelog`.

Breaking changes
================

.. warning::

   The value of the `:next-checkers` property changed in a
   backwards-incompatible way.  The custom symbols `no-errors` and
   `warnings-only` are gone.  Instead the first item of each cons cell is the
   *maximum permissible error level* now.  For instance, `:next-checkers
   ((no-errors . foo))` now becomes `:next-checkers ((warning . foo))`.  Please
   update all your syntax checker definitions accordingly.

The :flyc-checker:`html-tidy` syntax checker does not check Web Mode buffers
anymore, because will frequently contain strictly invalid HTML.

The :flyc-checker:`d-dmd` syntax checker requires DMD 2.066 or newer now, to
add columns to error locations.

The error list highlights all errors at the current line now.  Highlighting of
errors at point, i.e. the `flycheck-error-list-highlight-at-point` face and
related functionality, was removed, because it would frequently cause odd and
confusing highlighting.

Language support
================

Flycheck now supports the Coq proof language and RPM spec files with the new
syntax checkers :flyc-checker:`coq` and :flyc-checker:`rpm-rpmlint`
respectively.

C/C++
-----

The new :option:`flycheck-gcc-openmp` enables OpenMP for the
:flyc-checker:`c/c++-gcc` checker to suppress warnings about OpenMP pragmas.

The :flyc-checker:`c/c++-gcc` expands templates during syntax checks now.

The :flyc-checker:`c/c++-clang` syntax checker now handles empty messages from
`#error` and `#warning` pragmas correctly.

D
-

The :flyc-checker:`d-dmd` syntax checker reports columns now, making error
locations more precise.  This requires DMD 2.066.  Support for earlier DMD
versions was dropped.

Go
--

:flyc-checker:`go-errcheck` now handles packages correctly, fixing many faulty
warnings.

HTML
----

:flyc-checker:`html-tidy` does not check Web Mode buffers anymore.

Less
----

:flyc-checker:`less` now correctly resolves relative paths in `data-uri`.

Shell scripts
-------------

The new :option:`flycheck-shellcheck-excluded-warnings` allows to exclude
specific warnings from reports of the :flyc-checker:`sh-shellcheck` checker.

In a related change, :flyc-checker:`sh-shellcheck` now includes the warning code
into all reported errors, which makes it easier to set
:option:`flycheck-shellcheck-excluded-warnings` accordingly.

Error list changes
==================

The error list at :command:`flycheck-list-errors` was refined and fixed:

- Mouse support is restored: You can now click onto error messages again, to
  navigate to the error source.
- When navigating inside the error list with :kbd:`n` or :kbd:`p`, the error
  list does not randomly alter the point position anymore.
- The syntax checker name now appears in a separate column.  The appearance of
  this column can be customized with new face :face:
  `flycheck-error-list-checker-name`.
- Errors can be sorted by syntax checker name and message now.
- The new hook :hook:`flycheck-error-list-after-refresh-hook` now runs every
  time the error list was refreshed.
- The error list does not highlight errors at point separately anymore, to avoid
  confusing highlighting.

Error navigation and display
============================

The new option :option:`flycheck-navigation-minimum-level` allows to skip errors
of specific error levels in error navigation, i.e. :kbd:`M-g n` or :kbd:`C-c !
n`.  Errors of levels below the value of this new option are still shown in the
buffer and in the error list, but they are skipped in any of the navigation
commands.

The new function :function:`flycheck-display-error-messages-unless-error-list`
shows messages of the errors at point in the echo area, but only if the error
list is *not* visible.  Use this function for
:option:`flycheck-display-errors-function` to make use of this feature.

Syntax checker definition and extension
=======================================

The `:next-checkers` property requires a maximum permissible error level now.
The custom predicates `no-errors` and `warnings-only` are gone.

Syntax checker definitions can use the new `null-device` symbol to add the name
of the system null device (e.g. `/dev/null` on Unix, `NUL` on Windows) to the
syntax checker arguments.  Typically, this would be used to ignore files
generated by the syntax checker.  See the definition of the
:flyc-checker:`c/c++-gcc` syntax checker for an example.

The new function :function:`flycheck-add-mode` adds major modes to existing
syntax checkers, by extending the `:modes` property.

Obtaining the new release
=========================

Follow the :doc:`installation instructions <../installation>`.  If you already
have Flycheck installed, just update it from :kbd:`M-x list-packages`.
