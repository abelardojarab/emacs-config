# .fvwm/.fvwm2rc
SetEnv fvwm_wallpaper $[HOME]/workspace/emacsfull/Images/Wallpapers/debian_stream_clean.png

# Pixmap
ImagePath $[HOME]/workspace/emacsfull/Images/Icons:$[HOME]/Images/Icons:/usr/share/icons/fvwm:/usr/share/icons/hicolor/16x16
IconPath  $[HOME]/workspace/emacsfull/Images/Icons:$[HOME]/Images/Icons:/usr/share/icons/fvwm:/usr/share/icons/hicolor/16x16/apps:/usr/share/icons/HighContrast/scalable/apps-extra:/usr/share/icons/icons/hicolor/16x16/apps:/usr/share/icons/oxygen/16x16/apps:/usr/share/icons/oxygen/16x16/actions:/usr/share/icons/gnome/16x16/apps:/usr/share/icons/gnome/16x16/mimetypes:/usr/share/icons/oxygen/16x16/categories:/usr/share/icons/hicolor/scalable/apps:/usr/share/icons/HighContrast/16x16/apps:/usr/share/icons/locolor/16x16/apps

# Fonts
InfoStoreAdd font_sans "xft:Aquabase:size=12:encoding=iso10646-1"
InfoStoreAdd font_mono "xft:Roboto-Bold:size=13:encoding=iso10646-1"
DefaultFont "$[infostore.font_mono]"
WindowFont "$[infostore.font_mono]"

# Viewport and Virtual Desktop Setup
DeskTopSize 3x3
EdgeScroll 0 0
EdgeThickness 2
EdgeResistance 400
EwmhBaseStruts 128 20 0 20
OpaqueMoveSize -1
TitleStyle Height 13
ColormapFocus FollowsFocus

# Note: FvwmPager will be swallowed by FvwmButtons (below)
*FvwmPager: Fore grey
*FvwmPager: Back black
*FvwmPager: Colorset 8
*FvwmPager: SolidSeparators
*FvwmPager: Balloons All
*FvwmPager: Label 0 "0: General"
*FvwmPager: Label 1 "1: Office"
*FvwmPager: Label 2 "2: CAD"
*FvwmPager: Label 3 "3: Other"

# Start function
AddToFunc StartFunction
+ I FvwmButtons
+ I FvwmTaskBar
# + I Test (Init) Exec exec fvwm-root --dither --retain-pixmap $[fvwm_wallpaper]
# + I FvwmAuto FvwmAutohide -menter FuncAutoEnter
# + I Test (Init) StartHiddenConsole

# Init function
DestroyFunc InitFunction
AddToFunc   InitFunction
+ I Exec exec xrdb ~/.Xresources
+ I Exec exec feh --bg-scale $[fvwm_wallpaper]
# + I Exec exec plank
+ I Exec exec trayer --SetDockType true --distance 200 --padding 10 --transparent true --tint a6aaaa --alpha 50 --edge top --align right --expand true --widthtype percent --width 12 --heighttype pixel --height 24 --distancefrom right
+ I Exec exec /usr/lib/x86_64-linux-gnu/notify-osd
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then insync start; fi'
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then dropbox start; fi'
# + I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then /opt/google/chrome-beta/chrome; fi'
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then google-musicmanager; fi'
+ I Exec exec bash -c 'if [ $DISPLAY = ":99" ]; then hp-systray; fi'

# Window Decor
DestroyDecor MyDecoration
AddToDecor   MyDecoration
+ ButtonStyle 1 ActiveUp Vector 4 30x30@3 60x60@3 60x30@4 30x60@3
+ ButtonStyle 1 ActiveDown Vector 4 30x30@3 60x60@3 60x30@4 30x60@3
+ ButtonStyle 1 Inactive Vector 4 30x30@3 60x60@3 60x30@4 30x60@3
+ ButtonStyle 4 ActiveUp Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 4 ActiveDown Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 4 Inactive Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 3 ActiveUp Vector 2 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 3 ActiveDown Vector 2 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 3 Inactive Vector 2 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3
+ ButtonStyle 2 ActiveUp Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3
+ ButtonStyle 2 ActiveDown Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3
+ ButtonStyle 2 Inactive Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3
+ TitleStyle Centered
+ TitleStyle -- Raised
+ BorderStyle Simple
+ ButtonStyle All -- UseTitleStyle
+ BorderStyle Inactive -- HiddenHandles
+ BorderStyle Active

# Window Deco
Colorset  3 fg #9999CC, bg #9999CC
Colorset  4 fg #9999CC, bg #996666
Colorset  5 fg #ffffff, bg #9999CC

# Menu
Colorset  7 fg #f0f0f0, bg #151515, sh #909090, hi #808080
Colorset  8 fg #dddddd, bg #eb928e, sh #eb928e, hi #151515

# Pager
Colorset  9 fg #606060, bg #505050, sh #eeeeee, hi #606060
Colorset 10 fg #bbbbbb, bg #303030, sh #eeeeee, hi #303030

# Gainsboro is a light grey
HilightColor black grey

# Styles
Style * Font "$[infostore.font_mono]"
Style * IconBox 700x84-220+12, IconFill right bottom
Style * SmartPlacement, RandomPlacement, ResizeOutline
Style * BorderWidth 4, GrabFocus, IgnoreRestack, MinOverlapPlacement
Style * NoPPosition, NoTransientPPosition, ResizeOpaque, SloppyFocus
Style * DecorateTransient, IconBox -132 110 -8 -8
Style * EWMHMiniIconOverride
Style * UseDecor MyDecoration
Style * MWMBorder, FirmBorder
Style * SnapAttraction 3
Style * GrabFocusTransientOff
Style * WindowShadeSteps 20, WindowShadeScrolls

# !Handles, !Borders, !Title
Style * HandleWidth 4, BorderWidth 4
Style "Wine"      FPLenient, NoFuncHint, NoDecorHint, NoOLDecor
Style "glretrace" !Title
Style "conky"     !Title, Sticky, WindowListSkip, StaysOnBottom, NeverFocus
Style "plank"     !Title, !Handles, StaysOnTop, Sticky, NeverFocus, WindowListSkip
Style "gkrellm"   !Title, !Handles, StaysOnTop, Sticky, NeverFocus, WindowListSkip, FixedPosition
Style "trayer"    !Title, FixedPosition, Sticky
Style "chrome"    !Title, FPLenient, NoFuncHint, NoDecorHint, NoOLDecor

# Speed up window operations at the expense of a bit of RAM.
Style * BackingStore, SaveUnder

#  Similar focus behavior to xfce/openbox.
Style * ClickToFocus
Style * FPSortWindowlistByFocus
Style * RaiseTransient
Style * LowerTransient
Style * StackTransientParent
Style * EWMHUseStackingOrderHints

# Buttons
Style FvwmButtons WindowListSkip, NeverFocus, NoHandles, NoTitle, StaysOnTop, Sticky
Style FvwmPager NeverFocus, NoHandles, NoTitle, StaysOnTop, Sticky
Style FvwmTaskBar NoTitle, WindowListSkip, CirculateSkip, Sticky, BorderWidth 0, NoHandles, StaysOnTop
Style FvwmTaskBar NeverFocus, Layer 0

# Set up the geometry so that the buttons stack vertically on the left.
*FvwmButtonsFont  "$[infostore.font_mono]"
*FvwmButtons: ButtonGeometry 100x50+1940+0
*FvwmButtonsFore blick
*FvwmButtons: Colorset 7
*FvwmButtons: BoxSize fixed
*FvwmButtons: Rows 17
*FvwmButtons: Columns 1
*FvwmButtons: Frame 1
*FvwmButtons: (1x2+0+0, Swallow "FvwmPager" 'FvwmPager *')
*FvwmButtons(Title Firefox, Icon firefox.png, Action 'Exec "Firefox" firefox &')
*FvwmButtons(Title Pidgin, Icon pidgin.png, Action 'Exec "Pidgin" pidgin &')
*FvwmButtons(Title Terminal, Icon gnome-terminal.png, Action 'Exec "Terminal" gnome-terminal &')
*FvwmButtons(Title XTerm, Icon xterm.png, Action 'Exec "xterm" xterm -ls &')
*FvwmButtons(Title Emacs, Icon emacs.png, Action 'Exec "Emacs Server" emacs &')
*FvwmButtons(Title EmacsClient, Icon emacs.png, Action 'Exec "Emacs Client" emacsclient --server-file ~/.emacs.cache/server/server -c &')
*FvwmButtons(Title CLion, Icon clion.png, Action 'Exec "CLion" clion.sh &')
*FvwmButtons(Title Glade, Icon glade.png, Action 'Exec "Glade" glade-3 &')
*FvwmButtons(Title Dia, Icon dia.png, Action 'Exec "Dia" dia &')
*FvwmButtons(Title Gimp, Icon gimp.png, Action 'Exec "Gimp" gimp &')
*FvwmButtons(Title Inkscape, Icon inkscape.png, Action 'Exec "Inkscape" inkscape &')
*FvwmButtons(Title Writer, Icon x-office-document.png, Action 'Exec "Writer" libreoffice --writer &')
*FvwmButtons(Title Calc, Icon libreoffice-spreadsheet.png, Action 'Exec "Calc" libreoffice --calc &')
*FvwmButtons(Title Impress, Icon libreoffice-presentation.png, Action 'Exec "Impress" libreoffice --impress &')
*FvwmButtons(Title Transmission, Icon transmission.png, Action 'Exec "Transmission" transmission-gtk &')

# AutoHiding Console
Style HiddenConsole Sticky, WindowListSkip, Notitle, StaysOnTop, !Handles, FixedSize, FixedPosition
Style HiddenConsole WindowShadeSteps 100

# Menu Style
MenuStyle * PopupOffset 0 100, TitleWarpOff
MenuStyle * TitleUnderlines2, SeparatorsLong, TrianglesSolid
MenuStyle * BorderWidth 2
MenuStyle * PopupAsSubmenu, HoldSubmenus, SubmenusRight
MenuStyle * ItemFormat "%|%5.5i%1.3l%2.3>%|"
MenuStyle * VerticalItemSpacing 1 1, VerticalTitleSpacing 2 2
MenuStyle * MenuColorset 7
MenuStyle * ActiveColorset 8
MenuStyle * "$[infostore.font_mono]"

DestroyMenu GraphicsCADSubMenu
AddToMenu GraphicsCADSubMenu "Graphics/CAD" Title
+ "dia"            Exec exec dia
+ "Gimp"           Exec exec gimp
+ "Inkscape"       Exec exec inkscape
+ "Glade"          Exec exec glade-3

DestroyMenu NetSubMenu
AddToMenu NetSubMenu "Network/Internet" Title
+ "Firefox"        Exec exec firefox
+ "Transmission"   Exec exec transmission-gtk
+ "Pidgin"         Exec exec pidgin

DestroyMenu OfficeTextSubMenu
AddToMenu OfficeTextSubMenu "Office/Text" Title
+ "Emacs Client"   Exec exec emacsclient
+ "Emacs Server"   Exec exec emacs
+ "LibreOffice Writer"    Exec exec libreoffice --writer
+ "LibreOffice Calc"      Exec exec libreoffice --calc
+ "LibreOffice Impress"   Exec exec libreoffice --impress

DestroyMenu ConfigSubMenu
AddToMenu ConfigSubMenu "System Configuration" Title
+ "Printers"   Exec exec system-config-printer

# Replace Mouse Button 0 with my main ("start button") menu.
Mouse 0 R N Menu MainMenu

AddToMenu MainMenu "Main Menu" Title
+ "Home" Exec exec nautilus
+ "Terminal" Exec exec gnome-terminal
+ "xterm" Exec exec xterm -fg green -bg black -vb
+ "Network/Internet" Popup NetSubMenu
+ "Graphics/CAD" Popup GraphicsCADSubMenu
+ "Office/Text" Popup OfficeTextSubMenu
+ "System Configuration" Popup ConfigSubMenu
+ "" Nop
+ "RestartFvwm" Restart
+ "Quit Fvwm" Quit

# FvwmIdent is an xwininfo replacement.
DestroyModuleConfig FvwmIdent: *
*FvwmIdent: Back MidnightBlue
*FvwmIdent: Fore #f6f6f6
*FvwmIdent: Font "xft:snap"

# FvwmScroll swallows applications into smaller containers.
DestroyModuleConfig FvwmScroll: *
*FvwmScroll: Back #f6f6f6
*FvwmScroll: Fore #f6f6f6

DestroyFunc Thumbnail
AddToFunc Thumbnail
+ I Raise
+ I SetEnv Icon-$[w.id] $[w.iconfile]
+ I ThisWindow (!Shaded Iconifiable !Iconic) PipeRead \
    "xwd -silent -id $[w.id] | convert -scale $$(($[w.width]/5)) -frame 1x1 \
    -mattecolor black -quality 0 xwd:- png:$[fvwm_tmp]/icon.tmp.$[w.id].png \
    && echo Nop"
+ I TestRc (Match) Test (f $[fvwm_icon]/$[w.iconfile], f $[fvwm_tmp]/icon.tmp.$[w.id].png) \
    PipeRead "composite -geometry +2+4 \
    $[fvwm_icon]/$[w.iconfile] $[fvwm_tmp]/icon.tmp.$[w.id].png \
    $[fvwm_tmp]/icon.tmp.$[w.id].png && \
    echo WindowStyle IconOverride, Icon $[fvwm_tmp]/icon.tmp.$[w.id].png || echo Nop"
+ I TestRc (NoMatch) WindowStyle IconOverride, Icon $[fvwm_tmp]/icon.tmp.$[w.id].png
+ I Iconify

DestroyFunc DeThumbnail
AddToFunc DeThumbnail
+ I PipeRead "echo Test \\(i \\$\\[Icon-$[w.id]\\]\\) WindowStyle Icon \\$\\[Icon-$[w.id]\\]"
+ I TestRc (NoMatch) WindowStyle NoIconOverride, Icon
+ I Exec rm -f $[FVWM_USERDIR]/icon.tmp.$[w.id].png
+ I All (Iconic, CurrentPage) PlaceAgain icon
+ I UnsetEnv Icon-$[w.id]

# FvwmEvent
DestroyModuleConfig FvwmEvent: *
*FvwmEvent: deiconify DeThumbnail

DestroyFunc ReThumbnail
AddToFunc   ReThumbnail
+ I Iconify
+ I Thumbnail

# FvwmExpose
DestroyFunc FvwmExpose
AddToFunc FvwmExpose
+ I AddToMenu FvwmExposeMenu "e x p o s e" Title
+ I + DynamicPopDownAction DestroyMenu FvwmExposeMenu
+ I All (!Iconic !Shaded AcceptsFocus)\
    PipeRead "echo Raise; \
        xwd -silent -id $[w.id] | convert -scale $$(($[w.width]/10)) -quality 0 xwd:- \
        png:$[fvwm_home]/tmp/icon.exp.$[w.id].png \
    && echo AddToMenu FvwmExposeMenu \
    %$[fvwm_home]/tmp/icon.exp.$[w.id].png%\\\'\"$[w.name]\"\\\' WindowID $[w.id] WarpToWindow 50 50 \
        && echo AddToMenu FvwmExposeMenu \\\"\\\" Nop \
    || Nop"
+ I Popup FvwmExposeMenu
+ I Exec exec rm -f $[fvwm_home]/tmp/icon.exp.*

# Screenshot Functions (uses ImageMagick)
DestroyFunc FvwmWindowScreenshot
AddToFunc   FvwmWindowScreenshot
+ I ThisWindow (!Shaded !Iconic Iconifiable) \
  Exec import -window $[w.id] -quality 100 -silent \
  "$[fvwm_home]/screenshot/screenshot-`date +%F[%R]`.$[w.id].jpg"

DestroyFunc FvwmDesktopScreenshot
AddToFunc   FvwmDesktopScreenshot
+ I Exec sleep $0; import -window root -quality 100 -silent \
  "$[fvwm_home]/screenshot/screenshot-`date +%F[%R]`.jpg"

# Autohide console example: [4]http://dev.gentoo.org/~taviso/autohide_console.png
DestroyFunc StartHiddenConsole
AddToFunc StartHiddenConsole
+ I Exec exec rxvt +sb -geometry 144x8+2+0 -name HiddenConsole
+ I Wait HiddenConsole
+ I Autohide HiddenConsole 250 0 N

# These functions modified from the functions provided in the fvwm FAQ.
AddToFunc Autohide
+ I ThisWindow ($0) Deschedule $[w.id]
+ I TestRc (!Match) Deschedule -$[w.id]
+ I ThisWindow ($0) ThisWindow (shaded) AutohideShow $1 $3
+ I TestRc (!Match) All ($0, !shaded) AutohideHide $2 $3

AddToFunc AutohideShow
+ I Schedule $0 -$[w.id] WindowShade $1 off
+ I Schedule $0 -$[w.id] Raise
+ I Schedule $0 -$[w.id] Deschedule $[w.id]
+ I Schedule $0 -$[w.id] Deschedule -$[w.id]

AddToFunc AutohideHide
+ I Schedule $0 $[w.id] WindowShade $1 on
+ I Schedule $0 $[w.id] Deschedule $[w.id]
+ I Schedule $0 $[w.id] Deschedule -$[w.id]

AddToFunc WindowListFunc I WarpToWindow 50 50
DestroyFunc FuncAutoEnter
AddToFunc FuncAutoEnter I Autohide HiddenConsole 250 500 N

# Window Operation Menu
DestroyMenu Window-Ops
AddToMenu Window-Ops "Window Operations" Title
+ "Move%menu/window-move.xpm%"  Move
+ "Resize%menu/window-resize.xpm%"  Resize
+ "(De)Iconify%menu/window-iconify.xpm%"  Iconify
+ "(Un)Maximize%menu/window-maximize.xpm%"  Maximize
+ "(Un)Shade%menu/window-shade.xpm%"  WindowShade
+ "(Un)Stick%menu/window-stick.xpm%"  Stick
+ "" Nop
+ "Close%menu/window-close.xpm%"  Close
+ "Delete%menu/window-delete.xpm%"  Delete
+ "Destroy%menu/window-destroy.xpm%"  Destroy
+ "" Nop
+ "StaysOnTop%menu/window-raise.xpm%"  Pick (CirculateHit) Layer 0 6
+ "Layer +1%menu/window-raise.xpm%"  Pick (CirculateHit) Layer +1
+ "StaysPut%menu/window.xpm%"  Pick (CirculateHit) Layer 0 4
+ "Layer -1%menu/window-lower.xpm%"  Pick (CirculateHit) Layer -1
+ "StaysOnBottom%menu/window-lower.xpm%"  Pick (CirculateHit) Layer 0 2
+ "" Nop
+ "%menu/window.xpm%Window Screenshot"  Pick (CirculateHit) FvwmWindowScreenshot
+ "%menu/display.xpm%Screenshot" FvwmDesktopScreenshot 5
+ "" Nop
+ "Identify%menu/window-identify.xpm%"  Module FvwmIdent

DestroyMenu MenuFvwmModules
AddToMenu MenuFvwmModules
+   "Animation          "   Module FvwmAnimate
+   "Button-Bar         "   Module FvwmButtons
+   "Identify           "   Module FvwmIdent
+   "IconMan            "   Module FvwmIconMan
+   "Banner             "   Module FvwmBanner
+   "Console            "   Module FvwmConsole -terminal rxvt
+   "Pager              "   Module FvwmPager 0 1
+   "Backer             "   Module FvwmBacker
+   "ScrollBar          "   Module FvwmScroll 50 50
+   "FvwmTaskBar        "   Module FvwmTaskBar
+   "AutoRaise          "   Module FvwmAuto 200 Raise Nop
+   "WinList            "   Module FvwmWinList
+   ""                      Nop
+   "Stop Module        "   Popup  MenuFvwmStopModule

DestroyMenu MenuFvwmStopModule
AddToMenu MenuFvwmStopModule
+   "Stop Button-Bar    "   KillModule FvwmButtons
+   "Stop IconMan       "   KillModule FvwmIconMan
+   "Stop Pager         "   KillModule FvwmPager
+   "Stop Backer        "   KillModule FvwmBacker
+   "Stop ScrollBar     "   KillModule FvwmScroll
+   "Stop FvwmTaskBar   "   KillModule FvwmTaskBar
+   "Stop AutoRaise     "   KillModule FvwmAuto
+   "Stop WinList       "   KillModule FvwmWinList

DestroyMenu MenuPageList
AddToMenu MenuPageList
+ "1"   Pick MoveToPage 0 0
+ "2"   Pick MoveToPage 1 0
+ "3"   Pick MoveToPage 2 0
+ "4"   Pick MoveToPage 0 1
+ "5"   Pick MoveToPage 1 1
+ "6"   Pick MoveToPage 2 1
+ "7"   Pick MoveToPage 0 2
+ "8"   Pick MoveToPage 1 2
+ "9"   Pick MoveToPage 2 2

DestroyFunc         TopHalfMix
AddToFunc           TopHalfMix
+ "I" Maximize          100 50

DestroyFunc                     LeftHalfMix
AddToFunc                       LeftHalfMix
+ "I" Maximize                  50 100

DestroyFunc         FullScreen
AddToFunc           FullScreen
+ "I" Maximize          100 100

# Key bindings using Alt + Fn
Key F1   A   M   Menu MainMenu Nop
Key F2   A   M   Menu Window-Ops Nop
Key F3   A   M   WindowList
Key F4   A   M   Move
Key F10  A   M   Maximize   94 98

# Valid Contexts...combinations of:
# R=root window
# W=application window
# T=titlebar
# S=side, top, or bottom bar
# F=frame (corners)
# I=icon window
#
# Valid Modifiers...any combination of:
# N=no modifiers
# C=control
# S=shift
# M=meta
# L=caps lock
# A=any modifier

# windows close,max,mini
Mouse 0 4   A       Iconify
Mouse 0 2   A       Maximize-func
Mouse 0 1   A       Close
Mouse 0 3   A       Menu Window-Ops Nop
Mouse 1 4   A       Iconify
Mouse 1 2   A       Maximize-func
Mouse 1 1   A       Close
Mouse 1 3   A       Menu Window-Ops Nop

# main pop-up menus
Mouse 0 R       A       Menu MainMenu Nop
Mouse 1 R       A       Menu MainMenu Nop
Mouse 2 R       A       Menu MainMenu Nop
Mouse 3 R       A       Menu MainMenu Nop

# for when you click the edge of a window
Mouse 1 F   A   Resize-or-Raise
Mouse 1 T   A   Move-or-Raise
Mouse 1 I   A   Move-or-Iconify
Mouse 2 I   A   Iconify
Mouse 2 T   A   Menu Window-Ops Nop

# raise or lower window with mousebutton3
Mouse 2 SF   A   Move-or-Raise
Mouse 3 SF   A   Move-or-Raise

AddToFunc Move-or-Raise     "I" Raise
+ D Maximize-func
+ C Raise
+ C Focus
+ M Move

AddToFunc Move-or-Iconify   "I" Raise
+ M Move
+ C Iconify

AddToFunc Resize-or-Raise   "I" Raise
+ D Maximize-func
+ C Raise
+ C Focus
+ M Resize

AddToFunc Maximize-func     "M" Maximize   0   100
+ I ThisWindow (!Maximized) Maximize ewmhiwa true 94 97
+ I ThisWindow (Maximized) DestroyWindowStyle
+ I TestRc (!Match) WindowStyle, ResizeHintOverride, FixedPosition, FixedSize
+ I TestRc (!Match) Raise
+ I TestRc (!Match) UpdateStyles
+ I TestRc (NoMatch) Maximize ewmhiwa true 94 97

DestroyFunc WheelScroll
AddToFunc WheelScroll I PipeRead 'case $0 in \
      up) test $[page.ny] -eq $$(($[desk.pagesy]-1)) -a $[page.nx] -lt $$(($[desk.pagesx]-1)) \
         && echo GotoPage +1p 0 \
         || echo GotoPage 0p +1p;; \
      down) test $[page.ny] -eq 0 -a $[page.nx] -gt 0 \
         && echo GotoPage -1p $$(($[desk.pagesy]-1)) \
         || echo GotoPage 0p -1p;; \
   esac'

DestroyFunc ShowDesktop
AddToFunc ShowDesktop
+  I All (AcceptsFocus CurrentPage !Iconic !Shaded !ButtonDocks) Iconify

DestroyModuleConfig FvwmTaskBar: *
*FvwmTaskBar: Geometry +0-0
*FvwmTaskBar: Rows 1
*FvwmTaskBar: AutoStick
*FvwmTaskBar: UseSkipList
*FvwmTaskBar: PageOnly
*FvwmTaskBar: ShowTips
*FvwmTaskBar: NoBrightFocus
*FvwmTaskBar: 3DFvwm
*FvwmTaskBar: MailCheck 0
*FvwmTaskBar: ClockFormat %T [%d/%m/%y]
*FvwmTaskBar: WindowButtonsRightMargin 124
*FvwmTaskBar: Font "$[infostore.font_mono]"
*FvwmTaskBar: SelFont "$[infostore.font_mono]"
*FvwmTaskBar: StatusFont "$[infostore.font_mono]"
*FvwmTaskBar: TipsBack bisque
*FvwmTaskBar: TipsFore black
*FvwmTaskBar: Colorset 7
*FvwmTaskBar: FocusColorset 6
*FvwmTaskBar: UseIconNames
*FvwmTaskBar: StartName Start
*FvwmTaskBar: StartMenu MainMenu mouse c -100m -60p

# Key Bindings: ctrl-arrow shifts viewports, alt-arrow shifts desktops
Key Left  A C GotoPage -1p +0p
Key Right A C GotoPage +1p +0p
Key Up    A C GotoPage +0p -1p
Key Down  A C GotoPage +0p +1p
Key Left  A M GotoDesk -1 0 3
Key Right A M GotoDesk 1 0 3

# Save Alt-tab for emacs
Key Tab A M -

# Popup WindowList with the Windows "menu" key.
Key F15 A A  PickWindow

# Circulate through windows with left and right "window" keys.
Key F13  A A  Prev (CurrentPage !Sticky !Shaded !Iconic) RaiseAndFocus
Key F14  A A  Next (CurrentPage !Sticky !Shaded !Iconic) RaiseAndFocus

# Switch pages via keypad (no modifier)
Key KP_Home  A N  GotoPageFocus  0 0
Key KP_Up    A N  GotoPageFocus  1 0
Key KP_Prior A N  GotoPageFocus  2 0
Key KP_Left  A N  GotoPageFocus  0 1
Key KP_Begin A N  GotoPageFocus  1 1
Key KP_Right A N  GotoPageFocus  2 1
Key KP_End   A N  GotoPageFocus  0 2
Key KP_Down  A N  GotoPageFocus  1 2
Key KP_Next  A N  GotoPageFocus  2 2

# Move windows to strategic points on the current page via shift-keypad
Key KP_Home  A S  Move   0     0
Key KP_End   A S  Move   0    -0
Key KP_Prior A S  Move  -0     0
Key KP_Next  A S  Move  -0    -0
Key KP_Up    A S  Move 136p    0
Key KP_Down  A S  Move 136p   -0
Key KP_Left  A S  Move 136p   keep
Key KP_Right A S  Move  -0    keep
Key KP_Begin A S  PipeRead 'fvwm_center_window $[vp.width] $[vp.height] $[w.width] $[w.height]'

# Move a window to a different page via alt-keypad
Key KP_Home  A M  MoveToPage  0 0
Key KP_Up    A M  MoveToPage  1 0
Key KP_Prior A M  MoveToPage  2 0
Key KP_Left  A M  MoveToPage  0 1
Key KP_Begin A M  MoveToPage  1 1
Key KP_Right A M  MoveToPage  2 1
Key KP_End   A M  MoveToPage  0 2
Key KP_Down  A M  MoveToPage  1 2
Key KP_Next  A M  MoveToPage  2 2

# Move a window and follow it via ctrl-keypad
Key KP_Home  A C  MoveAndGotoPage  0 0
Key KP_Up    A C  MoveAndGotoPage  1 0
Key KP_Prior A C  MoveAndGotoPage  2 0
Key KP_Left  A C  MoveAndGotoPage  0 1
Key KP_Begin A C  MoveAndGotoPage  1 1
Key KP_Right A C  MoveAndGotoPage  2 1
Key KP_End   A C  MoveAndGotoPage  0 2
Key KP_Down  A C  MoveAndGotoPage  1 2
Key KP_Next  A C  MoveAndGotoPage  2 2

# Icon Manager
DestroyModuleConfig FvwmIconMan
*FvwmIconMan: NumManagers 1
*FvwmIconMan: Colorset 40
*FvwmIconMan: DrawIcons false
*FvwmIconMan: FocusAndSelectButton flat
*FvwmIconMan: FocusAndSelectColorset 40
*FvwmIconMan: FocusButton flat
*FvwmIconMan: FocusColorset 40
*FvwmIconMan: Font "$[infostore.font_mono]"
*FvwmIconMan: Format %t
*FvwmIconMan: IconButton flat
*FvwmIconMan: IconColorset 40
*FvwmIconMan: ManagerGeometry 1x20
*FvwmIconMan: PlainButton flat
*FvwmIconMan: PlainColorset 40
*FvwmIconMan: Resolution page
*FvwmIconMan: SelectButton flat
*FvwmIconMan: SelectColorset 40
*FvwmIconMan: Sort id
*FvwmIconMan: UseWinList true
*FvwmIconMan: Tips false
*FvwmIconMan: ReliefThickness 0
*FvwmIconMan: Title ""
*FvwmIconMan: Action   Mouse   1  N sendcommand Raise
*FvwmIconMan: Action   Mouse   2  N sendcommand 'WindowShade toggle'
*FvwmIconMan: Action   Mouse   3  N sendcommand Iconify
*FvwmIconMan: ButtonGeometry 150x20
*FvwmIconMan: MaxButtonWidth 300

# The following settings are interpreted by EMACS, do not remove them.
# Local Variables:
# mode: shell-script
# fill-column: 80
# coding: utf-8
# End:
